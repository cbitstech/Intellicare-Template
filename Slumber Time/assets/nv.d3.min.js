




<!DOCTYPE html>
<html>
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>nvd3/nv.d3.min.js at master · novus/nvd3 · GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub" />
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png" />
    <meta property="fb:app_id" content="1401488693436528"/>
    <meta content="@github" name="twitter:site" /><meta content="summary" name="twitter:card" /><meta content="novus/nvd3" name="twitter:title" /><meta content="Contribute to nvd3 development by creating an account on GitHub." name="twitter:description" /><meta content="https://1.gravatar.com/avatar/29cfe6f82ba958d8a89179b125758bc0?d=https%3A%2F%2Fidenticons.github.com%2F57eb4c99654193a755c2554b708d0045.png&amp;r=x&amp;s=400" name="twitter:image:src" />
<meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="https://1.gravatar.com/avatar/29cfe6f82ba958d8a89179b125758bc0?d=https%3A%2F%2Fidenticons.github.com%2F57eb4c99654193a755c2554b708d0045.png&amp;r=x&amp;s=400" property="og:image" /><meta content="novus/nvd3" property="og:title" /><meta content="https://github.com/novus/nvd3" property="og:url" /><meta content="Contribute to nvd3 development by creating an account on GitHub." property="og:description" />

    <meta name="hostname" content="github-fe127-cp1-prd.iad.github.net">
    <meta name="ruby" content="ruby 2.1.0p0-github-tcmalloc (60139581e1) [x86_64-linux]">
    <link rel="assets" href="https://github.global.ssl.fastly.net/">
    <link rel="conduit-xhr" href="https://ghconduit.com:25035/">
    <link rel="xhr-socket" href="/_sockets" />
    


    <meta name="msapplication-TileImage" content="/windows-tile.png" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="selected-link" value="repo_source" data-pjax-transient />
    <meta content="collector.githubapp.com" name="octolytics-host" /><meta content="collector-cdn.github.com" name="octolytics-script-host" /><meta content="github" name="octolytics-app-id" /><meta content="43AFA1EE:5BDA:6527E3:52E86799" name="octolytics-dimension-request_id" />
    

    
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <meta content="authenticity_token" name="csrf-param" />
<meta content="7Z2TojxqZmCPPxCjOz4SDuzeDZSkodtrqvXYThF7zpQ=" name="csrf-token" />

    <link href="https://github.global.ssl.fastly.net/assets/github-8ade070a1b3e2394638bbec2ae5539fd287de00e.css" media="all" rel="stylesheet" type="text/css" />
    <link href="https://github.global.ssl.fastly.net/assets/github2-165e332c68b6293610207853cb53407d56924cdf.css" media="all" rel="stylesheet" type="text/css" />
    


      <script src="https://github.global.ssl.fastly.net/assets/frameworks-2086b76396d7018acf390457357b14121f3e16f3.js" type="text/javascript"></script>
      <script async="async" defer="defer" src="https://github.global.ssl.fastly.net/assets/github-29423a3a76be35e1238a4142a63b3408a2fe8124.js" type="text/javascript"></script>
      
      <meta http-equiv="x-pjax-version" content="fecedf7597cee3fb660f91a4c0a7f865">

        <link data-pjax-transient rel='permalink' href='/novus/nvd3/blob/0c03b2794b0a7afe46913cbcefa17e380487dbcf/nv.d3.min.js'>

  <meta name="description" content="Contribute to nvd3 development by creating an account on GitHub." />

  <meta content="293390" name="octolytics-dimension-user_id" /><meta content="novus" name="octolytics-dimension-user_login" /><meta content="6709682" name="octolytics-dimension-repository_id" /><meta content="novus/nvd3" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="6709682" name="octolytics-dimension-repository_network_root_id" /><meta content="novus/nvd3" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/novus/nvd3/commits/master.atom" rel="alternate" title="Recent Commits to nvd3:master" type="application/atom+xml" />

  </head>


  <body class="logged_out  env-production windows vis-public page-blob">
    <div class="wrapper">
      
      
      
      


      
      <div class="header header-logged-out">
  <div class="container clearfix">

    <a class="header-logo-wordmark" href="https://github.com/">
      <span class="mega-octicon octicon-logo-github"></span>
    </a>

    <div class="header-actions">
        <a class="button primary" href="/join">Sign up</a>
      <a class="button signin" href="/login?return_to=%2Fnovus%2Fnvd3%2Fblob%2Fmaster%2Fnv.d3.min.js">Sign in</a>
    </div>

    <div class="command-bar js-command-bar  in-repository">

      <ul class="top-nav">
          <li class="explore"><a href="/explore">Explore</a></li>
        <li class="features"><a href="/features">Features</a></li>
          <li class="enterprise"><a href="https://enterprise.github.com/">Enterprise</a></li>
          <li class="blog"><a href="/blog">Blog</a></li>
      </ul>
        <form accept-charset="UTF-8" action="/search" class="command-bar-form" id="top_search_form" method="get">

<input type="text" data-hotkey="/ s" name="q" id="js-command-bar-field" placeholder="Search or type a command" tabindex="1" autocapitalize="off"
    
    
      data-repo="novus/nvd3"
      data-branch="master"
      data-sha="f5f26320e4c76075600d85bb4797cf8a4c2b0838"
  >

    <input type="hidden" name="nwo" value="novus/nvd3" />

    <div class="select-menu js-menu-container js-select-menu search-context-select-menu">
      <span class="minibutton select-menu-button js-menu-target">
        <span class="js-select-button">This repository</span>
      </span>

      <div class="select-menu-modal-holder js-menu-content js-navigation-container">
        <div class="select-menu-modal">

          <div class="select-menu-item js-navigation-item js-this-repository-navigation-item selected">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" class="js-search-this-repository" name="search_target" value="repository" checked="checked" />
            <div class="select-menu-item-text js-select-button-text">This repository</div>
          </div> <!-- /.select-menu-item -->

          <div class="select-menu-item js-navigation-item js-all-repositories-navigation-item">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" name="search_target" value="global" />
            <div class="select-menu-item-text js-select-button-text">All repositories</div>
          </div> <!-- /.select-menu-item -->

        </div>
      </div>
    </div>

  <span class="octicon help tooltipped downwards" title="Show command bar help">
    <span class="octicon octicon-question"></span>
  </span>


  <input type="hidden" name="ref" value="cmdform">

</form>
    </div>

  </div>
</div>


      


          <div class="site" itemscope itemtype="http://schema.org/WebPage">
    
    <div class="pagehead repohead instapaper_ignore readability-menu">
      <div class="container">
        

<ul class="pagehead-actions">


  <li>
    <a href="/login?return_to=%2Fnovus%2Fnvd3"
    class="minibutton with-count js-toggler-target star-button tooltipped upwards"
    title="You must be signed in to use this feature" rel="nofollow">
    <span class="octicon octicon-star"></span>Star
  </a>

    <a class="social-count js-social-count" href="/novus/nvd3/stargazers">
      1,919
    </a>

  </li>

    <li>
      <a href="/login?return_to=%2Fnovus%2Fnvd3"
        class="minibutton with-count js-toggler-target fork-button tooltipped upwards"
        title="You must be signed in to fork a repository" rel="nofollow">
        <span class="octicon octicon-git-branch"></span>Fork
      </a>
      <a href="/novus/nvd3/network" class="social-count">
        605
      </a>
    </li>
</ul>

        <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
          <span class="repo-label"><span>public</span></span>
          <span class="mega-octicon octicon-repo"></span>
          <span class="author">
            <a href="/novus" class="url fn" itemprop="url" rel="author"><span itemprop="title">novus</span></a>
          </span>
          <span class="repohead-name-divider">/</span>
          <strong><a href="/novus/nvd3" class="js-current-repository js-repo-home-link">nvd3</a></strong>

          <span class="page-context-loader">
            <img alt="Octocat-spinner-32" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
          </span>

        </h1>
      </div><!-- /.container -->
    </div><!-- /.repohead -->

    <div class="container">
      

      <div class="repository-with-sidebar repo-container  new-discussion-timeline js-new-discussion-timeline">

        <div class="repository-sidebar">
            

<div class="sunken-menu vertical-right repo-nav js-repo-nav js-repository-container-pjax js-octicon-loaders">
  <div class="sunken-menu-contents">
    <ul class="sunken-menu-group">
      <li class="tooltipped leftwards" title="Code">
        <a href="/novus/nvd3" aria-label="Code" class="selected js-selected-navigation-item sunken-menu-item" data-gotokey="c" data-pjax="true" data-selected-links="repo_source repo_downloads repo_commits repo_tags repo_branches /novus/nvd3">
          <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

        <li class="tooltipped leftwards" title="Issues">
          <a href="/novus/nvd3/issues" aria-label="Issues" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-gotokey="i" data-selected-links="repo_issues /novus/nvd3/issues">
            <span class="octicon octicon-issue-opened"></span> <span class="full-word">Issues</span>
            <span class='counter'>205</span>
            <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>        </li>

      <li class="tooltipped leftwards" title="Pull Requests">
        <a href="/novus/nvd3/pulls" aria-label="Pull Requests" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-gotokey="p" data-selected-links="repo_pulls /novus/nvd3/pulls">
            <span class="octicon octicon-git-pull-request"></span> <span class="full-word">Pull Requests</span>
            <span class='counter'>59</span>
            <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>


        <li class="tooltipped leftwards" title="Wiki">
          <a href="/novus/nvd3/wiki" aria-label="Wiki" class="js-selected-navigation-item sunken-menu-item" data-pjax="true" data-selected-links="repo_wiki /novus/nvd3/wiki">
            <span class="octicon octicon-book"></span> <span class="full-word">Wiki</span>
            <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>        </li>
    </ul>
    <div class="sunken-menu-separator"></div>
    <ul class="sunken-menu-group">

      <li class="tooltipped leftwards" title="Pulse">
        <a href="/novus/nvd3/pulse" aria-label="Pulse" class="js-selected-navigation-item sunken-menu-item" data-pjax="true" data-selected-links="pulse /novus/nvd3/pulse">
          <span class="octicon octicon-pulse"></span> <span class="full-word">Pulse</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

      <li class="tooltipped leftwards" title="Graphs">
        <a href="/novus/nvd3/graphs" aria-label="Graphs" class="js-selected-navigation-item sunken-menu-item" data-pjax="true" data-selected-links="repo_graphs repo_contributors /novus/nvd3/graphs">
          <span class="octicon octicon-graph"></span> <span class="full-word">Graphs</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

      <li class="tooltipped leftwards" title="Network">
        <a href="/novus/nvd3/network" aria-label="Network" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-selected-links="repo_network /novus/nvd3/network">
          <span class="octicon octicon-git-branch"></span> <span class="full-word">Network</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>
    </ul>


  </div>
</div>

              <div class="only-with-full-nav">
                

  

<div class="clone-url open"
  data-protocol-type="http"
  data-url="/users/set_protocol?protocol_selector=http&amp;protocol_type=clone">
  <h3><strong>HTTPS</strong> clone URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field"
           value="https://github.com/novus/nvd3.git" readonly="readonly">

    <span class="js-zeroclipboard url-box-clippy minibutton zeroclipboard-button" data-clipboard-text="https://github.com/novus/nvd3.git" data-copied-hint="copied!" title="copy to clipboard"><span class="octicon octicon-clippy"></span></span>
  </div>
</div>

  

<div class="clone-url "
  data-protocol-type="subversion"
  data-url="/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone">
  <h3><strong>Subversion</strong> checkout URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field"
           value="https://github.com/novus/nvd3" readonly="readonly">

    <span class="js-zeroclipboard url-box-clippy minibutton zeroclipboard-button" data-clipboard-text="https://github.com/novus/nvd3" data-copied-hint="copied!" title="copy to clipboard"><span class="octicon octicon-clippy"></span></span>
  </div>
</div>


<p class="clone-options">You can clone with
      <a href="#" class="js-clone-selector" data-protocol="http">HTTPS</a>,
      or <a href="#" class="js-clone-selector" data-protocol="subversion">Subversion</a>.
  <span class="octicon help tooltipped upwards" title="Get help on which URL is right for you.">
    <a href="https://help.github.com/articles/which-remote-url-should-i-use">
    <span class="octicon octicon-question"></span>
    </a>
  </span>
</p>


  <a href="http://windows.github.com" class="minibutton sidebar-button">
    <span class="octicon octicon-device-desktop"></span>
    Clone in Desktop
  </a>

                <a href="/novus/nvd3/archive/master.zip"
                   class="minibutton sidebar-button"
                   title="Download this repository as a zip file"
                   rel="nofollow">
                  <span class="octicon octicon-cloud-download"></span>
                  Download ZIP
                </a>
              </div>
        </div><!-- /.repository-sidebar -->

        <div id="js-repo-pjax-container" class="repository-content context-loader-container" data-pjax-container>
          


<!-- blob contrib key: blob_contributors:v21:f9bdd1ad7d21d232ff32b16256dd0b07 -->

<p title="This is a placeholder element" class="js-history-link-replace hidden"></p>

<a href="/novus/nvd3/find/master" data-pjax data-hotkey="t" class="js-show-file-finder" style="display:none">Show File Finder</a>

<div class="file-navigation">
  

<div class="select-menu js-menu-container js-select-menu" >
  <span class="minibutton select-menu-button js-menu-target" data-hotkey="w"
    data-master-branch="master"
    data-ref="master"
    role="button" aria-label="Switch branches or tags" tabindex="0">
    <span class="octicon octicon-git-branch"></span>
    <i>branch:</i>
    <span class="js-select-button">master</span>
  </span>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <span class="select-menu-title">Switch branches/tags</span>
        <span class="octicon octicon-remove-close js-menu-close"></span>
      </div> <!-- /.select-menu-header -->

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" class="js-select-menu-tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" class="js-select-menu-tab">Tags</a>
            </li>
          </ul>
        </div><!-- /.select-menu-tabs -->
      </div><!-- /.select-menu-filters -->

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/novus/nvd3/blob/development/nv.d3.min.js"
                 data-name="development"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="development">development</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/novus/nvd3/blob/gh-pages/nv.d3.min.js"
                 data-name="gh-pages"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="gh-pages">gh-pages</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item selected">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/novus/nvd3/blob/master/nv.d3.min.js"
                 data-name="master"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="master">master</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/novus/nvd3/blob/master-patched/nv.d3.min.js"
                 data-name="master-patched"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="master-patched">master-patched</a>
            </div> <!-- /.select-menu-item -->
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div> <!-- /.select-menu-list -->

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/novus/nvd3/tree/v1.1.15-beta/nv.d3.min.js"
                 data-name="v1.1.15-beta"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="v1.1.15-beta">v1.1.15-beta</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/novus/nvd3/tree/v1.1.15b/nv.d3.min.js"
                 data-name="v1.1.15b"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="v1.1.15b">v1.1.15b</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/novus/nvd3/tree/v1.1.14-beta/nv.d3.min.js"
                 data-name="v1.1.14-beta"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="v1.1.14-beta">v1.1.14-beta</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/novus/nvd3/tree/v1.1.13-beta/nv.d3.min.js"
                 data-name="v1.1.13-beta"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="v1.1.13-beta">v1.1.13-beta</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/novus/nvd3/tree/v1.1.12-beta/nv.d3.min.js"
                 data-name="v1.1.12-beta"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="v1.1.12-beta">v1.1.12-beta</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/novus/nvd3/tree/v1.1.10-beta/nv.d3.min.js"
                 data-name="v1.1.10-beta"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="v1.1.10-beta">v1.1.10-beta</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/novus/nvd3/tree/v1.0.0-beta/nv.d3.min.js"
                 data-name="v1.0.0-beta"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="v1.0.0-beta">v1.0.0-beta</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/novus/nvd3/tree/v0.9/nv.d3.min.js"
                 data-name="v0.9"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target"
                 title="v0.9">v0.9</a>
            </div> <!-- /.select-menu-item -->
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div> <!-- /.select-menu-list -->

    </div> <!-- /.select-menu-modal -->
  </div> <!-- /.select-menu-modal-holder -->
</div> <!-- /.select-menu -->

  <div class="breadcrumb">
    <span class='repo-root js-repo-root'><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/novus/nvd3" data-branch="master" data-direction="back" data-pjax="true" itemscope="url"><span itemprop="title">nvd3</span></a></span></span><span class="separator"> / </span><strong class="final-path">nv.d3.min.js</strong> <span class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="nv.d3.min.js" data-copied-hint="copied!" title="copy to clipboard"><span class="octicon octicon-clippy"></span></span>
  </div>
</div>


  <div class="commit file-history-tease">
    <img class="main-avatar" height="24" src="https://0.gravatar.com/avatar/05a97b6fb6b18ec9c355498b905cc268?d=https%3A%2F%2Fidenticons.github.com%2F4516f22bdb6c832553d80e1613896dad.png&amp;r=x&amp;s=140" width="24" />
    <span class="author"><a href="/robinfhu" rel="author">robinfhu</a></span>
    <time class="js-relative-date" datetime="2013-12-30T11:10:58-08:00" title="2013-12-30 11:10:58">December 30, 2013</time>
    <div class="commit-title">
        <a href="/novus/nvd3/commit/b8d6f750abc3f62fadb2fd685730a35d126ff8eb" class="message" data-pjax="true" title="Added defensive code to the height calculation for &lt;rect&gt; elements, in l...

...ineChart and scatter.js">Added defensive code to the height calculation for &lt;rect&gt; elements, i…</a>
    </div>

    <div class="participation">
      <p class="quickstat"><a href="#blob_contributors_box" rel="facebox"><strong>20</strong> contributors</a></p>
          <a class="avatar tooltipped downwards" title="bobmonteverde" href="/novus/nvd3/commits/master/nv.d3.min.js?author=bobmonteverde"><img height="20" src="https://0.gravatar.com/avatar/61cfb92ce2bf18f44ecf5941e6400fcb?d=https%3A%2F%2Fidenticons.github.com%2Fb6d859232d1f8f77e322a146b573f28b.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="robinfhu" href="/novus/nvd3/commits/master/nv.d3.min.js?author=robinfhu"><img height="20" src="https://0.gravatar.com/avatar/05a97b6fb6b18ec9c355498b905cc268?d=https%3A%2F%2Fidenticons.github.com%2F4516f22bdb6c832553d80e1613896dad.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="twolfnovus" href="/novus/nvd3/commits/master/nv.d3.min.js?author=twolfnovus"><img height="20" src="https://0.gravatar.com/avatar/eae23890bf9a65e491d44a48e906dbd8?d=https%3A%2F%2Fidenticons.github.com%2Fb0dbda3af2d9d7fbc45e61398c4cad46.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="fshao816" href="/novus/nvd3/commits/master/nv.d3.min.js?author=fshao816"><img height="20" src="https://1.gravatar.com/avatar/1365ac62aed9e050a5bc734451fe99cc?d=https%3A%2F%2Fidenticons.github.com%2F1fc56aab3a494d6457cb7433349cf1c6.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="neaf" href="/novus/nvd3/commits/master/nv.d3.min.js?author=neaf"><img height="20" src="https://1.gravatar.com/avatar/69a8803f52a80865ec72483795318ecf?d=https%3A%2F%2Fidenticons.github.com%2F98986c005e5def2da341b4e0627d4712.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="itay" href="/novus/nvd3/commits/master/nv.d3.min.js?author=itay"><img height="20" src="https://2.gravatar.com/avatar/3131d14cdd63203cba10b3a4484c3ec2?d=https%3A%2F%2Fidenticons.github.com%2Fac73001b1d44f4925449ce09d9f5d5ca.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="nadiasvertex" href="/novus/nvd3/commits/master/nv.d3.min.js?author=nadiasvertex"><img height="20" src="https://1.gravatar.com/avatar/67e3cdb502d7abded72424b29683b1b3?d=https%3A%2F%2Fidenticons.github.com%2F38fd8d97fedb513da360d6d2f4b3d5be.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="davejlong" href="/novus/nvd3/commits/master/nv.d3.min.js?author=davejlong"><img height="20" src="https://0.gravatar.com/avatar/0f4cd2db63210532694411de42a9e649?d=https%3A%2F%2Fidenticons.github.com%2F074bdd0c6c19ed53dea6e0d6d087a6d9.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="linjunpop" href="/novus/nvd3/commits/master/nv.d3.min.js?author=linjunpop"><img height="20" src="https://2.gravatar.com/avatar/c7b8c0b4ef05e68e2c92cd912eca414b?d=https%3A%2F%2Fidenticons.github.com%2F05bfc2032bd86fe7629fbd0398ae1280.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="OiNutter" href="/novus/nvd3/commits/master/nv.d3.min.js?author=OiNutter"><img height="20" src="https://0.gravatar.com/avatar/1863cc77d322b858d85b6ff665749e63?d=https%3A%2F%2Fidenticons.github.com%2Fb21539f852fbf66cd98cdd9c8351c1de.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="lihongxun945" href="/novus/nvd3/commits/master/nv.d3.min.js?author=lihongxun945"><img height="20" src="https://0.gravatar.com/avatar/1b11bfdcc5eeb43c5d8dc3596085f955?d=https%3A%2F%2Fidenticons.github.com%2Fdaf1a9e70f30ac0c87ed3f2ede42646f.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="latentflip" href="/novus/nvd3/commits/master/nv.d3.min.js?author=latentflip"><img height="20" src="https://0.gravatar.com/avatar/d9173c4a9c01926d9fc4d1dbc4cb17e1?d=https%3A%2F%2Fidenticons.github.com%2F50c9bb7ba8dc63b2880ab482e490fac9.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="lukesteensen" href="/novus/nvd3/commits/master/nv.d3.min.js?author=lukesteensen"><img height="20" src="https://1.gravatar.com/avatar/caa9c49252f34439971cb8cac0862bbc?d=https%3A%2F%2Fidenticons.github.com%2F381e3b78fb367776cd0ea4992cf58ac7.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="GerHobbelt" href="/novus/nvd3/commits/master/nv.d3.min.js?author=GerHobbelt"><img height="20" src="https://2.gravatar.com/avatar/96cd1af3aefe14ff4f803a7ef582d182?d=https%3A%2F%2Fidenticons.github.com%2F40cb9cfbfc51904eea092760799a7069.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="pbutler" href="/novus/nvd3/commits/master/nv.d3.min.js?author=pbutler"><img height="20" src="https://1.gravatar.com/avatar/b01d2e27f6bf8fce00c19d349af2e527?d=https%3A%2F%2Fidenticons.github.com%2F799011db17d1f7744d1ab8ed23c87663.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="arlm" href="/novus/nvd3/commits/master/nv.d3.min.js?author=arlm"><img height="20" src="https://1.gravatar.com/avatar/5a785d9124e4177cc258bd43784a674e?d=https%3A%2F%2Fidenticons.github.com%2F6728ea79f9a1a980dc0fe2b72c78c624.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="Mongey" href="/novus/nvd3/commits/master/nv.d3.min.js?author=Mongey"><img height="20" src="https://1.gravatar.com/avatar/b9034f38b451cdf991966dacf6d06b55?d=https%3A%2F%2Fidenticons.github.com%2Fc0a51841a9a6898315f1a500f55fc8c5.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="xkizer" href="/novus/nvd3/commits/master/nv.d3.min.js?author=xkizer"><img height="20" src="https://1.gravatar.com/avatar/012b2cb830f41375f267243428a4899c?d=https%3A%2F%2Fidenticons.github.com%2F295bb964915fc175d7bed27d418ba9c9.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="Marsup" href="/novus/nvd3/commits/master/nv.d3.min.js?author=Marsup"><img height="20" src="https://2.gravatar.com/avatar/7de6bfadc611153be54a3a563c155555?d=https%3A%2F%2Fidenticons.github.com%2F76eaf32dfa335ca056e9fc9280c73b3b.png&amp;r=x&amp;s=140" width="20" /></a>
    <a class="avatar tooltipped downwards" title="Ericrose512" href="/novus/nvd3/commits/master/nv.d3.min.js?author=Ericrose512"><img height="20" src="https://1.gravatar.com/avatar/b26cebd5f7270c385bf4daa5fed9eb5e?d=https%3A%2F%2Fidenticons.github.com%2Fd2e92ef23ced744e9310a59194fa01dc.png&amp;r=x&amp;s=140" width="20" /></a>


    </div>
    <div id="blob_contributors_box" style="display:none">
      <h2 class="facebox-header">Users who have contributed to this file</h2>
      <ul class="facebox-user-list">
          <li class="facebox-user-list-item">
            <img height="24" src="https://0.gravatar.com/avatar/61cfb92ce2bf18f44ecf5941e6400fcb?d=https%3A%2F%2Fidenticons.github.com%2Fb6d859232d1f8f77e322a146b573f28b.png&amp;r=x&amp;s=140" width="24" />
            <a href="/bobmonteverde">bobmonteverde</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://0.gravatar.com/avatar/05a97b6fb6b18ec9c355498b905cc268?d=https%3A%2F%2Fidenticons.github.com%2F4516f22bdb6c832553d80e1613896dad.png&amp;r=x&amp;s=140" width="24" />
            <a href="/robinfhu">robinfhu</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://0.gravatar.com/avatar/eae23890bf9a65e491d44a48e906dbd8?d=https%3A%2F%2Fidenticons.github.com%2Fb0dbda3af2d9d7fbc45e61398c4cad46.png&amp;r=x&amp;s=140" width="24" />
            <a href="/twolfnovus">twolfnovus</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://1.gravatar.com/avatar/1365ac62aed9e050a5bc734451fe99cc?d=https%3A%2F%2Fidenticons.github.com%2F1fc56aab3a494d6457cb7433349cf1c6.png&amp;r=x&amp;s=140" width="24" />
            <a href="/fshao816">fshao816</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://1.gravatar.com/avatar/69a8803f52a80865ec72483795318ecf?d=https%3A%2F%2Fidenticons.github.com%2F98986c005e5def2da341b4e0627d4712.png&amp;r=x&amp;s=140" width="24" />
            <a href="/neaf">neaf</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://2.gravatar.com/avatar/3131d14cdd63203cba10b3a4484c3ec2?d=https%3A%2F%2Fidenticons.github.com%2Fac73001b1d44f4925449ce09d9f5d5ca.png&amp;r=x&amp;s=140" width="24" />
            <a href="/itay">itay</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://1.gravatar.com/avatar/67e3cdb502d7abded72424b29683b1b3?d=https%3A%2F%2Fidenticons.github.com%2F38fd8d97fedb513da360d6d2f4b3d5be.png&amp;r=x&amp;s=140" width="24" />
            <a href="/nadiasvertex">nadiasvertex</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://0.gravatar.com/avatar/0f4cd2db63210532694411de42a9e649?d=https%3A%2F%2Fidenticons.github.com%2F074bdd0c6c19ed53dea6e0d6d087a6d9.png&amp;r=x&amp;s=140" width="24" />
            <a href="/davejlong">davejlong</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://2.gravatar.com/avatar/c7b8c0b4ef05e68e2c92cd912eca414b?d=https%3A%2F%2Fidenticons.github.com%2F05bfc2032bd86fe7629fbd0398ae1280.png&amp;r=x&amp;s=140" width="24" />
            <a href="/linjunpop">linjunpop</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://0.gravatar.com/avatar/1863cc77d322b858d85b6ff665749e63?d=https%3A%2F%2Fidenticons.github.com%2Fb21539f852fbf66cd98cdd9c8351c1de.png&amp;r=x&amp;s=140" width="24" />
            <a href="/OiNutter">OiNutter</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://0.gravatar.com/avatar/1b11bfdcc5eeb43c5d8dc3596085f955?d=https%3A%2F%2Fidenticons.github.com%2Fdaf1a9e70f30ac0c87ed3f2ede42646f.png&amp;r=x&amp;s=140" width="24" />
            <a href="/lihongxun945">lihongxun945</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://0.gravatar.com/avatar/d9173c4a9c01926d9fc4d1dbc4cb17e1?d=https%3A%2F%2Fidenticons.github.com%2F50c9bb7ba8dc63b2880ab482e490fac9.png&amp;r=x&amp;s=140" width="24" />
            <a href="/latentflip">latentflip</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://1.gravatar.com/avatar/caa9c49252f34439971cb8cac0862bbc?d=https%3A%2F%2Fidenticons.github.com%2F381e3b78fb367776cd0ea4992cf58ac7.png&amp;r=x&amp;s=140" width="24" />
            <a href="/lukesteensen">lukesteensen</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://2.gravatar.com/avatar/96cd1af3aefe14ff4f803a7ef582d182?d=https%3A%2F%2Fidenticons.github.com%2F40cb9cfbfc51904eea092760799a7069.png&amp;r=x&amp;s=140" width="24" />
            <a href="/GerHobbelt">GerHobbelt</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://1.gravatar.com/avatar/b01d2e27f6bf8fce00c19d349af2e527?d=https%3A%2F%2Fidenticons.github.com%2F799011db17d1f7744d1ab8ed23c87663.png&amp;r=x&amp;s=140" width="24" />
            <a href="/pbutler">pbutler</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://1.gravatar.com/avatar/5a785d9124e4177cc258bd43784a674e?d=https%3A%2F%2Fidenticons.github.com%2F6728ea79f9a1a980dc0fe2b72c78c624.png&amp;r=x&amp;s=140" width="24" />
            <a href="/arlm">arlm</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://1.gravatar.com/avatar/b9034f38b451cdf991966dacf6d06b55?d=https%3A%2F%2Fidenticons.github.com%2Fc0a51841a9a6898315f1a500f55fc8c5.png&amp;r=x&amp;s=140" width="24" />
            <a href="/Mongey">Mongey</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://1.gravatar.com/avatar/012b2cb830f41375f267243428a4899c?d=https%3A%2F%2Fidenticons.github.com%2F295bb964915fc175d7bed27d418ba9c9.png&amp;r=x&amp;s=140" width="24" />
            <a href="/xkizer">xkizer</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://2.gravatar.com/avatar/7de6bfadc611153be54a3a563c155555?d=https%3A%2F%2Fidenticons.github.com%2F76eaf32dfa335ca056e9fc9280c73b3b.png&amp;r=x&amp;s=140" width="24" />
            <a href="/Marsup">Marsup</a>
          </li>
          <li class="facebox-user-list-item">
            <img height="24" src="https://1.gravatar.com/avatar/b26cebd5f7270c385bf4daa5fed9eb5e?d=https%3A%2F%2Fidenticons.github.com%2Fd2e92ef23ced744e9310a59194fa01dc.png&amp;r=x&amp;s=140" width="24" />
            <a href="/Ericrose512">Ericrose512</a>
          </li>
      </ul>
    </div>
  </div>

<div id="files" class="bubble">
  <div class="file">
    <div class="meta">
      <div class="info">
        <span class="icon"><b class="octicon octicon-file-text"></b></span>
        <span class="mode" title="File Mode">file</span>
          <span>6 lines (6 sloc)</span>
        <span>188.305 kb</span>
      </div>
      <div class="actions">
        <div class="button-group">
            <a class="minibutton tooltipped leftwards"
               href="http://windows.github.com" title="Open this file in GitHub for Windows">
                <span class="octicon octicon-device-desktop"></span> Open
            </a>
              <a class="minibutton disabled tooltipped leftwards" href="#"
                 title="You must be signed in to make or propose changes">Edit</a>
          <a href="/novus/nvd3/raw/master/nv.d3.min.js" class="button minibutton " id="raw-url">Raw</a>
            <a href="/novus/nvd3/blame/master/nv.d3.min.js" class="button minibutton js-update-url-with-hash">Blame</a>
          <a href="/novus/nvd3/commits/master/nv.d3.min.js" class="button minibutton " rel="nofollow">History</a>
        </div><!-- /.button-group -->
          <a class="minibutton danger disabled empty-icon tooltipped leftwards" href="#"
             title="You must be signed in to make or propose changes">
          Delete
        </a>
      </div><!-- /.actions -->
    </div>
        <div class="blob-wrapper data type-javascript js-blob-data">
        <table class="file-code file-diff">
          <tr class="file-code-line">
            <td class="blob-line-nums">
              <span id="L1" rel="#L1">1</span>
<span id="L2" rel="#L2">2</span>
<span id="L3" rel="#L3">3</span>
<span id="L4" rel="#L4">4</span>
<span id="L5" rel="#L5">5</span>
<span id="L6" rel="#L6">6</span>

            </td>
            <td class="blob-line-code">
                  <div class="code-body highlight"><pre><div class='line' id='LC1'>(function(){function t(e,t){return(new Date(t,e+1,0)).getDate()}function n(e,t,n){return function(r,i,s){var o=e(r),u=[];o&lt;r&amp;&amp;t(o);if(s&gt;1)while(o&lt;i){var a=new Date(+o);n(a)%s===0&amp;&amp;u.push(a),t(o)}else while(o&lt;i)u.push(new Date(+o)),t(o);return u}}var e=window.nv||{};e.version=&quot;1.1.15b&quot;,e.dev=!0,window.nv=e,e.tooltip=e.tooltip||{},e.utils=e.utils||{},e.models=e.models||{},e.charts={},e.graphs=[],e.logs={},e.dispatch=d3.dispatch(&quot;render_start&quot;,&quot;render_end&quot;),e.dev&amp;&amp;(e.dispatch.on(&quot;render_start&quot;,function(t){e.logs.startTime=+(new Date)}),e.dispatch.on(&quot;render_end&quot;,function(t){e.logs.endTime=+(new Date),e.logs.totalTime=e.logs.endTime-e.logs.startTime,e.log(&quot;total&quot;,e.logs.totalTime)})),e.log=function(){if(e.dev&amp;&amp;console.log&amp;&amp;console.log.apply)console.log.apply(console,arguments);else if(e.dev&amp;&amp;typeof console.log==&quot;function&quot;&amp;&amp;Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]},e.render=function(n){n=n||1,e.render.active=!0,e.dispatch.render_start(),setTimeout(function(){var t,r;for(var i=0;i&lt;n&amp;&amp;(r=e.render.queue[i]);i++)t=r.generate(),typeof r.callback==typeof Function&amp;&amp;r.callback(t),e.graphs.push(t);e.render.queue.splice(0,i),e.render.queue.length?setTimeout(arguments.callee,0):(e.dispatch.render_end(),e.render.active=!1)},0)},e.render.active=!1,e.render.queue=[],e.addGraph=function(t){typeof arguments[0]==typeof Function&amp;&amp;(t={generate:arguments[0],callback:arguments[1]}),e.render.queue.push(t),e.render.active||e.render()},e.identity=function(e){return e},e.strip=function(e){return e.replace(/(\s|&amp;)/g,&quot;&quot;)},d3.time.monthEnd=function(e){return new Date(e.getFullYear(),e.getMonth(),0)},d3.time.monthEnds=n(d3.time.monthEnd,function(e){e.setUTCDate(e.getUTCDate()+1),e.setDate(t(e.getMonth()+1,e.getFullYear()))},function(e){return e.getMonth()}),e.interactiveGuideline=function(){&quot;use strict&quot;;function c(o){o.each(function(o){function g(){var e=d3.mouse(this),n=e[0],r=e[1],o=!0,a=!1;l&amp;&amp;(n=d3.event.offsetX,r=d3.event.offsetY,d3.event.target.tagName!==&quot;svg&quot;&amp;&amp;(o=!1),d3.event.target.className.baseVal.match(&quot;nv-legend&quot;)&amp;&amp;(a=!0)),o&amp;&amp;(n-=i.left,r-=i.top);if(n&lt;0||r&lt;0||n&gt;p||r&gt;d||d3.event.relatedTarget&amp;&amp;d3.event.relatedTarget.ownerSVGElement===undefined||a){if(l&amp;&amp;d3.event.relatedTarget&amp;&amp;d3.event.relatedTarget.ownerSVGElement===undefined&amp;&amp;d3.event.relatedTarget.className.match(t.nvPointerEventsClass))return;u.elementMouseout({mouseX:n,mouseY:r}),c.renderGuideLine(null);return}var f=s.invert(n);u.elementMousemove({mouseX:n,mouseY:r,pointXValue:f}),d3.event.type===&quot;dblclick&quot;&amp;&amp;u.elementDblclick({mouseX:n,mouseY:r,pointXValue:f})}var h=d3.select(this),p=n||960,d=r||400,v=h.selectAll(&quot;g.nv-wrap.nv-interactiveLineLayer&quot;).data([o]),m=v.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot; nv-wrap nv-interactiveLineLayer&quot;);m.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-interactiveGuideLine&quot;);if(!f)return;f.on(&quot;mousemove&quot;,g,!0).on(&quot;mouseout&quot;,g,!0).on(&quot;dblclick&quot;,g),c.renderGuideLine=function(t){if(!a)return;var n=v.select(&quot;.nv-interactiveGuideLine&quot;).selectAll(&quot;line&quot;).data(t!=null?[e.utils.NaNtoZero(t)]:[],String);n.enter().append(&quot;line&quot;).attr(&quot;class&quot;,&quot;nv-guideline&quot;).attr(&quot;x1&quot;,function(e){return e}).attr(&quot;x2&quot;,function(e){return e}).attr(&quot;y1&quot;,d).attr(&quot;y2&quot;,0),n.exit().remove()}})}var t=e.models.tooltip(),n=null,r=null,i={left:0,top:0},s=d3.scale.linear(),o=d3.scale.linear(),u=d3.dispatch(&quot;elementMousemove&quot;,&quot;elementMouseout&quot;,&quot;elementDblclick&quot;),a=!0,f=null,l=navigator.userAgent.indexOf(&quot;MSIE&quot;)!==-1;return c.dispatch=u,c.tooltip=t,c.margin=function(e){return arguments.length?(i.top=typeof e.top!=&quot;undefined&quot;?e.top:i.top,i.left=typeof e.left!=&quot;undefined&quot;?e.left:i.left,c):i},c.width=function(e){return arguments.length?(n=e,c):n},c.height=function(e){return arguments.length?(r=e,c):r},c.xScale=function(e){return arguments.length?(s=e,c):s},c.showGuideLine=function(e){return arguments.length?(a=e,c):a},c.svgContainer=function(e){return arguments.length?(f=e,c):f},c},e.interactiveBisect=function(e,t,n){&quot;use strict&quot;;if(!e instanceof Array)return null;typeof n!=&quot;function&quot;&amp;&amp;(n=function(e,t){return e.x});var r=d3.bisector(n).left,i=d3.max([0,r(e,t)-1]),s=n(e[i],i);typeof s==&quot;undefined&quot;&amp;&amp;(s=i);if(s===t)return i;var o=d3.min([i+1,e.length-1]),u=n(e[o],o);return typeof u==&quot;undefined&quot;&amp;&amp;(u=o),Math.abs(u-t)&gt;=Math.abs(s-t)?i:o},e.nearestValueIndex=function(e,t,n){&quot;use strict&quot;;var r=Infinity,i=null;return e.forEach(function(e,s){var o=Math.abs(t-e);o&lt;=r&amp;&amp;o&lt;n&amp;&amp;(r=o,i=s)}),i},function(){&quot;use strict&quot;;window.nv.tooltip={},window.nv.models.tooltip=function(){function y(){if(a){var e=d3.select(a);e.node().tagName!==&quot;svg&quot;&amp;&amp;(e=e.select(&quot;svg&quot;));var t=e.node()?e.attr(&quot;viewBox&quot;):null;if(t){t=t.split(&quot; &quot;);var n=parseInt(e.style(&quot;width&quot;))/t[2];l.left=l.left*n,l.top=l.top*n}}}function b(e){var t;a?t=d3.select(a):t=d3.select(&quot;body&quot;);var n=t.select(&quot;.nvtooltip&quot;);return n.node()===null&amp;&amp;(n=t.append(&quot;div&quot;).attr(&quot;class&quot;,&quot;nvtooltip &quot;+(u?u:&quot;xy-tooltip&quot;)).attr(&quot;id&quot;,h)),n.node().innerHTML=e,n.style(&quot;top&quot;,0).style(&quot;left&quot;,0).style(&quot;opacity&quot;,0),n.selectAll(&quot;div, table, td, tr&quot;).classed(p,!0),n.classed(p,!0),n.node()}function w(){if(!c)return;if(!g(n))return;y();var t=l.left,u=o!=null?o:l.top,h=b(m(n));f=h;if(a){var p=a.getElementsByTagName(&quot;svg&quot;)[0],d=p?p.getBoundingClientRect():a.getBoundingClientRect(),v={left:0,top:0};if(p){var E=p.getBoundingClientRect(),S=a.getBoundingClientRect(),x=E.top;if(x&lt;0){var T=a.getBoundingClientRect();x=Math.abs(x)&gt;T.height?0:x}v.top=Math.abs(x-S.top),v.left=Math.abs(E.left-S.left)}t+=a.offsetLeft+v.left-2*a.scrollLeft,u+=a.offsetTop+v.top-2*a.scrollTop}return s&amp;&amp;s&gt;0&amp;&amp;(u=Math.floor(u/s)*s),e.tooltip.calcTooltipPosition([t,u],r,i,h),w}var t=null,n=null,r=&quot;w&quot;,i=50,s=25,o=null,u=null,a=null,f=null,l={left:null,top:null},c=!0,h=&quot;nvtooltip-&quot;+Math.floor(Math.random()*1e5),p=&quot;nv-pointer-events-none&quot;,d=function(e,t){return e},v=function(e){return e},m=function(e){if(t!=null)return t;if(e==null)return&quot;&quot;;var n=d3.select(document.createElement(&quot;table&quot;)),r=n.selectAll(&quot;thead&quot;).data([e]).enter().append(&quot;thead&quot;);r.append(&quot;tr&quot;).append(&quot;td&quot;).attr(&quot;colspan&quot;,3).append(&quot;strong&quot;).classed(&quot;x-value&quot;,!0).html(v(e.value));var i=n.selectAll(&quot;tbody&quot;).data([e]).enter().append(&quot;tbody&quot;),s=i.selectAll(&quot;tr&quot;).data(function(e){return e.series}).enter().append(&quot;tr&quot;).classed(&quot;highlight&quot;,function(e){return e.highlight});s.append(&quot;td&quot;).classed(&quot;legend-color-guide&quot;,!0).append(&quot;div&quot;).style(&quot;background-color&quot;,function(e){return e.color}),s.append(&quot;td&quot;).classed(&quot;key&quot;,!0).html(function(e){return e.key}),s.append(&quot;td&quot;).classed(&quot;value&quot;,!0).html(function(e,t){return d(e.value,t)}),s.selectAll(&quot;td&quot;).each(function(e){if(e.highlight){var t=d3.scale.linear().domain([0,1]).range([&quot;#fff&quot;,e.color]),n=.6;d3.select(this).style(&quot;border-bottom-color&quot;,t(n)).style(&quot;border-top-color&quot;,t(n))}});var o=n.node().outerHTML;return e.footer!==undefined&amp;&amp;(o+=&quot;&lt;div class=&#39;footer&#39;&gt;&quot;+e.footer+&quot;&lt;/div&gt;&quot;),o},g=function(e){return e&amp;&amp;e.series&amp;&amp;e.series.length&gt;0?!0:!1};return w.nvPointerEventsClass=p,w.content=function(e){return arguments.length?(t=e,w):t},w.tooltipElem=function(){return f},w.contentGenerator=function(e){return arguments.length?(typeof e==&quot;function&quot;&amp;&amp;(m=e),w):m},w.data=function(e){return arguments.length?(n=e,w):n},w.gravity=function(e){return arguments.length?(r=e,w):r},w.distance=function(e){return arguments.length?(i=e,w):i},w.snapDistance=function(e){return arguments.length?(s=e,w):s},w.classes=function(e){return arguments.length?(u=e,w):u},w.chartContainer=function(e){return arguments.length?(a=e,w):a},w.position=function(e){return arguments.length?(l.left=typeof e.left!=&quot;undefined&quot;?e.left:l.left,l.top=typeof e.top!=&quot;undefined&quot;?e.top:l.top,w):l},w.fixedTop=function(e){return arguments.length?(o=e,w):o},w.enabled=function(e){return arguments.length?(c=e,w):c},w.valueFormatter=function(e){return arguments.length?(typeof e==&quot;function&quot;&amp;&amp;(d=e),w):d},w.headerFormatter=function(e){return arguments.length?(typeof e==&quot;function&quot;&amp;&amp;(v=e),w):v},w.id=function(){return h},w},e.tooltip.show=function(t,n,r,i,s,o){var u=document.createElement(&quot;div&quot;);u.className=&quot;nvtooltip &quot;+(o?o:&quot;xy-tooltip&quot;);var a=s;if(!s||s.tagName.match(/g|svg/i))a=document.getElementsByTagName(&quot;body&quot;)[0];u.style.left=0,u.style.top=0,u.style.opacity=0,u.innerHTML=n,a.appendChild(u),s&amp;&amp;(t[0]=t[0]-s.scrollLeft,t[1]=t[1]-s.scrollTop),e.tooltip.calcTooltipPosition(t,r,i,u)},e.tooltip.findFirstNonSVGParent=function(e){while(e.tagName.match(/^g|svg$/i)!==null)e=e.parentNode;return e},e.tooltip.findTotalOffsetTop=function(e,t){var n=t;do isNaN(e.offsetTop)||(n+=e.offsetTop);while(e=e.offsetParent);return n},e.tooltip.findTotalOffsetLeft=function(e,t){var n=t;do isNaN(e.offsetLeft)||(n+=e.offsetLeft);while(e=e.offsetParent);return n},e.tooltip.calcTooltipPosition=function(t,n,r,i){var s=parseInt(i.offsetHeight),o=parseInt(i.offsetWidth),u=e.utils.windowSize().width,a=e.utils.windowSize().height,f=window.pageYOffset,l=window.pageXOffset,c,h;a=window.innerWidth&gt;=document.body.scrollWidth?a:a-16,u=window.innerHeight&gt;=document.body.scrollHeight?u:u-16,n=n||&quot;s&quot;,r=r||20;var p=function(t){return e.tooltip.findTotalOffsetTop(t,h)},d=function(t){return e.tooltip.findTotalOffsetLeft(t,c)};switch(n){case&quot;e&quot;:c=t[0]-o-r,h=t[1]-s/2;var v=d(i),m=p(i);v&lt;l&amp;&amp;(c=t[0]+r&gt;l?t[0]+r:l-v+c),m&lt;f&amp;&amp;(h=f-m+h),m+s&gt;f+a&amp;&amp;(h=f+a-m+h-s);break;case&quot;w&quot;:c=t[0]+r,h=t[1]-s/2;var v=d(i),m=p(i);v+o&gt;u&amp;&amp;(c=t[0]-o-r),m&lt;f&amp;&amp;(h=f+5),m+s&gt;f+a&amp;&amp;(h=f+a-m+h-s);break;case&quot;n&quot;:c=t[0]-o/2-5,h=t[1]+r;var v=d(i),m=p(i);v&lt;l&amp;&amp;(c=l+5),v+o&gt;u&amp;&amp;(c=c-o/2+5),m+s&gt;f+a&amp;&amp;(h=f+a-m+h-s);break;case&quot;s&quot;:c=t[0]-o/2,h=t[1]-s-r;var v=d(i),m=p(i);v&lt;l&amp;&amp;(c=l+5),v+o&gt;u&amp;&amp;(c=c-o/2+5),f&gt;m&amp;&amp;(h=f);break;case&quot;none&quot;:c=t[0],h=t[1]-r;var v=d(i),m=p(i)}return i.style.left=c+&quot;px&quot;,i.style.top=h+&quot;px&quot;,i.style.opacity=1,i.style.position=&quot;absolute&quot;,i},e.tooltip.cleanup=function(){var e=document.getElementsByClassName(&quot;nvtooltip&quot;),t=[];while(e.length)t.push(e[0]),e[0].style.transitionDelay=&quot;0 !important&quot;,e[0].style.opacity=0,e[0].className=&quot;nvtooltip-pending-removal&quot;;setTimeout(function(){while(t.length){var e=t.pop();e.parentNode.removeChild(e)}},500)}}(),e.utils.windowSize=function(){var e={width:640,height:480};return document.body&amp;&amp;document.body.offsetWidth&amp;&amp;(e.width=document.body.offsetWidth,e.height=document.body.offsetHeight),document.compatMode==&quot;CSS1Compat&quot;&amp;&amp;document.documentElement&amp;&amp;document.documentElement.offsetWidth&amp;&amp;(e.width=document.documentElement.offsetWidth,e.height=document.documentElement.offsetHeight),window.innerWidth&amp;&amp;window.innerHeight&amp;&amp;(e.width=window.innerWidth,e.height=window.innerHeight),e},e.utils.windowResize=function(e){if(e===undefined)return;var t=window.onresize;window.onresize=function(n){typeof t==&quot;function&quot;&amp;&amp;t(n),e(n)}},e.utils.getColor=function(t){return arguments.length?Object.prototype.toString.call(t)===&quot;[object Array]&quot;?function(e,n){return e.color||t[n%t.length]}:t:e.utils.defaultColor()},e.utils.defaultColor=function(){var e=d3.scale.category20().range();return function(t,n){return t.color||e[n%e.length]}},e.utils.customTheme=function(e,t,n){t=t||function(e){return e.key},n=n||d3.scale.category20().range();var r=n.length;return function(i,s){var o=t(i);return r||(r=n.length),typeof e[o]!=&quot;undefined&quot;?typeof e[o]==&quot;function&quot;?e[o]():e[o]:n[--r]}},e.utils.pjax=function(t,n){function r(r){d3.html(r,function(r){var i=d3.select(n).node();i.parentNode.replaceChild(d3.select(r).select(n).node(),i),e.utils.pjax(t,n)})}d3.selectAll(t).on(&quot;click&quot;,function(){history.pushState(this.href,this.textContent,this.href),r(this.href),d3.event.preventDefault()}),d3.select(window).on(&quot;popstate&quot;,function(){d3.event.state&amp;&amp;r(d3.event.state)})},e.utils.calcApproxTextWidth=function(e){if(typeof e.style==&quot;function&quot;&amp;&amp;typeof e.text==&quot;function&quot;){var t=parseInt(e.style(&quot;font-size&quot;).replace(&quot;px&quot;,&quot;&quot;)),n=e.text().length;return n*t*.5}return 0},e.utils.NaNtoZero=function(e){return typeof e!=&quot;number&quot;||isNaN(e)||e===null||e===Infinity?0:e},e.utils.optionsFunc=function(e){return e&amp;&amp;d3.map(e).forEach(function(e,t){typeof this[e]==&quot;function&quot;&amp;&amp;this[e](t)}.bind(this)),this},e.models.axis=function(){&quot;use strict&quot;;function m(e){return e.each(function(e){var i=d3.select(this),m=i.selectAll(&quot;g.nv-wrap.nv-axis&quot;).data([e]),g=m.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-axis&quot;),y=g.append(&quot;g&quot;),b=m.select(&quot;g&quot;);p!==null?t.ticks(p):(t.orient()==&quot;top&quot;||t.orient()==&quot;bottom&quot;)&amp;&amp;t.ticks(Math.abs(s.range()[1]-s.range()[0])/100),b.transition().call(t),v=v||t.scale();var w=t.tickFormat();w==null&amp;&amp;(w=v.tickFormat());var E=b.selectAll(&quot;text.nv-axislabel&quot;).data([o||null]);E.exit().remove();switch(t.orient()){case&quot;top&quot;:E.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nv-axislabel&quot;);var S=s.range().length==2?s.range()[1]:s.range()[s.range().length-1]+(s.range()[1]-s.range()[0]);E.attr(&quot;text-anchor&quot;,&quot;middle&quot;).attr(&quot;y&quot;,0).attr(&quot;x&quot;,S/2);if(u){var x=m.selectAll(&quot;g.nv-axisMaxMin&quot;).data(s.domain());x.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-axisMaxMin&quot;).append(&quot;text&quot;),x.exit().remove(),x.attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+s(e)+&quot;,0)&quot;}).select(&quot;text&quot;).attr(&quot;dy&quot;,&quot;-0.5em&quot;).attr(&quot;y&quot;,-t.tickPadding()).attr(&quot;text-anchor&quot;,&quot;middle&quot;).text(function(e,t){var n=w(e);return(&quot;&quot;+n).match(&quot;NaN&quot;)?&quot;&quot;:n}),x.transition().attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+s.range()[t]+&quot;,0)&quot;})}break;case&quot;bottom&quot;:var T=36,N=30,C=b.selectAll(&quot;g&quot;).select(&quot;text&quot;);if(f%360){C.each(function(e,t){var n=this.getBBox().width;n&gt;N&amp;&amp;(N=n)});var k=Math.abs(Math.sin(f*Math.PI/180)),T=(k?k*N:N)+30;C.attr(&quot;transform&quot;,function(e,t,n){return&quot;rotate(&quot;+f+&quot; 0,0)&quot;}).style(&quot;text-anchor&quot;,f%360&gt;0?&quot;start&quot;:&quot;end&quot;)}E.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nv-axislabel&quot;);var S=s.range().length==2?s.range()[1]:s.range()[s.range().length-1]+(s.range()[1]-s.range()[0]);E.attr(&quot;text-anchor&quot;,&quot;middle&quot;).attr(&quot;y&quot;,T).attr(&quot;x&quot;,S/2);if(u){var x=m.selectAll(&quot;g.nv-axisMaxMin&quot;).data([s.domain()[0],s.domain()[s.domain().length-1]]);x.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-axisMaxMin&quot;).append(&quot;text&quot;),x.exit().remove(),x.attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+(s(e)+(h?s.rangeBand()/2:0))+&quot;,0)&quot;}).select(&quot;text&quot;).attr(&quot;dy&quot;,&quot;.71em&quot;).attr(&quot;y&quot;,t.tickPadding()).attr(&quot;transform&quot;,function(e,t,n){return&quot;rotate(&quot;+f+&quot; 0,0)&quot;}).style(&quot;text-anchor&quot;,f?f%360&gt;0?&quot;start&quot;:&quot;end&quot;:&quot;middle&quot;).text(function(e,t){var n=w(e);return(&quot;&quot;+n).match(&quot;NaN&quot;)?&quot;&quot;:n}),x.transition().attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+(s(e)+(h?s.rangeBand()/2:0))+&quot;,0)&quot;})}c&amp;&amp;C.attr(&quot;transform&quot;,function(e,t){return&quot;translate(0,&quot;+(t%2==0?&quot;0&quot;:&quot;12&quot;)+&quot;)&quot;});break;case&quot;right&quot;:E.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nv-axislabel&quot;),E.style(&quot;text-anchor&quot;,l?&quot;middle&quot;:&quot;begin&quot;).attr(&quot;transform&quot;,l?&quot;rotate(90)&quot;:&quot;&quot;).attr(&quot;y&quot;,l?-Math.max(n.right,r)+12:-10).attr(&quot;x&quot;,l?s.range()[0]/2:t.tickPadding());if(u){var x=m.selectAll(&quot;g.nv-axisMaxMin&quot;).data(s.domain());x.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-axisMaxMin&quot;).append(&quot;text&quot;).style(&quot;opacity&quot;,0),x.exit().remove(),x.attr(&quot;transform&quot;,function(e,t){return&quot;translate(0,&quot;+s(e)+&quot;)&quot;}).select(&quot;text&quot;).attr(&quot;dy&quot;,&quot;.32em&quot;).attr(&quot;y&quot;,0).attr(&quot;x&quot;,t.tickPadding()).style(&quot;text-anchor&quot;,&quot;start&quot;).text(function(e,t){var n=w(e);return(&quot;&quot;+n).match(&quot;NaN&quot;)?&quot;&quot;:n}),x.transition().attr(&quot;transform&quot;,function(e,t){return&quot;translate(0,&quot;+s.range()[t]+&quot;)&quot;}).select(&quot;text&quot;).style(&quot;opacity&quot;,1)}break;case&quot;left&quot;:E.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nv-axislabel&quot;),E.style(&quot;text-anchor&quot;,l?&quot;middle&quot;:&quot;end&quot;).attr(&quot;transform&quot;,l?&quot;rotate(-90)&quot;:&quot;&quot;).attr(&quot;y&quot;,l?-Math.max(n.left,r)+d:-10).attr(&quot;x&quot;,l?-s.range()[0]/2:-t.tickPadding());if(u){var x=m.selectAll(&quot;g.nv-axisMaxMin&quot;).data(s.domain());x.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-axisMaxMin&quot;).append(&quot;text&quot;).style(&quot;opacity&quot;,0),x.exit().remove(),x.attr(&quot;transform&quot;,function(e,t){return&quot;translate(0,&quot;+v(e)+&quot;)&quot;}).select(&quot;text&quot;).attr(&quot;dy&quot;,&quot;.32em&quot;).attr(&quot;y&quot;,0).attr(&quot;x&quot;,-t.tickPadding()).attr(&quot;text-anchor&quot;,&quot;end&quot;).text(function(e,t){var n=w(e);return(&quot;&quot;+n).match(&quot;NaN&quot;)?&quot;&quot;:n}),x.transition().attr(&quot;transform&quot;,function(e,t){return&quot;translate(0,&quot;+s.range()[t]+&quot;)&quot;}).select(&quot;text&quot;).style(&quot;opacity&quot;,1)}}E.text(function(e){return e}),u&amp;&amp;(t.orient()===&quot;left&quot;||t.orient()===&quot;right&quot;)&amp;&amp;(b.selectAll(&quot;g&quot;).each(function(e,t){d3.select(this).select(&quot;text&quot;).attr(&quot;opacity&quot;,1);if(s(e)&lt;s.range()[1]+10||s(e)&gt;s.range()[0]-10)(e&gt;1e-10||e&lt;-1e-10)&amp;&amp;d3.select(this).attr(&quot;opacity&quot;,0),d3.select(this).select(&quot;text&quot;).attr(&quot;opacity&quot;,0)}),s.domain()[0]==s.domain()[1]&amp;&amp;s.domain()[0]==0&amp;&amp;m.selectAll(&quot;g.nv-axisMaxMin&quot;).style(&quot;opacity&quot;,function(e,t){return t?0:1}));if(u&amp;&amp;(t.orient()===&quot;top&quot;||t.orient()===&quot;bottom&quot;)){var L=[];m.selectAll(&quot;g.nv-axisMaxMin&quot;).each(function(e,t){try{t?L.push(s(e)-this.getBBox().width-4):L.push(s(e)+this.getBBox().width+4)}catch(n){t?L.push(s(e)-4):L.push(s(e)+4)}}),b.selectAll(&quot;g&quot;).each(function(e,t){if(s(e)&lt;L[0]||s(e)&gt;L[1])e&gt;1e-10||e&lt;-1e-10?d3.select(this).remove():d3.select(this).select(&quot;text&quot;).remove()})}a&amp;&amp;b.selectAll(&quot;.tick&quot;).filter(function(e){return!parseFloat(Math.round(e.__data__*1e5)/1e6)&amp;&amp;e.__data__!==undefined}).classed(&quot;zero&quot;,!0),v=s.copy()}),m}var t=d3.svg.axis(),n={top:0,right:0,bottom:0,left:0},r=75,i=60,s=d3.scale.linear(),o=null,u=!0,a=!0,f=0,l=!0,c=!1,h=!1,p=null,d=12;t.scale(s).orient(&quot;bottom&quot;).tickFormat(function(e){return e});var v;return m.axis=t,d3.rebind(m,t,&quot;orient&quot;,&quot;tickValues&quot;,&quot;tickSubdivide&quot;,&quot;tickSize&quot;,&quot;tickPadding&quot;,&quot;tickFormat&quot;),d3.rebind(m,s,&quot;domain&quot;,&quot;range&quot;,&quot;rangeBand&quot;,&quot;rangeBands&quot;),m.options=e.utils.optionsFunc.bind(m),m.margin=function(e){return arguments.length?(n.top=typeof e.top!=&quot;undefined&quot;?e.top:n.top,n.right=typeof e.right!=&quot;undefined&quot;?e.right:n.right,n.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:n.bottom,n.left=typeof e.left!=&quot;undefined&quot;?e.left:n.left,m):n},m.width=function(e){return arguments.length?(r=e,m):r},m.ticks=function(e){return arguments.length?(p=e,m):p},m.height=function(e){return arguments.length?(i=e,m):i},m.axisLabel=function(e){return arguments.length?(o=e,m):o},m.showMaxMin=function(e){return arguments.length?(u=e,m):u},m.highlightZero=function(e){return arguments.length?(a=e,m):a},m.scale=function(e){return arguments.length?(s=e,t.scale(s),h=typeof s.rangeBands==&quot;function&quot;,d3.rebind(m,s,&quot;domain&quot;,&quot;range&quot;,&quot;rangeBand&quot;,&quot;rangeBands&quot;),m):s},m.rotateYLabel=function(e){return arguments.length?(l=e,m):l},m.rotateLabels=function(e){return arguments.length?(f=e,m):f},m.staggerLabels=function(e){return arguments.length?(c=e,m):c},m.axisLabelDistance=function(e){return arguments.length?(d=e,m):d},m},e.models.bullet=function(){&quot;use strict&quot;;function m(e){return e.each(function(e,n){var p=c-t.left-t.right,m=h-t.top-t.bottom,g=d3.select(this),y=i.call(this,e,n).slice().sort(d3.descending),b=s.call(this,e,n).slice().sort(d3.descending),w=o.call(this,e,n).slice().sort(d3.descending),E=u.call(this,e,n).slice(),S=a.call(this,e,n).slice(),x=f.call(this,e,n).slice(),T=d3.scale.linear().domain(d3.extent(d3.merge([l,y]))).range(r?[p,0]:[0,p]),N=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(T.range());this.__chart__=T;var C=d3.min(y),k=d3.max(y),L=y[1],A=g.selectAll(&quot;g.nv-wrap.nv-bullet&quot;).data([e]),O=A.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-bullet&quot;),M=O.append(&quot;g&quot;),_=A.select(&quot;g&quot;);M.append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;nv-range nv-rangeMax&quot;),M.append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;nv-range nv-rangeAvg&quot;),M.append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;nv-range nv-rangeMin&quot;),M.append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;nv-measure&quot;),M.append(&quot;path&quot;).attr(&quot;class&quot;,&quot;nv-markerTriangle&quot;),A.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;);var D=function(e){return Math.abs(N(e)-N(0))},P=function(e){return Math.abs(T(e)-T(0))},H=function(e){return e&lt;0?N(e):N(0)},B=function(e){return e&lt;0?T(e):T(0)};_.select(&quot;rect.nv-rangeMax&quot;).attr(&quot;height&quot;,m).attr(&quot;width&quot;,P(k&gt;0?k:C)).attr(&quot;x&quot;,B(k&gt;0?k:C)).datum(k&gt;0?k:C),_.select(&quot;rect.nv-rangeAvg&quot;).attr(&quot;height&quot;,m).attr(&quot;width&quot;,P(L)).attr(&quot;x&quot;,B(L)).datum(L),_.select(&quot;rect.nv-rangeMin&quot;).attr(&quot;height&quot;,m).attr(&quot;width&quot;,P(k)).attr(&quot;x&quot;,B(k)).attr(&quot;width&quot;,P(k&gt;0?C:k)).attr(&quot;x&quot;,B(k&gt;0?C:k)).datum(k&gt;0?C:k),_.select(&quot;rect.nv-measure&quot;).style(&quot;fill&quot;,d).attr(&quot;height&quot;,m/3).attr(&quot;y&quot;,m/3).attr(&quot;width&quot;,w&lt;0?T(0)-T(w[0]):T(w[0])-T(0)).attr(&quot;x&quot;,B(w)).on(&quot;mouseover&quot;,function(){v.elementMouseover({value:w[0],label:x[0]||&quot;Current&quot;,pos:[T(w[0]),m/2]})}).on(&quot;mouseout&quot;,function(){v.elementMouseout({value:w[0],label:x[0]||&quot;Current&quot;})});var j=m/6;b[0]?_.selectAll(&quot;path.nv-markerTriangle&quot;).attr(&quot;transform&quot;,function(e){return&quot;translate(&quot;+T(b[0])+&quot;,&quot;+m/2+&quot;)&quot;}).attr(&quot;d&quot;,&quot;M0,&quot;+j+&quot;L&quot;+j+&quot;,&quot;+ -j+&quot; &quot;+ -j+&quot;,&quot;+ -j+&quot;Z&quot;).on(&quot;mouseover&quot;,function(){v.elementMouseover({value:b[0],label:S[0]||&quot;Previous&quot;,pos:[T(b[0]),m/2]})}).on(&quot;mouseout&quot;,function(){v.elementMouseout({value:b[0],label:S[0]||&quot;Previous&quot;})}):_.selectAll(&quot;path.nv-markerTriangle&quot;).remove(),A.selectAll(&quot;.nv-range&quot;).on(&quot;mouseover&quot;,function(e,t){var n=E[t]||(t?t==1?&quot;Mean&quot;:&quot;Minimum&quot;:&quot;Maximum&quot;);v.elementMouseover({value:e,label:n,pos:[T(e),m/2]})}).on(&quot;mouseout&quot;,function(e,t){var n=E[t]||(t?t==1?&quot;Mean&quot;:&quot;Minimum&quot;:&quot;Maximum&quot;);v.elementMouseout({value:e,label:n})})}),m}var t={top:0,right:0,bottom:0,left:0},n=&quot;left&quot;,r=!1,i=function(e){return e.ranges},s=function(e){return e.markers},o=function(e){return e.measures},u=function(e){return e.rangeLabels?e.rangeLabels:[]},a=function(e){return e.markerLabels?e.markerLabels:[]},f=function(e){return e.measureLabels?e.measureLabels:[]},l=[0],c=380,h=30,p=null,d=e.utils.getColor([&quot;#1f77b4&quot;]),v=d3.dispatch(&quot;elementMouseover&quot;,&quot;elementMouseout&quot;);return m.dispatch=v,m.options=e.utils.optionsFunc.bind(m),m.orient=function(e){return arguments.length?(n=e,r=n==&quot;right&quot;||n==&quot;bottom&quot;,m):n},m.ranges=function(e){return arguments.length?(i=e,m):i},m.markers=function(e){return arguments.length?(s=e,m):s},m.measures=function(e){return arguments.length?(o=e,m):o},m.forceX=function(e){return arguments.length?(l=e,m):l},m.width=function(e){return arguments.length?(c=e,m):c},m.height=function(e){return arguments.length?(h=e,m):h},m.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,m):t},m.tickFormat=function(e){return arguments.length?(p=e,m):p},m.color=function(t){return arguments.length?(d=e.utils.getColor(t),m):d},m},e.models.bulletChart=function(){&quot;use strict&quot;;function m(e){return e.each(function(n,h){var g=d3.select(this),y=(a||parseInt(g.style(&quot;width&quot;))||960)-i.left-i.right,b=f-i.top-i.bottom,w=this;m.update=function(){m(e)},m.container=this;if(!n||!s.call(this,n,h)){var E=g.selectAll(&quot;.nv-noData&quot;).data([p]);return E.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),E.attr(&quot;x&quot;,i.left+y/2).attr(&quot;y&quot;,18+i.top+b/2).text(function(e){return e}),m}g.selectAll(&quot;.nv-noData&quot;).remove();var S=s.call(this,n,h).slice().sort(d3.descending),x=o.call(this,n,h).slice().sort(d3.descending),T=u.call(this,n,h).slice().sort(d3.descending),N=g.selectAll(&quot;g.nv-wrap.nv-bulletChart&quot;).data([n]),C=N.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-bulletChart&quot;),k=C.append(&quot;g&quot;),L=N.select(&quot;g&quot;);k.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-bulletWrap&quot;),k.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-titles&quot;),N.attr(&quot;transform&quot;,&quot;translate(&quot;+i.left+&quot;,&quot;+i.top+&quot;)&quot;);var A=d3.scale.linear().domain([0,Math.max(S[0],x[0],T[0])]).range(r?[y,0]:[0,y]),O=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(A.range());this.__chart__=A;var M=function(e){return Math.abs(O(e)-O(0))},_=function(e){return Math.abs(A(e)-A(0))},D=k.select(&quot;.nv-titles&quot;).append(&quot;g&quot;).attr(&quot;text-anchor&quot;,&quot;end&quot;).attr(&quot;transform&quot;,&quot;translate(-6,&quot;+(f-i.top-i.bottom)/2+&quot;)&quot;);D.append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nv-title&quot;).text(function(e){return e.title}),D.append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nv-subtitle&quot;).attr(&quot;dy&quot;,&quot;1em&quot;).text(function(e){return e.subtitle}),t.width(y).height(b);var P=L.select(&quot;.nv-bulletWrap&quot;);d3.transition(P).call(t);var H=l||A.tickFormat(y/100),B=L.selectAll(&quot;g.nv-tick&quot;).data(A.ticks(y/50),function(e){return this.textContent||H(e)}),j=B.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-tick&quot;).attr(&quot;transform&quot;,function(e){return&quot;translate(&quot;+O(e)+&quot;,0)&quot;}).style(&quot;opacity&quot;,1e-6);j.append(&quot;line&quot;).attr(&quot;y1&quot;,b).attr(&quot;y2&quot;,b*7/6),j.append(&quot;text&quot;).attr(&quot;text-anchor&quot;,&quot;middle&quot;).attr(&quot;dy&quot;,&quot;1em&quot;).attr(&quot;y&quot;,b*7/6).text(H);var F=d3.transition(B).attr(&quot;transform&quot;,function(e){return&quot;translate(&quot;+A(e)+&quot;,0)&quot;}).style(&quot;opacity&quot;,1);F.select(&quot;line&quot;).attr(&quot;y1&quot;,b).attr(&quot;y2&quot;,b*7/6),F.select(&quot;text&quot;).attr(&quot;y&quot;,b*7/6),d3.transition(B.exit()).attr(&quot;transform&quot;,function(e){return&quot;translate(&quot;+A(e)+&quot;,0)&quot;}).style(&quot;opacity&quot;,1e-6).remove(),d.on(&quot;tooltipShow&quot;,function(e){e.key=n.title,c&amp;&amp;v(e,w.parentNode)})}),d3.timer.flush(),m}var t=e.models.bullet(),n=&quot;left&quot;,r=!1,i={top:5,right:40,bottom:20,left:120},s=function(e){return e.ranges},o=function(e){return e.markers},u=function(e){return e.measures},a=null,f=55,l=null,c=!0,h=function(e,t,n,r,i){return&quot;&lt;h3&gt;&quot;+t+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+n+&quot;&lt;/p&gt;&quot;},p=&quot;No Data Available.&quot;,d=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;),v=function(t,n){var r=t.pos[0]+(n.offsetLeft||0)+i.left,s=t.pos[1]+(n.offsetTop||0)+i.top,o=h(t.key,t.label,t.value,t,m);e.tooltip.show([r,s],o,t.value&lt;0?&quot;e&quot;:&quot;w&quot;,null,n)};return t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){d.tooltipShow(e)}),t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){d.tooltipHide(e)}),d.on(&quot;tooltipHide&quot;,function(){c&amp;&amp;e.tooltip.cleanup()}),m.dispatch=d,m.bullet=t,d3.rebind(m,t,&quot;color&quot;),m.options=e.utils.optionsFunc.bind(m),m.orient=function(e){return arguments.length?(n=e,r=n==&quot;right&quot;||n==&quot;bottom&quot;,m):n},m.ranges=function(e){return arguments.length?(s=e,m):s},m.markers=function(e){return arguments.length?(o=e,m):o},m.measures=function(e){return arguments.length?(u=e,m):u},m.width=function(e){return arguments.length?(a=e,m):a},m.height=function(e){return arguments.length?(f=e,m):f},m.margin=function(e){return arguments.length?(i.top=typeof e.top!=&quot;undefined&quot;?e.top:i.top,i.right=typeof e.right!=&quot;undefined&quot;?e.right:i.right,i.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:i.bottom,i.left=typeof e.left!=&quot;undefined&quot;?e.left:i.left,m):i},m.tickFormat=function(e){return arguments.length?(l=e,m):l},m.tooltips=function(e){return arguments.length?(c=e,m):c},m.tooltipContent=function(e){return arguments.length?(h=e,m):h},m.noData=function(e){return arguments.length?(p=e,m):p},m},e.models.cumulativeLineChart=function(){&quot;use strict&quot;;function D(b){return b.each(function(b){function q(e,t){d3.select(D.container).style(&quot;cursor&quot;,&quot;ew-resize&quot;)}function R(e,t){M.x=d3.event.x,M.i=Math.round(O.invert(M.x)),rt()}function U(e,t){d3.select(D.container).style(&quot;cursor&quot;,&quot;auto&quot;),x.index=M.i,k.stateChange(x)}function rt(){nt.data([M]);var e=D.transitionDuration();D.transitionDuration(0),D.update(),D.transitionDuration(e)}var A=d3.select(this).classed(&quot;nv-chart-&quot;+S,!0),H=this,B=(f||parseInt(A.style(&quot;width&quot;))||960)-u.left-u.right,j=(l||parseInt(A.style(&quot;height&quot;))||400)-u.top-u.bottom;D.update=function(){A.transition().duration(L).call(D)},D.container=this,x.disabled=b.map(function(e){return!!e.disabled});if(!T){var F;T={};for(F in x)x[F]instanceof Array?T[F]=x[F].slice(0):T[F]=x[F]}var I=d3.behavior.drag().on(&quot;dragstart&quot;,q).on(&quot;drag&quot;,R).on(&quot;dragend&quot;,U);if(!b||!b.length||!b.filter(function(e){return e.values.length}).length){var z=A.selectAll(&quot;.nv-noData&quot;).data([N]);return z.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),z.attr(&quot;x&quot;,u.left+B/2).attr(&quot;y&quot;,u.top+j/2).text(function(e){return e}),D}A.selectAll(&quot;.nv-noData&quot;).remove(),w=t.xScale(),E=t.yScale();if(!y){var W=b.filter(function(e){return!e.disabled}).map(function(e,n){var r=d3.extent(e.values,t.y());return r[0]&lt;-0.95&amp;&amp;(r[0]=-0.95),[(r[0]-r[1])/(1+r[1]),(r[1]-r[0])/(1+r[0])]}),X=[d3.min(W,function(e){return e[0]}),d3.max(W,function(e){return e[1]})];t.yDomain(X)}else t.yDomain(null);O.domain([0,b[0].values.length-1]).range([0,B]).clamp(!0);var b=P(M.i,b),V=g?&quot;none&quot;:&quot;all&quot;,$=A.selectAll(&quot;g.nv-wrap.nv-cumulativeLine&quot;).data([b]),J=$.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-cumulativeLine&quot;).append(&quot;g&quot;),K=$.select(&quot;g&quot;);J.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-interactive&quot;),J.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;).style(&quot;pointer-events&quot;,&quot;none&quot;),J.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y nv-axis&quot;),J.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-background&quot;),J.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-linesWrap&quot;).style(&quot;pointer-events&quot;,V),J.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-avgLinesWrap&quot;).style(&quot;pointer-events&quot;,&quot;none&quot;),J.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-legendWrap&quot;),J.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-controlsWrap&quot;),c&amp;&amp;(i.width(B),K.select(&quot;.nv-legendWrap&quot;).datum(b).call(i),u.top!=i.height()&amp;&amp;(u.top=i.height(),j=(l||parseInt(A.style(&quot;height&quot;))||400)-u.top-u.bottom),K.select(&quot;.nv-legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+ -u.top+&quot;)&quot;));if(m){var Q=[{key:&quot;Re-scale y-axis&quot;,disabled:!y}];s.width(140).color([&quot;#444&quot;,&quot;#444&quot;,&quot;#444&quot;]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),K.select(&quot;.nv-controlsWrap&quot;).datum(Q).attr(&quot;transform&quot;,&quot;translate(0,&quot;+ -u.top+&quot;)&quot;).call(s)}$.attr(&quot;transform&quot;,&quot;translate(&quot;+u.left+&quot;,&quot;+u.top+&quot;)&quot;),d&amp;&amp;K.select(&quot;.nv-y.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+B+&quot;,0)&quot;);var G=b.filter(function(e){return e.tempDisabled});$.select(&quot;.tempDisabled&quot;).remove(),G.length&amp;&amp;$.append(&quot;text&quot;).attr(&quot;class&quot;,&quot;tempDisabled&quot;).attr(&quot;x&quot;,B/2).attr(&quot;y&quot;,&quot;-.71em&quot;).style(&quot;text-anchor&quot;,&quot;end&quot;).text(G.map(function(e){return e.key}).join(&quot;, &quot;)+&quot; values cannot be calculated for this time period.&quot;),g&amp;&amp;(o.width(B).height(j).margin({left:u.left,top:u.top}).svgContainer(A).xScale(w),$.select(&quot;.nv-interactive&quot;).call(o)),J.select(&quot;.nv-background&quot;).append(&quot;rect&quot;),K.select(&quot;.nv-background rect&quot;).attr(&quot;width&quot;,B).attr(&quot;height&quot;,j),t.y(function(e){return e.display.y}).width(B).height(j).color(b.map(function(e,t){return e.color||a(e,t)}).filter(function(e,t){return!b[t].disabled&amp;&amp;!b[t].tempDisabled}));var Y=K.select(&quot;.nv-linesWrap&quot;).datum(b.filter(function(e){return!e.disabled&amp;&amp;!e.tempDisabled}));Y.call(t),b.forEach(function(e,t){e.seriesIndex=t});var Z=b.filter(function(e){return!e.disabled&amp;&amp;!!C(e)}),et=K.select(&quot;.nv-avgLinesWrap&quot;).selectAll(&quot;line&quot;).data(Z,function(e){return e.key}),tt=function(e){var t=E(C(e));return t&lt;0?0:t&gt;j?j:t};et.enter().append(&quot;line&quot;).style(&quot;stroke-width&quot;,2).style(&quot;stroke-dasharray&quot;,&quot;10,10&quot;).style(&quot;stroke&quot;,function(e,n){return t.color()(e,e.seriesIndex)}).attr(&quot;x1&quot;,0).attr(&quot;x2&quot;,B).attr(&quot;y1&quot;,tt).attr(&quot;y2&quot;,tt),et.style(&quot;stroke-opacity&quot;,function(e){var t=E(C(e));return t&lt;0||t&gt;j?0:1}).attr(&quot;x1&quot;,0).attr(&quot;x2&quot;,B).attr(&quot;y1&quot;,tt).attr(&quot;y2&quot;,tt),et.exit().remove();var nt=Y.selectAll(&quot;.nv-indexLine&quot;).data([M]);nt.enter().append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;nv-indexLine&quot;).attr(&quot;width&quot;,3).attr(&quot;x&quot;,-2).attr(&quot;fill&quot;,&quot;red&quot;).attr(&quot;fill-opacity&quot;,.5).style(&quot;pointer-events&quot;,&quot;all&quot;).call(I),nt.attr(&quot;transform&quot;,function(e){return&quot;translate(&quot;+O(e.i)+&quot;,0)&quot;}).attr(&quot;height&quot;,j),h&amp;&amp;(n.scale(w).ticks(Math.min(b[0].values.length,B/70)).tickSize(-j,0),K.select(&quot;.nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+E.range()[0]+&quot;)&quot;),d3.transition(K.select(&quot;.nv-x.nv-axis&quot;)).call(n)),p&amp;&amp;(r.scale(E).ticks(j/36).tickSize(-B,0),d3.transition(K.select(&quot;.nv-y.nv-axis&quot;)).call(r)),K.select(&quot;.nv-background rect&quot;).on(&quot;click&quot;,function(){M.x=d3.mouse(this)[0],M.i=Math.round(O.invert(M.x)),x.index=M.i,k.stateChange(x),rt()}),t.dispatch.on(&quot;elementClick&quot;,function(e){M.i=e.pointIndex,M.x=O(M.i),x.index=M.i,k.stateChange(x),rt()}),s.dispatch.on(&quot;legendClick&quot;,function(e,t){e.disabled=!e.disabled,y=!e.disabled,x.rescaleY=y,k.stateChange(x),D.update()}),i.dispatch.on(&quot;stateChange&quot;,function(e){x.disabled=e.disabled,k.stateChange(x),D.update()}),o.dispatch.on(&quot;elementMousemove&quot;,function(i){t.clearHighlights();var s,f,l,c=[];b.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(n,r){f=e.interactiveBisect(n.values,i.pointXValue,D.x()),t.highlightPoint(r,f,!0);var o=n.values[f];if(typeof o==&quot;undefined&quot;)return;typeof s==&quot;undefined&quot;&amp;&amp;(s=o),typeof l==&quot;undefined&quot;&amp;&amp;(l=D.xScale()(D.x()(o,f))),c.push({key:n.key,value:D.y()(o,f),color:a(n,n.seriesIndex)})});if(c.length&gt;2){var h=D.yScale().invert(i.mouseY),p=Math.abs(D.yScale().domain()[0]-D.yScale().domain()[1]),d=.03*p,m=e.nearestValueIndex(c.map(function(e){return e.value}),h,d);m!==null&amp;&amp;(c[m].highlight=!0)}var g=n.tickFormat()(D.x()(s,f),f);o.tooltip.position({left:l+u.left,top:i.mouseY+u.top}).chartContainer(H.parentNode).enabled(v).valueFormatter(function(e,t){return r.tickFormat()(e)}).data({value:g,series:c})(),o.renderGuideLine(l)}),o.dispatch.on(&quot;elementMouseout&quot;,function(e){k.tooltipHide(),t.clearHighlights()}),k.on(&quot;tooltipShow&quot;,function(e){v&amp;&amp;_(e,H.parentNode)}),k.on(&quot;changeState&quot;,function(e){typeof e.disabled!=&quot;undefined&quot;&amp;&amp;(b.forEach(function(t,n){t.disabled=e.disabled[n]}),x.disabled=e.disabled),typeof e.index!=&quot;undefined&quot;&amp;&amp;(M.i=e.index,M.x=O(M.i),x.index=e.index,nt.data([M])),typeof e.rescaleY!=&quot;undefined&quot;&amp;&amp;(y=e.rescaleY),D.update()})}),D}function P(e,n){return n.map(function(n,r){if(!n.values)return n;var i=t.y()(n.values[e],e);return i&lt;-0.95&amp;&amp;!A?(n.tempDisabled=!0,n):(n.tempDisabled=!1,n.values=</div><div class='line' id='LC2'>n.values.map(function(e,n){return e.display={y:(t.y()(e,n)-i)/(1+i)},e}),n)})}var t=e.models.line(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),s=e.models.legend(),o=e.interactiveGuideline(),u={top:30,right:30,bottom:50,left:60},a=e.utils.defaultColor(),f=null,l=null,c=!0,h=!0,p=!0,d=!1,v=!0,m=!0,g=!1,y=!0,b=function(e,t,n,r,i){return&quot;&lt;h3&gt;&quot;+e+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+n+&quot; at &quot;+t+&quot;&lt;/p&gt;&quot;},w,E,S=t.id(),x={index:0,rescaleY:y},T=null,N=&quot;No Data Available.&quot;,C=function(e){return e.average},k=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;stateChange&quot;,&quot;changeState&quot;),L=250,A=!1;n.orient(&quot;bottom&quot;).tickPadding(7),r.orient(d?&quot;right&quot;:&quot;left&quot;),s.updateState(!1);var O=d3.scale.linear(),M={i:0,x:0},_=function(i,s){var o=i.pos[0]+(s.offsetLeft||0),u=i.pos[1]+(s.offsetTop||0),a=n.tickFormat()(t.x()(i.point,i.pointIndex)),f=r.tickFormat()(t.y()(i.point,i.pointIndex)),l=b(i.series.key,a,f,i,D);e.tooltip.show([o,u],l,null,null,s)};return t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+u.left,e.pos[1]+u.top],k.tooltipShow(e)}),t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){k.tooltipHide(e)}),k.on(&quot;tooltipHide&quot;,function(){v&amp;&amp;e.tooltip.cleanup()}),D.dispatch=k,D.lines=t,D.legend=i,D.xAxis=n,D.yAxis=r,D.interactiveLayer=o,d3.rebind(D,t,&quot;defined&quot;,&quot;isArea&quot;,&quot;x&quot;,&quot;y&quot;,&quot;xScale&quot;,&quot;yScale&quot;,&quot;size&quot;,&quot;xDomain&quot;,&quot;yDomain&quot;,&quot;xRange&quot;,&quot;yRange&quot;,&quot;forceX&quot;,&quot;forceY&quot;,&quot;interactive&quot;,&quot;clipEdge&quot;,&quot;clipVoronoi&quot;,&quot;useVoronoi&quot;,&quot;id&quot;),D.options=e.utils.optionsFunc.bind(D),D.margin=function(e){return arguments.length?(u.top=typeof e.top!=&quot;undefined&quot;?e.top:u.top,u.right=typeof e.right!=&quot;undefined&quot;?e.right:u.right,u.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:u.bottom,u.left=typeof e.left!=&quot;undefined&quot;?e.left:u.left,D):u},D.width=function(e){return arguments.length?(f=e,D):f},D.height=function(e){return arguments.length?(l=e,D):l},D.color=function(t){return arguments.length?(a=e.utils.getColor(t),i.color(a),D):a},D.rescaleY=function(e){return arguments.length?(y=e,D):y},D.showControls=function(e){return arguments.length?(m=e,D):m},D.useInteractiveGuideline=function(e){return arguments.length?(g=e,e===!0&amp;&amp;(D.interactive(!1),D.useVoronoi(!1)),D):g},D.showLegend=function(e){return arguments.length?(c=e,D):c},D.showXAxis=function(e){return arguments.length?(h=e,D):h},D.showYAxis=function(e){return arguments.length?(p=e,D):p},D.rightAlignYAxis=function(e){return arguments.length?(d=e,r.orient(e?&quot;right&quot;:&quot;left&quot;),D):d},D.tooltips=function(e){return arguments.length?(v=e,D):v},D.tooltipContent=function(e){return arguments.length?(b=e,D):b},D.state=function(e){return arguments.length?(x=e,D):x},D.defaultState=function(e){return arguments.length?(T=e,D):T},D.noData=function(e){return arguments.length?(N=e,D):N},D.average=function(e){return arguments.length?(C=e,D):C},D.transitionDuration=function(e){return arguments.length?(L=e,D):L},D.noErrorCheck=function(e){return arguments.length?(A=e,D):A},D},e.models.discreteBar=function(){&quot;use strict&quot;;function E(e){return e.each(function(e){var i=n-t.left-t.right,E=r-t.top-t.bottom,S=d3.select(this);e.forEach(function(e,t){e.values.forEach(function(e){e.series=t})});var T=p&amp;&amp;d?[]:e.map(function(e){return e.values.map(function(e,t){return{x:u(e,t),y:a(e,t),y0:e.y0}})});s.domain(p||d3.merge(T).map(function(e){return e.x})).rangeBands(v||[0,i],.1),o.domain(d||d3.extent(d3.merge(T).map(function(e){return e.y}).concat(f))),c?o.range(m||[E-(o.domain()[0]&lt;0?12:0),o.domain()[1]&gt;0?12:0]):o.range(m||[E,0]),b=b||s,w=w||o.copy().range([o(0),o(0)]);var N=S.selectAll(&quot;g.nv-wrap.nv-discretebar&quot;).data([e]),C=N.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-discretebar&quot;),k=C.append(&quot;g&quot;),L=N.select(&quot;g&quot;);k.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-groups&quot;),N.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;);var A=N.select(&quot;.nv-groups&quot;).selectAll(&quot;.nv-group&quot;).data(function(e){return e},function(e){return e.key});A.enter().append(&quot;g&quot;).style(&quot;stroke-opacity&quot;,1e-6).style(&quot;fill-opacity&quot;,1e-6),A.exit().transition().style(&quot;stroke-opacity&quot;,1e-6).style(&quot;fill-opacity&quot;,1e-6).remove(),A.attr(&quot;class&quot;,function(e,t){return&quot;nv-group nv-series-&quot;+t}).classed(&quot;hover&quot;,function(e){return e.hover}),A.transition().style(&quot;stroke-opacity&quot;,1).style(&quot;fill-opacity&quot;,.75);var O=A.selectAll(&quot;g.nv-bar&quot;).data(function(e){return e.values});O.exit().remove();var M=O.enter().append(&quot;g&quot;).attr(&quot;transform&quot;,function(e,t,n){return&quot;translate(&quot;+(s(u(e,t))+s.rangeBand()*.05)+&quot;, &quot;+o(0)+&quot;)&quot;}).on(&quot;mouseover&quot;,function(t,n){d3.select(this).classed(&quot;hover&quot;,!0),g.elementMouseover({value:a(t,n),point:t,series:e[t.series],pos:[s(u(t,n))+s.rangeBand()*(t.series+.5)/e.length,o(a(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on(&quot;mouseout&quot;,function(t,n){d3.select(this).classed(&quot;hover&quot;,!1),g.elementMouseout({value:a(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on(&quot;click&quot;,function(t,n){g.elementClick({value:a(t,n),point:t,series:e[t.series],pos:[s(u(t,n))+s.rangeBand()*(t.series+.5)/e.length,o(a(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on(&quot;dblclick&quot;,function(t,n){g.elementDblClick({value:a(t,n),point:t,series:e[t.series],pos:[s(u(t,n))+s.rangeBand()*(t.series+.5)/e.length,o(a(t,n))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()});M.append(&quot;rect&quot;).attr(&quot;height&quot;,0).attr(&quot;width&quot;,s.rangeBand()*.9/e.length),c?(M.append(&quot;text&quot;).attr(&quot;text-anchor&quot;,&quot;middle&quot;),O.select(&quot;text&quot;).text(function(e,t){return h(a(e,t))}).transition().attr(&quot;x&quot;,s.rangeBand()*.9/2).attr(&quot;y&quot;,function(e,t){return a(e,t)&lt;0?o(a(e,t))-o(0)+12:-4})):O.selectAll(&quot;text&quot;).remove(),O.attr(&quot;class&quot;,function(e,t){return a(e,t)&lt;0?&quot;nv-bar negative&quot;:&quot;nv-bar positive&quot;}).style(&quot;fill&quot;,function(e,t){return e.color||l(e,t)}).style(&quot;stroke&quot;,function(e,t){return e.color||l(e,t)}).select(&quot;rect&quot;).attr(&quot;class&quot;,y).transition().attr(&quot;width&quot;,s.rangeBand()*.9/e.length),O.transition().attr(&quot;transform&quot;,function(e,t){var n=s(u(e,t))+s.rangeBand()*.05,r=a(e,t)&lt;0?o(0):o(0)-o(a(e,t))&lt;1?o(0)-1:o(a(e,t));return&quot;translate(&quot;+n+&quot;, &quot;+r+&quot;)&quot;}).select(&quot;rect&quot;).attr(&quot;height&quot;,function(e,t){return Math.max(Math.abs(o(a(e,t))-o(d&amp;&amp;d[0]||0))||1)}),b=s.copy(),w=o.copy()}),E}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=Math.floor(Math.random()*1e4),s=d3.scale.ordinal(),o=d3.scale.linear(),u=function(e){return e.x},a=function(e){return e.y},f=[0],l=e.utils.defaultColor(),c=!1,h=d3.format(&quot;,.2f&quot;),p,d,v,m,g=d3.dispatch(&quot;chartClick&quot;,&quot;elementClick&quot;,&quot;elementDblClick&quot;,&quot;elementMouseover&quot;,&quot;elementMouseout&quot;),y=&quot;discreteBar&quot;,b,w;return E.dispatch=g,E.options=e.utils.optionsFunc.bind(E),E.x=function(e){return arguments.length?(u=e,E):u},E.y=function(e){return arguments.length?(a=e,E):a},E.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,E):t},E.width=function(e){return arguments.length?(n=e,E):n},E.height=function(e){return arguments.length?(r=e,E):r},E.xScale=function(e){return arguments.length?(s=e,E):s},E.yScale=function(e){return arguments.length?(o=e,E):o},E.xDomain=function(e){return arguments.length?(p=e,E):p},E.yDomain=function(e){return arguments.length?(d=e,E):d},E.xRange=function(e){return arguments.length?(v=e,E):v},E.yRange=function(e){return arguments.length?(m=e,E):m},E.forceY=function(e){return arguments.length?(f=e,E):f},E.color=function(t){return arguments.length?(l=e.utils.getColor(t),E):l},E.id=function(e){return arguments.length?(i=e,E):i},E.showValues=function(e){return arguments.length?(c=e,E):c},E.valueFormat=function(e){return arguments.length?(h=e,E):h},E.rectClass=function(e){return arguments.length?(y=e,E):y},E},e.models.discreteBarChart=function(){&quot;use strict&quot;;function w(e){return e.each(function(e){var u=d3.select(this),p=this,E=(s||parseInt(u.style(&quot;width&quot;))||960)-i.left-i.right,S=(o||parseInt(u.style(&quot;height&quot;))||400)-i.top-i.bottom;w.update=function(){g.beforeUpdate(),u.transition().duration(y).call(w)},w.container=this;if(!e||!e.length||!e.filter(function(e){return e.values.length}).length){var T=u.selectAll(&quot;.nv-noData&quot;).data([m]);return T.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),T.attr(&quot;x&quot;,i.left+E/2).attr(&quot;y&quot;,i.top+S/2).text(function(e){return e}),w}u.selectAll(&quot;.nv-noData&quot;).remove(),d=t.xScale(),v=t.yScale().clamp(!0);var N=u.selectAll(&quot;g.nv-wrap.nv-discreteBarWithAxes&quot;).data([e]),C=N.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-discreteBarWithAxes&quot;).append(&quot;g&quot;),k=C.append(&quot;defs&quot;),L=N.select(&quot;g&quot;);C.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),C.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y nv-axis&quot;).append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-zeroLine&quot;).append(&quot;line&quot;),C.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-barsWrap&quot;),L.attr(&quot;transform&quot;,&quot;translate(&quot;+i.left+&quot;,&quot;+i.top+&quot;)&quot;),l&amp;&amp;L.select(&quot;.nv-y.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+E+&quot;,0)&quot;),t.width(E).height(S);var A=L.select(&quot;.nv-barsWrap&quot;).datum(e.filter(function(e){return!e.disabled}));A.transition().call(t),k.append(&quot;clipPath&quot;).attr(&quot;id&quot;,&quot;nv-x-label-clip-&quot;+t.id()).append(&quot;rect&quot;),L.select(&quot;#nv-x-label-clip-&quot;+t.id()+&quot; rect&quot;).attr(&quot;width&quot;,d.rangeBand()*(c?2:1)).attr(&quot;height&quot;,16).attr(&quot;x&quot;,-d.rangeBand()/(c?1:2));if(a){n.scale(d).ticks(E/100).tickSize(-S,0),L.select(&quot;.nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+(v.range()[0]+(t.showValues()&amp;&amp;v.domain()[0]&lt;0?16:0))+&quot;)&quot;),L.select(&quot;.nv-x.nv-axis&quot;).transition().call(n);var O=L.select(&quot;.nv-x.nv-axis&quot;).selectAll(&quot;g&quot;);c&amp;&amp;O.selectAll(&quot;text&quot;).attr(&quot;transform&quot;,function(e,t,n){return&quot;translate(0,&quot;+(n%2==0?&quot;5&quot;:&quot;17&quot;)+&quot;)&quot;})}f&amp;&amp;(r.scale(v).ticks(S/36).tickSize(-E,0),L.select(&quot;.nv-y.nv-axis&quot;).transition().call(r)),L.select(&quot;.nv-zeroLine line&quot;).attr(&quot;x1&quot;,0).attr(&quot;x2&quot;,E).attr(&quot;y1&quot;,v(0)).attr(&quot;y2&quot;,v(0)),g.on(&quot;tooltipShow&quot;,function(e){h&amp;&amp;b(e,p.parentNode)})}),w}var t=e.models.discreteBar(),n=e.models.axis(),r=e.models.axis(),i={top:15,right:10,bottom:50,left:60},s=null,o=null,u=e.utils.getColor(),a=!0,f=!0,l=!1,c=!1,h=!0,p=function(e,t,n,r,i){return&quot;&lt;h3&gt;&quot;+t+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+n+&quot;&lt;/p&gt;&quot;},d,v,m=&quot;No Data Available.&quot;,g=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;beforeUpdate&quot;),y=250;n.orient(&quot;bottom&quot;).highlightZero(!1).showMaxMin(!1).tickFormat(function(e){return e}),r.orient(l?&quot;right&quot;:&quot;left&quot;).tickFormat(d3.format(&quot;,.1f&quot;));var b=function(i,s){var o=i.pos[0]+(s.offsetLeft||0),u=i.pos[1]+(s.offsetTop||0),a=n.tickFormat()(t.x()(i.point,i.pointIndex)),f=r.tickFormat()(t.y()(i.point,i.pointIndex)),l=p(i.series.key,a,f,i,w);e.tooltip.show([o,u],l,i.value&lt;0?&quot;n&quot;:&quot;s&quot;,null,s)};return t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+i.left,e.pos[1]+i.top],g.tooltipShow(e)}),t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){g.tooltipHide(e)}),g.on(&quot;tooltipHide&quot;,function(){h&amp;&amp;e.tooltip.cleanup()}),w.dispatch=g,w.discretebar=t,w.xAxis=n,w.yAxis=r,d3.rebind(w,t,&quot;x&quot;,&quot;y&quot;,&quot;xDomain&quot;,&quot;yDomain&quot;,&quot;xRange&quot;,&quot;yRange&quot;,&quot;forceX&quot;,&quot;forceY&quot;,&quot;id&quot;,&quot;showValues&quot;,&quot;valueFormat&quot;),w.options=e.utils.optionsFunc.bind(w),w.margin=function(e){return arguments.length?(i.top=typeof e.top!=&quot;undefined&quot;?e.top:i.top,i.right=typeof e.right!=&quot;undefined&quot;?e.right:i.right,i.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:i.bottom,i.left=typeof e.left!=&quot;undefined&quot;?e.left:i.left,w):i},w.width=function(e){return arguments.length?(s=e,w):s},w.height=function(e){return arguments.length?(o=e,w):o},w.color=function(n){return arguments.length?(u=e.utils.getColor(n),t.color(u),w):u},w.showXAxis=function(e){return arguments.length?(a=e,w):a},w.showYAxis=function(e){return arguments.length?(f=e,w):f},w.rightAlignYAxis=function(e){return arguments.length?(l=e,r.orient(e?&quot;right&quot;:&quot;left&quot;),w):l},w.staggerLabels=function(e){return arguments.length?(c=e,w):c},w.tooltips=function(e){return arguments.length?(h=e,w):h},w.tooltipContent=function(e){return arguments.length?(p=e,w):p},w.noData=function(e){return arguments.length?(m=e,w):m},w.transitionDuration=function(e){return arguments.length?(y=e,w):y},w},e.models.distribution=function(){&quot;use strict&quot;;function l(e){return e.each(function(e){var a=n-(i===&quot;x&quot;?t.left+t.right:t.top+t.bottom),l=i==&quot;x&quot;?&quot;y&quot;:&quot;x&quot;,c=d3.select(this);f=f||u;var h=c.selectAll(&quot;g.nv-distribution&quot;).data([e]),p=h.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-distribution&quot;),d=p.append(&quot;g&quot;),v=h.select(&quot;g&quot;);h.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;);var m=v.selectAll(&quot;g.nv-dist&quot;).data(function(e){return e},function(e){return e.key});m.enter().append(&quot;g&quot;),m.attr(&quot;class&quot;,function(e,t){return&quot;nv-dist nv-series-&quot;+t}).style(&quot;stroke&quot;,function(e,t){return o(e,t)});var g=m.selectAll(&quot;line.nv-dist&quot;+i).data(function(e){return e.values});g.enter().append(&quot;line&quot;).attr(i+&quot;1&quot;,function(e,t){return f(s(e,t))}).attr(i+&quot;2&quot;,function(e,t){return f(s(e,t))}),m.exit().selectAll(&quot;line.nv-dist&quot;+i).transition().attr(i+&quot;1&quot;,function(e,t){return u(s(e,t))}).attr(i+&quot;2&quot;,function(e,t){return u(s(e,t))}).style(&quot;stroke-opacity&quot;,0).remove(),g.attr(&quot;class&quot;,function(e,t){return&quot;nv-dist&quot;+i+&quot; nv-dist&quot;+i+&quot;-&quot;+t}).attr(l+&quot;1&quot;,0).attr(l+&quot;2&quot;,r),g.transition().attr(i+&quot;1&quot;,function(e,t){return u(s(e,t))}).attr(i+&quot;2&quot;,function(e,t){return u(s(e,t))}),f=u.copy()}),l}var t={top:0,right:0,bottom:0,left:0},n=400,r=8,i=&quot;x&quot;,s=function(e){return e[i]},o=e.utils.defaultColor(),u=d3.scale.linear(),a,f;return l.options=e.utils.optionsFunc.bind(l),l.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,l):t},l.width=function(e){return arguments.length?(n=e,l):n},l.axis=function(e){return arguments.length?(i=e,l):i},l.size=function(e){return arguments.length?(r=e,l):r},l.getData=function(e){return arguments.length?(s=d3.functor(e),l):s},l.scale=function(e){return arguments.length?(u=e,l):u},l.color=function(t){return arguments.length?(o=e.utils.getColor(t),l):o},l},e.models.historicalBar=function(){&quot;use strict&quot;;function w(E){return E.each(function(w){var E=n-t.left-t.right,S=r-t.top-t.bottom,T=d3.select(this);s.domain(d||d3.extent(w[0].values.map(u).concat(f))),c?s.range(m||[E*.5/w[0].values.length,E*(w[0].values.length-.5)/w[0].values.length]):s.range(m||[0,E]),o.domain(v||d3.extent(w[0].values.map(a).concat(l))).range(g||[S,0]),s.domain()[0]===s.domain()[1]&amp;&amp;(s.domain()[0]?s.domain([s.domain()[0]-s.domain()[0]*.01,s.domain()[1]+s.domain()[1]*.01]):s.domain([-1,1])),o.domain()[0]===o.domain()[1]&amp;&amp;(o.domain()[0]?o.domain([o.domain()[0]+o.domain()[0]*.01,o.domain()[1]-o.domain()[1]*.01]):o.domain([-1,1]));var N=T.selectAll(&quot;g.nv-wrap.nv-historicalBar-&quot;+i).data([w[0].values]),C=N.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-historicalBar-&quot;+i),k=C.append(&quot;defs&quot;),L=C.append(&quot;g&quot;),A=N.select(&quot;g&quot;);L.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-bars&quot;),N.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;),T.on(&quot;click&quot;,function(e,t){y.chartClick({data:e,index:t,pos:d3.event,id:i})}),k.append(&quot;clipPath&quot;).attr(&quot;id&quot;,&quot;nv-chart-clip-path-&quot;+i).append(&quot;rect&quot;),N.select(&quot;#nv-chart-clip-path-&quot;+i+&quot; rect&quot;).attr(&quot;width&quot;,E).attr(&quot;height&quot;,S),A.attr(&quot;clip-path&quot;,h?&quot;url(#nv-chart-clip-path-&quot;+i+&quot;)&quot;:&quot;&quot;);var O=N.select(&quot;.nv-bars&quot;).selectAll(&quot;.nv-bar&quot;).data(function(e){return e},function(e,t){return u(e,t)});O.exit().remove();var M=O.enter().append(&quot;rect&quot;).attr(&quot;x&quot;,0).attr(&quot;y&quot;,function(t,n){return e.utils.NaNtoZero(o(Math.max(0,a(t,n))))}).attr(&quot;height&quot;,function(t,n){return e.utils.NaNtoZero(Math.abs(o(a(t,n))-o(0)))}).attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+(s(u(e,t))-E/w[0].values.length*.45)+&quot;,0)&quot;}).on(&quot;mouseover&quot;,function(e,t){if(!b)return;d3.select(this).classed(&quot;hover&quot;,!0),y.elementMouseover({point:e,series:w[0],pos:[s(u(e,t)),o(a(e,t))],pointIndex:t,seriesIndex:0,e:d3.event})}).on(&quot;mouseout&quot;,function(e,t){if(!b)return;d3.select(this).classed(&quot;hover&quot;,!1),y.elementMouseout({point:e,series:w[0],pointIndex:t,seriesIndex:0,e:d3.event})}).on(&quot;click&quot;,function(e,t){if(!b)return;y.elementClick({value:a(e,t),data:e,index:t,pos:[s(u(e,t)),o(a(e,t))],e:d3.event,id:i}),d3.event.stopPropagation()}).on(&quot;dblclick&quot;,function(e,t){if(!b)return;y.elementDblClick({value:a(e,t),data:e,index:t,pos:[s(u(e,t)),o(a(e,t))],e:d3.event,id:i}),d3.event.stopPropagation()});O.attr(&quot;fill&quot;,function(e,t){return p(e,t)}).attr(&quot;class&quot;,function(e,t,n){return(a(e,t)&lt;0?&quot;nv-bar negative&quot;:&quot;nv-bar positive&quot;)+&quot; nv-bar-&quot;+n+&quot;-&quot;+t}).transition().attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+(s(u(e,t))-E/w[0].values.length*.45)+&quot;,0)&quot;}).attr(&quot;width&quot;,E/w[0].values.length*.9),O.transition().attr(&quot;y&quot;,function(t,n){var r=a(t,n)&lt;0?o(0):o(0)-o(a(t,n))&lt;1?o(0)-1:o(a(t,n));return e.utils.NaNtoZero(r)}).attr(&quot;height&quot;,function(t,n){return e.utils.NaNtoZero(Math.max(Math.abs(o(a(t,n))-o(0)),1))})}),w}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=Math.floor(Math.random()*1e4),s=d3.scale.linear(),o=d3.scale.linear(),u=function(e){return e.x},a=function(e){return e.y},f=[],l=[0],c=!1,h=!0,p=e.utils.defaultColor(),d,v,m,g,y=d3.dispatch(&quot;chartClick&quot;,&quot;elementClick&quot;,&quot;elementDblClick&quot;,&quot;elementMouseover&quot;,&quot;elementMouseout&quot;),b=!0;return w.highlightPoint=function(e,t){d3.select(&quot;.nv-historicalBar-&quot;+i).select(&quot;.nv-bars .nv-bar-0-&quot;+e).classed(&quot;hover&quot;,t)},w.clearHighlights=function(){d3.select(&quot;.nv-historicalBar-&quot;+i).select(&quot;.nv-bars .nv-bar.hover&quot;).classed(&quot;hover&quot;,!1)},w.dispatch=y,w.options=e.utils.optionsFunc.bind(w),w.x=function(e){return arguments.length?(u=e,w):u},w.y=function(e){return arguments.length?(a=e,w):a},w.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,w):t},w.width=function(e){return arguments.length?(n=e,w):n},w.height=function(e){return arguments.length?(r=e,w):r},w.xScale=function(e){return arguments.length?(s=e,w):s},w.yScale=function(e){return arguments.length?(o=e,w):o},w.xDomain=function(e){return arguments.length?(d=e,w):d},w.yDomain=function(e){return arguments.length?(v=e,w):v},w.xRange=function(e){return arguments.length?(m=e,w):m},w.yRange=function(e){return arguments.length?(g=e,w):g},w.forceX=function(e){return arguments.length?(f=e,w):f},w.forceY=function(e){return arguments.length?(l=e,w):l},w.padData=function(e){return arguments.length?(c=e,w):c},w.clipEdge=function(e){return arguments.length?(h=e,w):h},w.color=function(t){return arguments.length?(p=e.utils.getColor(t),w):p},w.id=function(e){return arguments.length?(i=e,w):i},w.interactive=function(e){return arguments.length?(b=!1,w):b},w},e.models.historicalBarChart=function(){&quot;use strict&quot;;function x(e){return e.each(function(d){var T=d3.select(this),N=this,C=(u||parseInt(T.style(&quot;width&quot;))||960)-s.left-s.right,k=(a||parseInt(T.style(&quot;height&quot;))||400)-s.top-s.bottom;x.update=function(){T.transition().duration(E).call(x)},x.container=this,g.disabled=d.map(function(e){return!!e.disabled});if(!y){var L;y={};for(L in g)g[L]instanceof Array?y[L]=g[L].slice(0):y[L]=g[L]}if(!d||!d.length||!d.filter(function(e){return e.values.length}).length){var A=T.selectAll(&quot;.nv-noData&quot;).data([b]);return A.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),A.attr(&quot;x&quot;,s.left+C/2).attr(&quot;y&quot;,s.top+k/2).text(function(e){return e}),x}T.selectAll(&quot;.nv-noData&quot;).remove(),v=t.xScale(),m=t.yScale();var O=T.selectAll(&quot;g.nv-wrap.nv-historicalBarChart&quot;).data([d]),M=O.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-historicalBarChart&quot;).append(&quot;g&quot;),_=O.select(&quot;g&quot;);M.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),M.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y nv-axis&quot;),M.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-barsWrap&quot;),M.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-legendWrap&quot;),f&amp;&amp;(i.width(C),_.select(&quot;.nv-legendWrap&quot;).datum(d).call(i),s.top!=i.height()&amp;&amp;(s.top=i.height(),k=(a||parseInt(T.style(&quot;height&quot;))||400)-s.top-s.bottom),O.select(&quot;.nv-legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+ -s.top+&quot;)&quot;)),O.attr(&quot;transform&quot;,&quot;translate(&quot;+s.left+&quot;,&quot;+s.top+&quot;)&quot;),h&amp;&amp;_.select(&quot;.nv-y.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+C+&quot;,0)&quot;),t.width(C).height(k).color(d.map(function(e,t){return e.color||o(e,t)}).filter(function(e,t){return!d[t].disabled}));var D=_.select(&quot;.nv-barsWrap&quot;).datum(d.filter(function(e){return!e.disabled}));D.transition().call(t),l&amp;&amp;(n.scale(v).tickSize(-k,0),_.select(&quot;.nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+m.range()[0]+&quot;)&quot;),_.select(&quot;.nv-x.nv-axis&quot;).transition().call(n)),c&amp;&amp;(r.scale(m).ticks(k/36).tickSize(-C,0),_.select(&quot;.nv-y.nv-axis&quot;).transition().call(r)),i.dispatch.on(&quot;legendClick&quot;,function(t,n){t.disabled=!t.disabled,d.filter(function(e){return!e.disabled}).length||d.map(function(e){return e.disabled=!1,O.selectAll(&quot;.nv-series&quot;).classed(&quot;disabled&quot;,!1),e}),g.disabled=d.map(function(e){return!!e.disabled}),w.stateChange(g),e.transition().call(x)}),i.dispatch.on(&quot;legendDblclick&quot;,function(e){d.forEach(function(e){e.disabled=!0}),e.disabled=!1,g.disabled=d.map(function(e){return!!e.disabled}),w.stateChange(g),x.update()}),w.on(&quot;tooltipShow&quot;,function(e){p&amp;&amp;S(e,N.parentNode)}),w.on(&quot;changeState&quot;,function(e){typeof e.disabled!=&quot;undefined&quot;&amp;&amp;(d.forEach(function(t,n){t.disabled=e.disabled[n]}),g.disabled=e.disabled),x.update()})}),x}var t=e.models.historicalBar(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),s={top:30,right:90,bottom:50,left:90},o=e.utils.defaultColor(),u=null,a=null,f=!1,l=!0,c=!0,h=!1,p=!0,d=function(e,t,n,r,i){return&quot;&lt;h3&gt;&quot;+e+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+n+&quot; at &quot;+t+&quot;&lt;/p&gt;&quot;},v,m,g={},y=null,b=&quot;No Data Available.&quot;,w=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;stateChange&quot;,&quot;changeState&quot;),E=250;n.orient(&quot;bottom&quot;).tickPadding(7),r.orient(h?&quot;right&quot;:&quot;left&quot;);var S=function(i,s){if(s){var o=d3.select(s).select(&quot;svg&quot;),u=o.node()?o.attr(&quot;viewBox&quot;):null;if(u){u=u.split(&quot; &quot;);var a=parseInt(o.style(&quot;width&quot;))/u[2];i.pos[0]=i.pos[0]*a,i.pos[1]=i.pos[1]*a}}var f=i.pos[0]+(s.offsetLeft||0),l=i.pos[1]+(s.offsetTop||0),c=n.tickFormat()(t.x()(i.point,i.pointIndex)),h=r.tickFormat()(t.y()(i.point,i.pointIndex)),p=d(i.series.key,c,h,i,x);e.tooltip.show([f,l],p,null,null,s)};return t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+s.left,e.pos[1]+s.top],w.tooltipShow(e)}),t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){w.tooltipHide(e)}),w.on(&quot;tooltipHide&quot;,function(){p&amp;&amp;e.tooltip.cleanup()}),x.dispatch=w,x.bars=t,x.legend=i,x.xAxis=n,x.yAxis=r,d3.rebind(x,t,&quot;defined&quot;,&quot;isArea&quot;,&quot;x&quot;,&quot;y&quot;,&quot;size&quot;,&quot;xScale&quot;,&quot;yScale&quot;,&quot;xDomain&quot;,&quot;yDomain&quot;,&quot;xRange&quot;,&quot;yRange&quot;,&quot;forceX&quot;,&quot;forceY&quot;,&quot;interactive&quot;,&quot;clipEdge&quot;,&quot;clipVoronoi&quot;,&quot;id&quot;,&quot;interpolate&quot;,&quot;highlightPoint&quot;,&quot;clearHighlights&quot;,&quot;interactive&quot;),x.options=e.utils.optionsFunc.bind(x),x.margin=function(e){return arguments.length?(s.top=typeof e.top!=&quot;undefined&quot;?e.top:s.top,s.right=typeof e.right!=&quot;undefined&quot;?e.right:s.right,s.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:s.bottom,s.left=typeof e.left!=&quot;undefined&quot;?e.left:s.left,x):s},x.width=function(e){return arguments.length?(u=e,x):u},x.height=function(e){return arguments.length?(a=e,x):a},x.color=function(t){return arguments.length?(o=e.utils.getColor(t),i.color(o),x):o},x.showLegend=function(e){return arguments.length?(f=e,x):f},x.showXAxis=function(e){return arguments.length?(l=e,x):l},x.showYAxis=function(e){return arguments.length?(c=e,x):c},x.rightAlignYAxis=function(e){return arguments.length?(h=e,r.orient(e?&quot;right&quot;:&quot;left&quot;),x):h},x.tooltips=function(e){return arguments.length?(p=e,x):p},x.tooltipContent=function(e){return arguments.length?(d=e,x):d},x.state=function(e){return arguments.length?(g=e,x):g},x.defaultState=function(e){return arguments.length?(y=e,x):y},x.noData=function(e){return arguments.length?(b=e,x):b},x.transitionDuration=function(e){return arguments.length?(E=e,x):E},x},e.models.indentedTree=function(){&quot;use strict&quot;;function g(e){return e.each(function(e){function k(e,t,n){d3.event.stopPropagation();if(d3.event.shiftKey&amp;&amp;!n)return d3.event.shiftKey=!1,e.values&amp;&amp;e.values.forEach(function(e){(e.values||e._values)&amp;&amp;k(e,0,!0)}),!0;if(!O(e))return!0;e.values?(e._values=e.values,e.values=null):(e.values=e._values,e._values=null),g.update()}function L(e){return e._values&amp;&amp;e._values.length?h:e.values&amp;&amp;e.values.length?p:&quot;&quot;}function A(e){return e._values&amp;&amp;e._values.length}function O(e){var t=e.values||e._values;return t&amp;&amp;t.length}var t=1,n=d3.select(this),i=d3.layout.tree().children(function(e){return e.values}).size([r,f]);g.update=function(){n.transition().duration(600).call(g)},e[0]||(e[0]={key:a});var s=i.nodes(e[0]),y=d3.select(this).selectAll(&quot;div&quot;).data([[s]]),b=y.enter().append(&quot;div&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-indentedtree&quot;),w=b.append(&quot;table&quot;),E=y.select(&quot;table&quot;).attr(&quot;width&quot;,&quot;100%&quot;).attr(&quot;class&quot;,c);if(o){var S=w.append(&quot;thead&quot;),x=S.append(&quot;tr&quot;);l.forEach(function(e){x.append(&quot;th&quot;).attr(&quot;width&quot;,e.width?e.width:&quot;10%&quot;).style(&quot;text-align&quot;,e.type==&quot;numeric&quot;?&quot;right&quot;:&quot;left&quot;).append(&quot;span&quot;).text(e.label)})}var T=E.selectAll(&quot;tbody&quot;).data(function(e){return e});T.enter().append(&quot;tbody&quot;),t=d3.max(s,function(e){return e.depth}),i.size([r,t*f]);var N=T.selectAll(&quot;tr&quot;).data(function(e){return e.filter(function(e){return u&amp;&amp;!e.children?u(e):!0})},function(e,t){return e.id||e.id||++m});N.exit().remove(),N.select(&quot;img.nv-treeicon&quot;).attr(&quot;src&quot;,L).classed(&quot;folded&quot;,A);var C=N.enter().append(&quot;tr&quot;);l.forEach(function(e,t){var n=C.append(&quot;td&quot;).style(&quot;padding-left&quot;,function(e){return(t?0:e.depth*f+12+(L(e)?0:16))+&quot;px&quot;},&quot;important&quot;).style(&quot;text-align&quot;,e.type==&quot;numeric&quot;?&quot;right&quot;:&quot;left&quot;);t==0&amp;&amp;n.append(&quot;img&quot;).classed(&quot;nv-treeicon&quot;,!0).classed(&quot;nv-folded&quot;,A).attr(&quot;src&quot;,L).style(&quot;width&quot;,&quot;14px&quot;).style(&quot;height&quot;,&quot;14px&quot;).style(&quot;padding&quot;,&quot;0 1px&quot;).style(&quot;display&quot;,function(e){return L(e)?&quot;inline-block&quot;:&quot;none&quot;}).on(&quot;click&quot;,k),n.each(function(n){!t&amp;&amp;v(n)?d3.select(this).append(&quot;a&quot;).attr(&quot;href&quot;,v).attr(&quot;class&quot;,d3.functor(e.classes)).append(&quot;span&quot;):d3.select(this).append(&quot;span&quot;),d3.select(this).select(&quot;span&quot;).attr(&quot;class&quot;,d3.functor(e.classes)).text(function(t){return e.format?e.format(t):t[e.key]||&quot;-&quot;})}),e.showCount&amp;&amp;(n.append(&quot;span&quot;).attr(&quot;class&quot;,&quot;nv-childrenCount&quot;),N.selectAll(&quot;span.nv-childrenCount&quot;).text(function(e){return e.values&amp;&amp;e.values.length||e._values&amp;&amp;e._values.length?&quot;(&quot;+(e.values&amp;&amp;e.values.filter(function(e){return u?u(e):!0}).length||e._values&amp;&amp;e._values.filter(function(e){return u?u(e):!0}).length||0)+&quot;)&quot;:&quot;&quot;}))}),N.order().on(&quot;click&quot;,function(e){d.elementClick({row:this,data:e,pos:[e.x,e.y]})}).on(&quot;dblclick&quot;,function(e){d.elementDblclick({row:this,data:e,pos:[e.x,e.y]})}).on(&quot;mouseover&quot;,function(e){d.elementMouseover({row:this,data:e,pos:[e.x,e.y]})}).on(&quot;mouseout&quot;,function(e){d.elementMouseout({row:this,data:e,pos:[e.x,e.y]})})}),g}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=e.utils.defaultColor(),s=Math.floor(Math.random()*1e4),o=!0,u=!1,a=&quot;No Data Available.&quot;,f=20,l=[{key:&quot;key&quot;,label:&quot;Name&quot;,type:&quot;text&quot;}],c=null,h=&quot;images/grey-plus.png&quot;,p=&quot;images/grey-minus.png&quot;,d=d3.dispatch(&quot;elementClick&quot;,&quot;elementDblclick&quot;,&quot;elementMouseover&quot;,&quot;elementMouseout&quot;),v=function(e){return e.url},m=0;return g.options=e.utils.optionsFunc.bind(g),g.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,g):t},g.width=function(e){return arguments.length?(n=e,g):n},g.height=function(e){return arguments.length?(r=e,g):r},g.color=function(t){return arguments.length?(i=e.utils.getColor(t),scatter.color(i),g):i},g.id=function(e){return arguments.length?(s=e,g):s},g.header=function(e){return arguments.length?(o=e,g):o},g.noData=function(e){return arguments.length?(a=e,g):a},g.filterZero=function(e){return arguments.length?(u=e,g):u},g.columns=function(e){return arguments.length?(l=e,g):l},g.tableClass=function(e){return arguments.length?(c=e,g):c},g.iconOpen=function(e){return arguments.length?(h=e,g):h},g.iconClose=function(e){return arguments.length?(p=e,g):p},g.getUrl=function(e){return arguments.length?(v=e,g):v},g},e.models.legend=function(){&quot;use strict&quot;;function c(h){return h.each(function(c){var h=n-t.left-t.right,p=d3.select(this),d=p.selectAll(&quot;g.nv-legend&quot;).data([c]),v=d.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-legend&quot;).append(&quot;g&quot;),m=d.select(&quot;g&quot;);d.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;);var g=m.selectAll(&quot;.nv-series&quot;).data(function(e){return e}),y=g.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-series&quot;).on(&quot;mouseover&quot;,function(e,t){l.legendMouseover(e,t)}).on(&quot;mouseout&quot;,function(e,t){l.legendMouseout(e,t)}).on(&quot;click&quot;,function(e,t){l.legendClick(e,t),a&amp;&amp;(f?(c.forEach(function(e){e.disabled=!0}),e.disabled=!1):(e.disabled=!e.disabled,c.every(function(e){return e.disabled})&amp;&amp;c.forEach(function(e){e.disabled=!1})),l.stateChange({disabled:c.map(function(e){return!!e.disabled})}))}).on(&quot;dblclick&quot;,function(e,t){l.legendDblclick(e,t),a&amp;&amp;(c.forEach(function(e){e.disabled=!0}),e.disabled=!1,l.stateChange({disabled:c.map(function(e){return!!e.disabled})}))});y.append(&quot;circle&quot;).style(&quot;stroke-width&quot;,2).attr(&quot;class&quot;,&quot;nv-legend-symbol&quot;).attr(&quot;r&quot;,5),y.append(&quot;text&quot;).attr(&quot;text-anchor&quot;,&quot;start&quot;).attr(&quot;class&quot;,&quot;nv-legend-text&quot;).attr(&quot;dy&quot;,&quot;.32em&quot;).attr(&quot;dx&quot;,&quot;8&quot;),g.classed(&quot;disabled&quot;,function(e){return e.disabled}),g.exit().remove(),g.select(&quot;circle&quot;).style(&quot;fill&quot;,function(e,t){return e.color||s(e,t)}).style(&quot;stroke&quot;,function(e,t){return e.color||s(e,t)}),g.select(&quot;text&quot;).text(i);if(o){var b=[];g.each(function(t,n){var r=d3.select(this).select(&quot;text&quot;),i;try{i=r.getComputedTextLength();if(i&lt;=0)throw Error()}catch(s){i=e.utils.calcApproxTextWidth(r)}b.push(i+28)});var w=0,E=0,S=[];while(E&lt;h&amp;&amp;w&lt;b.length)S[w]=b[w],E+=b[w++];w===0&amp;&amp;(w=1);while(E&gt;h&amp;&amp;w&gt;1){S=[],w--;for(var x=0;x&lt;b.length;x++)b[x]&gt;(S[x%w]||0)&amp;&amp;(S[x%w]=b[x]);E=S.reduce(function(e,t,n,r){return e+t})}var T=[];for(var N=0,C=0;N&lt;w;N++)T[N]=C,C+=S[N];g.attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+T[t%w]+&quot;,&quot;+(5+Math.floor(t/w)*20)+&quot;)&quot;}),u?m.attr(&quot;transform&quot;,&quot;translate(&quot;+(n-t.right-E)+&quot;,&quot;+t.top+&quot;)&quot;):m.attr(&quot;transform&quot;,&quot;translate(0,&quot;+t.top+&quot;)&quot;),r=t.top+t.bottom+Math.ceil(b.length/w)*20}else{var k=5,L=5,A=0,O;g.attr(&quot;transform&quot;,function(e,r){var i=d3.select(this).select(&quot;text&quot;).node().getComputedTextLength()+28;return O=L,n&lt;t.left+t.right+O+i&amp;&amp;(L=O=5,k+=20),L+=i,L&gt;A&amp;&amp;(A=L),&quot;translate(&quot;+O+&quot;,&quot;+k+&quot;)&quot;}),m.attr(&quot;transform&quot;,&quot;translate(&quot;+(n-t.right-A)+&quot;,&quot;+t.top+&quot;)&quot;),r=t.top+t.bottom+k+15}}),c}var t={top:5,right:0,bottom:5,left:0},n=400,r=20,i=function(e){return e.key},s=e.utils.defaultColor(),o=!0,u=!0,a=!0,f=!1,l=d3.dispatch(&quot;legendClick&quot;,&quot;legendDblclick&quot;,&quot;legendMouseover&quot;,&quot;legendMouseout&quot;,&quot;stateChange&quot;);return c.dispatch=l,c.options=e.utils.optionsFunc.bind(c),c.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,c):t},c.width=function(e){return arguments.length?(n=e,c):n},c.height=function(e){return arguments.length?(r=e,c):r},c.key=function(e){return arguments.length?(i=e,c):i},c.color=function(t){return arguments.length?(s=e.utils.getColor(t),c):s},c.align=function(e){return arguments.length?(o=e,c):o},c.rightAlign=function(e){return arguments.length?(u=e,c):u},c.updateState=function(e){return arguments.length?(a=e,c):a},c.radioButtonMode=function(e){return arguments.length?(f=e,c):f},c},e.models.line=function(){&quot;use strict&quot;;function m(g){return g.each(function(m){var g=r-n.left-n.right,b=i-n.top-n.bottom,w=d3.select(this);c=t.xScale(),h=t.yScale(),d=d||c,v=v||h;var E=w.selectAll(&quot;g.nv-wrap.nv-line&quot;).data([m]),S=E.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-line&quot;),T=S.append(&quot;defs&quot;),N=S.append(&quot;g&quot;),C=E.select(&quot;g&quot;);N.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-groups&quot;),N.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-scatterWrap&quot;),E.attr(&quot;transform&quot;,&quot;translate(&quot;+n.left+&quot;,&quot;+n.top+&quot;)&quot;),t.width(g).height(b);var k=E.select(&quot;.nv-scatterWrap&quot;);k.transition().call(t),T.append(&quot;clipPath&quot;).attr(&quot;id&quot;,&quot;nv-edge-clip-&quot;+t.id()).append(&quot;rect&quot;),E.select(&quot;#nv-edge-clip-&quot;+t.id()+&quot; rect&quot;).attr(&quot;width&quot;,g).attr(&quot;height&quot;,b),C.attr(&quot;clip-path&quot;,l?&quot;url(#nv-edge-clip-&quot;+t.id()+&quot;)&quot;:&quot;&quot;),k.attr(&quot;clip-path&quot;,l?&quot;url(#nv-edge-clip-&quot;+t.id()+&quot;)&quot;:&quot;&quot;);var L=E.select(&quot;.nv-groups&quot;).selectAll(&quot;.nv-group&quot;).data(function(e){return e},function(e){return e.key});L.enter().append(&quot;g&quot;).style(&quot;stroke-opacity&quot;,1e-6).style(&quot;fill-opacity&quot;,1e-6),L.exit().remove(),L.attr(&quot;class&quot;,function(e,t){return&quot;nv-group nv-series-&quot;+t}).classed(&quot;hover&quot;,function(e){return e.hover}).style(&quot;fill&quot;,function(e,t){return s(e,t)}).style(&quot;stroke&quot;,function(e,t){return s(e,t)}),L.transition().style(&quot;stroke-opacity&quot;,1).style(&quot;fill-opacity&quot;,.5);var A=L.selectAll(&quot;path.nv-area&quot;).data(function(e){return f(e)?[e]:[]});A.enter().append(&quot;path&quot;).attr(&quot;class&quot;,&quot;nv-area&quot;).attr(&quot;d&quot;,function(t){return d3.svg.area().interpolate(p).defined(a).x(function(t,n){return e.</div><div class='line' id='LC3'>utils.NaNtoZero(d(o(t,n)))}).y0(function(t,n){return e.utils.NaNtoZero(v(u(t,n)))}).y1(function(e,t){return v(h.domain()[0]&lt;=0?h.domain()[1]&gt;=0?0:h.domain()[1]:h.domain()[0])}).apply(this,[t.values])}),L.exit().selectAll(&quot;path.nv-area&quot;).remove(),A.transition().attr(&quot;d&quot;,function(t){return d3.svg.area().interpolate(p).defined(a).x(function(t,n){return e.utils.NaNtoZero(c(o(t,n)))}).y0(function(t,n){return e.utils.NaNtoZero(h(u(t,n)))}).y1(function(e,t){return h(h.domain()[0]&lt;=0?h.domain()[1]&gt;=0?0:h.domain()[1]:h.domain()[0])}).apply(this,[t.values])});var O=L.selectAll(&quot;path.nv-line&quot;).data(function(e){return[e.values]});O.enter().append(&quot;path&quot;).attr(&quot;class&quot;,&quot;nv-line&quot;).attr(&quot;d&quot;,d3.svg.line().interpolate(p).defined(a).x(function(t,n){return e.utils.NaNtoZero(d(o(t,n)))}).y(function(t,n){return e.utils.NaNtoZero(v(u(t,n)))})),O.transition().attr(&quot;d&quot;,d3.svg.line().interpolate(p).defined(a).x(function(t,n){return e.utils.NaNtoZero(c(o(t,n)))}).y(function(t,n){return e.utils.NaNtoZero(h(u(t,n)))})),d=c.copy(),v=h.copy()}),m}var t=e.models.scatter(),n={top:0,right:0,bottom:0,left:0},r=960,i=500,s=e.utils.defaultColor(),o=function(e){return e.x},u=function(e){return e.y},a=function(e,t){return!isNaN(u(e,t))&amp;&amp;u(e,t)!==null},f=function(e){return e.area},l=!1,c,h,p=&quot;linear&quot;;t.size(16).sizeDomain([16,256]);var d,v;return m.dispatch=t.dispatch,m.scatter=t,d3.rebind(m,t,&quot;id&quot;,&quot;interactive&quot;,&quot;size&quot;,&quot;xScale&quot;,&quot;yScale&quot;,&quot;zScale&quot;,&quot;xDomain&quot;,&quot;yDomain&quot;,&quot;xRange&quot;,&quot;yRange&quot;,&quot;sizeDomain&quot;,&quot;forceX&quot;,&quot;forceY&quot;,&quot;forceSize&quot;,&quot;clipVoronoi&quot;,&quot;useVoronoi&quot;,&quot;clipRadius&quot;,&quot;padData&quot;,&quot;highlightPoint&quot;,&quot;clearHighlights&quot;),m.options=e.utils.optionsFunc.bind(m),m.margin=function(e){return arguments.length?(n.top=typeof e.top!=&quot;undefined&quot;?e.top:n.top,n.right=typeof e.right!=&quot;undefined&quot;?e.right:n.right,n.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:n.bottom,n.left=typeof e.left!=&quot;undefined&quot;?e.left:n.left,m):n},m.width=function(e){return arguments.length?(r=e,m):r},m.height=function(e){return arguments.length?(i=e,m):i},m.x=function(e){return arguments.length?(o=e,t.x(e),m):o},m.y=function(e){return arguments.length?(u=e,t.y(e),m):u},m.clipEdge=function(e){return arguments.length?(l=e,m):l},m.color=function(n){return arguments.length?(s=e.utils.getColor(n),t.color(s),m):s},m.interpolate=function(e){return arguments.length?(p=e,m):p},m.defined=function(e){return arguments.length?(a=e,m):a},m.isArea=function(e){return arguments.length?(f=d3.functor(e),m):f},m},e.models.lineChart=function(){&quot;use strict&quot;;function N(m){return m.each(function(m){var C=d3.select(this),k=this,L=(a||parseInt(C.style(&quot;width&quot;))||960)-o.left-o.right,A=(f||parseInt(C.style(&quot;height&quot;))||400)-o.top-o.bottom;N.update=function(){C.transition().duration(x).call(N)},N.container=this,b.disabled=m.map(function(e){return!!e.disabled});if(!w){var O;w={};for(O in b)b[O]instanceof Array?w[O]=b[O].slice(0):w[O]=b[O]}if(!m||!m.length||!m.filter(function(e){return e.values.length}).length){var M=C.selectAll(&quot;.nv-noData&quot;).data([E]);return M.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),M.attr(&quot;x&quot;,o.left+L/2).attr(&quot;y&quot;,o.top+A/2).text(function(e){return e}),N}C.selectAll(&quot;.nv-noData&quot;).remove(),g=t.xScale(),y=t.yScale();var _=C.selectAll(&quot;g.nv-wrap.nv-lineChart&quot;).data([m]),D=_.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-lineChart&quot;).append(&quot;g&quot;),P=_.select(&quot;g&quot;);D.append(&quot;rect&quot;).style(&quot;opacity&quot;,0),D.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),D.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y nv-axis&quot;),D.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-linesWrap&quot;),D.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-legendWrap&quot;),D.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-interactive&quot;),P.select(&quot;rect&quot;).attr(&quot;width&quot;,L).attr(&quot;height&quot;,A&gt;0?A:0),l&amp;&amp;(i.width(L),P.select(&quot;.nv-legendWrap&quot;).datum(m).call(i),o.top!=i.height()&amp;&amp;(o.top=i.height(),A=(f||parseInt(C.style(&quot;height&quot;))||400)-o.top-o.bottom),_.select(&quot;.nv-legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+ -o.top+&quot;)&quot;)),_.attr(&quot;transform&quot;,&quot;translate(&quot;+o.left+&quot;,&quot;+o.top+&quot;)&quot;),p&amp;&amp;P.select(&quot;.nv-y.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+L+&quot;,0)&quot;),d&amp;&amp;(s.width(L).height(A).margin({left:o.left,top:o.top}).svgContainer(C).xScale(g),_.select(&quot;.nv-interactive&quot;).call(s)),t.width(L).height(A).color(m.map(function(e,t){return e.color||u(e,t)}).filter(function(e,t){return!m[t].disabled}));var H=P.select(&quot;.nv-linesWrap&quot;).datum(m.filter(function(e){return!e.disabled}));H.transition().call(t),c&amp;&amp;(n.scale(g).ticks(L/100).tickSize(-A,0),P.select(&quot;.nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+y.range()[0]+&quot;)&quot;),P.select(&quot;.nv-x.nv-axis&quot;).transition().call(n)),h&amp;&amp;(r.scale(y).ticks(A/36).tickSize(-L,0),P.select(&quot;.nv-y.nv-axis&quot;).transition().call(r)),i.dispatch.on(&quot;stateChange&quot;,function(e){b=e,S.stateChange(b),N.update()}),s.dispatch.on(&quot;elementMousemove&quot;,function(i){t.clearHighlights();var a,f,l,c=[];m.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(n,r){f=e.interactiveBisect(n.values,i.pointXValue,N.x()),t.highlightPoint(r,f,!0);var s=n.values[f];if(typeof s==&quot;undefined&quot;)return;typeof a==&quot;undefined&quot;&amp;&amp;(a=s),typeof l==&quot;undefined&quot;&amp;&amp;(l=N.xScale()(N.x()(s,f))),c.push({key:n.key,value:N.y()(s,f),color:u(n,n.seriesIndex)})});if(c.length&gt;2){var h=N.yScale().invert(i.mouseY),p=Math.abs(N.yScale().domain()[0]-N.yScale().domain()[1]),d=.03*p,g=e.nearestValueIndex(c.map(function(e){return e.value}),h,d);g!==null&amp;&amp;(c[g].highlight=!0)}var y=n.tickFormat()(N.x()(a,f));s.tooltip.position({left:l+o.left,top:i.mouseY+o.top}).chartContainer(k.parentNode).enabled(v).valueFormatter(function(e,t){return r.tickFormat()(e)}).data({value:y,series:c})(),s.renderGuideLine(l)}),s.dispatch.on(&quot;elementMouseout&quot;,function(e){S.tooltipHide(),t.clearHighlights()}),S.on(&quot;tooltipShow&quot;,function(e){v&amp;&amp;T(e,k.parentNode)}),S.on(&quot;changeState&quot;,function(e){typeof e.disabled!=&quot;undefined&quot;&amp;&amp;m.length===e.disabled.length&amp;&amp;(m.forEach(function(t,n){t.disabled=e.disabled[n]}),b.disabled=e.disabled),N.update()})}),N}var t=e.models.line(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),s=e.interactiveGuideline(),o={top:30,right:20,bottom:50,left:60},u=e.utils.defaultColor(),a=null,f=null,l=!0,c=!0,h=!0,p=!1,d=!1,v=!0,m=function(e,t,n,r,i){return&quot;&lt;h3&gt;&quot;+e+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+n+&quot; at &quot;+t+&quot;&lt;/p&gt;&quot;},g,y,b={},w=null,E=&quot;No Data Available.&quot;,S=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;stateChange&quot;,&quot;changeState&quot;),x=250;n.orient(&quot;bottom&quot;).tickPadding(7),r.orient(p?&quot;right&quot;:&quot;left&quot;);var T=function(i,s){var o=i.pos[0]+(s.offsetLeft||0),u=i.pos[1]+(s.offsetTop||0),a=n.tickFormat()(t.x()(i.point,i.pointIndex)),f=r.tickFormat()(t.y()(i.point,i.pointIndex)),l=m(i.series.key,a,f,i,N);e.tooltip.show([o,u],l,null,null,s)};return t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+o.left,e.pos[1]+o.top],S.tooltipShow(e)}),t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){S.tooltipHide(e)}),S.on(&quot;tooltipHide&quot;,function(){v&amp;&amp;e.tooltip.cleanup()}),N.dispatch=S,N.lines=t,N.legend=i,N.xAxis=n,N.yAxis=r,N.interactiveLayer=s,d3.rebind(N,t,&quot;defined&quot;,&quot;isArea&quot;,&quot;x&quot;,&quot;y&quot;,&quot;size&quot;,&quot;xScale&quot;,&quot;yScale&quot;,&quot;xDomain&quot;,&quot;yDomain&quot;,&quot;xRange&quot;,&quot;yRange&quot;,&quot;forceX&quot;,&quot;forceY&quot;,&quot;interactive&quot;,&quot;clipEdge&quot;,&quot;clipVoronoi&quot;,&quot;useVoronoi&quot;,&quot;id&quot;,&quot;interpolate&quot;),N.options=e.utils.optionsFunc.bind(N),N.margin=function(e){return arguments.length?(o.top=typeof e.top!=&quot;undefined&quot;?e.top:o.top,o.right=typeof e.right!=&quot;undefined&quot;?e.right:o.right,o.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:o.bottom,o.left=typeof e.left!=&quot;undefined&quot;?e.left:o.left,N):o},N.width=function(e){return arguments.length?(a=e,N):a},N.height=function(e){return arguments.length?(f=e,N):f},N.color=function(t){return arguments.length?(u=e.utils.getColor(t),i.color(u),N):u},N.showLegend=function(e){return arguments.length?(l=e,N):l},N.showXAxis=function(e){return arguments.length?(c=e,N):c},N.showYAxis=function(e){return arguments.length?(h=e,N):h},N.rightAlignYAxis=function(e){return arguments.length?(p=e,r.orient(e?&quot;right&quot;:&quot;left&quot;),N):p},N.useInteractiveGuideline=function(e){return arguments.length?(d=e,e===!0&amp;&amp;(N.interactive(!1),N.useVoronoi(!1)),N):d},N.tooltips=function(e){return arguments.length?(v=e,N):v},N.tooltipContent=function(e){return arguments.length?(m=e,N):m},N.state=function(e){return arguments.length?(b=e,N):b},N.defaultState=function(e){return arguments.length?(w=e,N):w},N.noData=function(e){return arguments.length?(E=e,N):E},N.transitionDuration=function(e){return arguments.length?(x=e,N):x},N},e.models.linePlusBarChart=function(){&quot;use strict&quot;;function T(e){return e.each(function(e){var l=d3.select(this),c=this,v=(a||parseInt(l.style(&quot;width&quot;))||960)-u.left-u.right,N=(f||parseInt(l.style(&quot;height&quot;))||400)-u.top-u.bottom;T.update=function(){l.transition().call(T)},b.disabled=e.map(function(e){return!!e.disabled});if(!w){var C;w={};for(C in b)b[C]instanceof Array?w[C]=b[C].slice(0):w[C]=b[C]}if(!e||!e.length||!e.filter(function(e){return e.values.length}).length){var k=l.selectAll(&quot;.nv-noData&quot;).data([E]);return k.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),k.attr(&quot;x&quot;,u.left+v/2).attr(&quot;y&quot;,u.top+N/2).text(function(e){return e}),T}l.selectAll(&quot;.nv-noData&quot;).remove();var L=e.filter(function(e){return!e.disabled&amp;&amp;e.bar}),A=e.filter(function(e){return!e.bar});m=A.filter(function(e){return!e.disabled}).length&amp;&amp;A.filter(function(e){return!e.disabled})[0].values.length?t.xScale():n.xScale(),g=n.yScale(),y=t.yScale();var O=d3.select(this).selectAll(&quot;g.nv-wrap.nv-linePlusBar&quot;).data([e]),M=O.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-linePlusBar&quot;).append(&quot;g&quot;),_=O.select(&quot;g&quot;);M.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),M.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y1 nv-axis&quot;),M.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y2 nv-axis&quot;),M.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-barsWrap&quot;),M.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-linesWrap&quot;),M.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-legendWrap&quot;),p&amp;&amp;(o.width(v/2),_.select(&quot;.nv-legendWrap&quot;).datum(e.map(function(e){return e.originalKey=e.originalKey===undefined?e.key:e.originalKey,e.key=e.originalKey+(e.bar?&quot; (left axis)&quot;:&quot; (right axis)&quot;),e})).call(o),u.top!=o.height()&amp;&amp;(u.top=o.height(),N=(f||parseInt(l.style(&quot;height&quot;))||400)-u.top-u.bottom),_.select(&quot;.nv-legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+v/2+&quot;,&quot;+ -u.top+&quot;)&quot;)),O.attr(&quot;transform&quot;,&quot;translate(&quot;+u.left+&quot;,&quot;+u.top+&quot;)&quot;),t.width(v).height(N).color(e.map(function(e,t){return e.color||h(e,t)}).filter(function(t,n){return!e[n].disabled&amp;&amp;!e[n].bar})),n.width(v).height(N).color(e.map(function(e,t){return e.color||h(e,t)}).filter(function(t,n){return!e[n].disabled&amp;&amp;e[n].bar}));var D=_.select(&quot;.nv-barsWrap&quot;).datum(L.length?L:[{values:[]}]),P=_.select(&quot;.nv-linesWrap&quot;).datum(A[0]&amp;&amp;!A[0].disabled?A:[{values:[]}]);d3.transition(D).call(n),d3.transition(P).call(t),r.scale(m).ticks(v/100).tickSize(-N,0),_.select(&quot;.nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+g.range()[0]+&quot;)&quot;),d3.transition(_.select(&quot;.nv-x.nv-axis&quot;)).call(r),i.scale(g).ticks(N/36).tickSize(-v,0),d3.transition(_.select(&quot;.nv-y1.nv-axis&quot;)).style(&quot;opacity&quot;,L.length?1:0).call(i),s.scale(y).ticks(N/36).tickSize(L.length?0:-v,0),_.select(&quot;.nv-y2.nv-axis&quot;).style(&quot;opacity&quot;,A.length?1:0).attr(&quot;transform&quot;,&quot;translate(&quot;+v+&quot;,0)&quot;),d3.transition(_.select(&quot;.nv-y2.nv-axis&quot;)).call(s),o.dispatch.on(&quot;stateChange&quot;,function(e){b=e,S.stateChange(b),T.update()}),S.on(&quot;tooltipShow&quot;,function(e){d&amp;&amp;x(e,c.parentNode)}),S.on(&quot;changeState&quot;,function(t){typeof t.disabled!=&quot;undefined&quot;&amp;&amp;(e.forEach(function(e,n){e.disabled=t.disabled[n]}),b.disabled=t.disabled),T.update()})}),T}var t=e.models.line(),n=e.models.historicalBar(),r=e.models.axis(),i=e.models.axis(),s=e.models.axis(),o=e.models.legend(),u={top:30,right:60,bottom:50,left:60},a=null,f=null,l=function(e){return e.x},c=function(e){return e.y},h=e.utils.defaultColor(),p=!0,d=!0,v=function(e,t,n,r,i){return&quot;&lt;h3&gt;&quot;+e+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+n+&quot; at &quot;+t+&quot;&lt;/p&gt;&quot;},m,g,y,b={},w=null,E=&quot;No Data Available.&quot;,S=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;stateChange&quot;,&quot;changeState&quot;);n.padData(!0),t.clipEdge(!1).padData(!0),r.orient(&quot;bottom&quot;).tickPadding(7).highlightZero(!1),i.orient(&quot;left&quot;),s.orient(&quot;right&quot;);var x=function(n,o){var u=n.pos[0]+(o.offsetLeft||0),a=n.pos[1]+(o.offsetTop||0),f=r.tickFormat()(t.x()(n.point,n.pointIndex)),l=(n.series.bar?i:s).tickFormat()(t.y()(n.point,n.pointIndex)),c=v(n.series.key,f,l,n,T);e.tooltip.show([u,a],c,n.value&lt;0?&quot;n&quot;:&quot;s&quot;,null,o)};return t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+u.left,e.pos[1]+u.top],S.tooltipShow(e)}),t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){S.tooltipHide(e)}),n.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+u.left,e.pos[1]+u.top],S.tooltipShow(e)}),n.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){S.tooltipHide(e)}),S.on(&quot;tooltipHide&quot;,function(){d&amp;&amp;e.tooltip.cleanup()}),T.dispatch=S,T.legend=o,T.lines=t,T.bars=n,T.xAxis=r,T.y1Axis=i,T.y2Axis=s,d3.rebind(T,t,&quot;defined&quot;,&quot;size&quot;,&quot;clipVoronoi&quot;,&quot;interpolate&quot;),T.options=e.utils.optionsFunc.bind(T),T.x=function(e){return arguments.length?(l=e,t.x(e),n.x(e),T):l},T.y=function(e){return arguments.length?(c=e,t.y(e),n.y(e),T):c},T.margin=function(e){return arguments.length?(u.top=typeof e.top!=&quot;undefined&quot;?e.top:u.top,u.right=typeof e.right!=&quot;undefined&quot;?e.right:u.right,u.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:u.bottom,u.left=typeof e.left!=&quot;undefined&quot;?e.left:u.left,T):u},T.width=function(e){return arguments.length?(a=e,T):a},T.height=function(e){return arguments.length?(f=e,T):f},T.color=function(t){return arguments.length?(h=e.utils.getColor(t),o.color(h),T):h},T.showLegend=function(e){return arguments.length?(p=e,T):p},T.tooltips=function(e){return arguments.length?(d=e,T):d},T.tooltipContent=function(e){return arguments.length?(v=e,T):v},T.state=function(e){return arguments.length?(b=e,T):b},T.defaultState=function(e){return arguments.length?(w=e,T):w},T.noData=function(e){return arguments.length?(E=e,T):E},T},e.models.lineWithFocusChart=function(){&quot;use strict&quot;;function k(e){return e.each(function(e){function U(e){var t=+(e==&quot;e&quot;),n=t?1:-1,r=M/3;return&quot;M&quot;+.5*n+&quot;,&quot;+r+&quot;A6,6 0 0 &quot;+t+&quot; &quot;+6.5*n+&quot;,&quot;+(r+6)+&quot;V&quot;+(2*r-6)+&quot;A6,6 0 0 &quot;+t+&quot; &quot;+.5*n+&quot;,&quot;+2*r+&quot;Z&quot;+&quot;M&quot;+2.5*n+&quot;,&quot;+(r+8)+&quot;V&quot;+(2*r-8)+&quot;M&quot;+4.5*n+&quot;,&quot;+(r+8)+&quot;V&quot;+(2*r-8)}function z(){a.empty()||a.extent(w),I.data([a.empty()?g.domain():w]).each(function(e,t){var n=g(e[0])-v.range()[0],r=v.range()[1]-g(e[1]);d3.select(this).select(&quot;.left&quot;).attr(&quot;width&quot;,n&lt;0?0:n),d3.select(this).select(&quot;.right&quot;).attr(&quot;x&quot;,g(e[1])).attr(&quot;width&quot;,r&lt;0?0:r)})}function W(){w=a.empty()?null:a.extent();var n=a.empty()?g.domain():a.extent();if(Math.abs(n[0]-n[1])&lt;=1)return;T.brush({extent:n,brush:a}),z();var s=H.select(&quot;.nv-focus .nv-linesWrap&quot;).datum(e.filter(function(e){return!e.disabled}).map(function(e,r){return{key:e.key,values:e.values.filter(function(e,r){return t.x()(e,r)&gt;=n[0]&amp;&amp;t.x()(e,r)&lt;=n[1]})}}));s.transition().duration(N).call(t),H.select(&quot;.nv-focus .nv-x.nv-axis&quot;).transition().duration(N).call(r),H.select(&quot;.nv-focus .nv-y.nv-axis&quot;).transition().duration(N).call(i)}var S=d3.select(this),L=this,A=(h||parseInt(S.style(&quot;width&quot;))||960)-f.left-f.right,O=(p||parseInt(S.style(&quot;height&quot;))||400)-f.top-f.bottom-d,M=d-l.top-l.bottom;k.update=function(){S.transition().duration(N).call(k)},k.container=this;if(!e||!e.length||!e.filter(function(e){return e.values.length}).length){var _=S.selectAll(&quot;.nv-noData&quot;).data([x]);return _.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),_.attr(&quot;x&quot;,f.left+A/2).attr(&quot;y&quot;,f.top+O/2).text(function(e){return e}),k}S.selectAll(&quot;.nv-noData&quot;).remove(),v=t.xScale(),m=t.yScale(),g=n.xScale(),y=n.yScale();var D=S.selectAll(&quot;g.nv-wrap.nv-lineWithFocusChart&quot;).data([e]),P=D.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-lineWithFocusChart&quot;).append(&quot;g&quot;),H=D.select(&quot;g&quot;);P.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-legendWrap&quot;);var B=P.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-focus&quot;);B.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),B.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y nv-axis&quot;),B.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-linesWrap&quot;);var j=P.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-context&quot;);j.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),j.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y nv-axis&quot;),j.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-linesWrap&quot;),j.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-brushBackground&quot;),j.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-brush&quot;),b&amp;&amp;(u.width(A),H.select(&quot;.nv-legendWrap&quot;).datum(e).call(u),f.top!=u.height()&amp;&amp;(f.top=u.height(),O=(p||parseInt(S.style(&quot;height&quot;))||400)-f.top-f.bottom-d),H.select(&quot;.nv-legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+ -f.top+&quot;)&quot;)),D.attr(&quot;transform&quot;,&quot;translate(&quot;+f.left+&quot;,&quot;+f.top+&quot;)&quot;),t.width(A).height(O).color(e.map(function(e,t){return e.color||c(e,t)}).filter(function(t,n){return!e[n].disabled})),n.defined(t.defined()).width(A).height(M).color(e.map(function(e,t){return e.color||c(e,t)}).filter(function(t,n){return!e[n].disabled})),H.select(&quot;.nv-context&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+(O+f.bottom+l.top)+&quot;)&quot;);var F=H.select(&quot;.nv-context .nv-linesWrap&quot;).datum(e.filter(function(e){return!e.disabled}));d3.transition(F).call(n),r.scale(v).ticks(A/100).tickSize(-O,0),i.scale(m).ticks(O/36).tickSize(-A,0),H.select(&quot;.nv-focus .nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+O+&quot;)&quot;),a.x(g).on(&quot;brush&quot;,function(){var e=k.transitionDuration();k.transitionDuration(0),W(),k.transitionDuration(e)}),w&amp;&amp;a.extent(w);var I=H.select(&quot;.nv-brushBackground&quot;).selectAll(&quot;g&quot;).data([w||a.extent()]),q=I.enter().append(&quot;g&quot;);q.append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;left&quot;).attr(&quot;x&quot;,0).attr(&quot;y&quot;,0).attr(&quot;height&quot;,M),q.append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;right&quot;).attr(&quot;x&quot;,0).attr(&quot;y&quot;,0).attr(&quot;height&quot;,M);var R=H.select(&quot;.nv-x.nv-brush&quot;).call(a);R.selectAll(&quot;rect&quot;).attr(&quot;height&quot;,M),R.selectAll(&quot;.resize&quot;).append(&quot;path&quot;).attr(&quot;d&quot;,U),W(),s.scale(g).ticks(A/100).tickSize(-M,0),H.select(&quot;.nv-context .nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+y.range()[0]+&quot;)&quot;),d3.transition(H.select(&quot;.nv-context .nv-x.nv-axis&quot;)).call(s),o.scale(y).ticks(M/36).tickSize(-A,0),d3.transition(H.select(&quot;.nv-context .nv-y.nv-axis&quot;)).call(o),H.select(&quot;.nv-context .nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+y.range()[0]+&quot;)&quot;),u.dispatch.on(&quot;stateChange&quot;,function(e){k.update()}),T.on(&quot;tooltipShow&quot;,function(e){E&amp;&amp;C(e,L.parentNode)})}),k}var t=e.models.line(),n=e.models.line(),r=e.models.axis(),i=e.models.axis(),s=e.models.axis(),o=e.models.axis(),u=e.models.legend(),a=d3.svg.brush(),f={top:30,right:30,bottom:30,left:60},l={top:0,right:30,bottom:20,left:60},c=e.utils.defaultColor(),h=null,p=null,d=100,v,m,g,y,b=!0,w=null,E=!0,S=function(e,t,n,r,i){return&quot;&lt;h3&gt;&quot;+e+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+n+&quot; at &quot;+t+&quot;&lt;/p&gt;&quot;},x=&quot;No Data Available.&quot;,T=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;brush&quot;),N=250;t.clipEdge(!0),n.interactive(!1),r.orient(&quot;bottom&quot;).tickPadding(5),i.orient(&quot;left&quot;),s.orient(&quot;bottom&quot;).tickPadding(5),o.orient(&quot;left&quot;);var C=function(n,s){var o=n.pos[0]+(s.offsetLeft||0),u=n.pos[1]+(s.offsetTop||0),a=r.tickFormat()(t.x()(n.point,n.pointIndex)),f=i.tickFormat()(t.y()(n.point,n.pointIndex)),l=S(n.series.key,a,f,n,k);e.tooltip.show([o,u],l,null,null,s)};return t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+f.left,e.pos[1]+f.top],T.tooltipShow(e)}),t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){T.tooltipHide(e)}),T.on(&quot;tooltipHide&quot;,function(){E&amp;&amp;e.tooltip.cleanup()}),k.dispatch=T,k.legend=u,k.lines=t,k.lines2=n,k.xAxis=r,k.yAxis=i,k.x2Axis=s,k.y2Axis=o,d3.rebind(k,t,&quot;defined&quot;,&quot;isArea&quot;,&quot;size&quot;,&quot;xDomain&quot;,&quot;yDomain&quot;,&quot;xRange&quot;,&quot;yRange&quot;,&quot;forceX&quot;,&quot;forceY&quot;,&quot;interactive&quot;,&quot;clipEdge&quot;,&quot;clipVoronoi&quot;,&quot;id&quot;),k.options=e.utils.optionsFunc.bind(k),k.x=function(e){return arguments.length?(t.x(e),n.x(e),k):t.x},k.y=function(e){return arguments.length?(t.y(e),n.y(e),k):t.y},k.margin=function(e){return arguments.length?(f.top=typeof e.top!=&quot;undefined&quot;?e.top:f.top,f.right=typeof e.right!=&quot;undefined&quot;?e.right:f.right,f.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:f.bottom,f.left=typeof e.left!=&quot;undefined&quot;?e.left:f.left,k):f},k.margin2=function(e){return arguments.length?(l=e,k):l},k.width=function(e){return arguments.length?(h=e,k):h},k.height=function(e){return arguments.length?(p=e,k):p},k.height2=function(e){return arguments.length?(d=e,k):d},k.color=function(t){return arguments.length?(c=e.utils.getColor(t),u.color(c),k):c},k.showLegend=function(e){return arguments.length?(b=e,k):b},k.tooltips=function(e){return arguments.length?(E=e,k):E},k.tooltipContent=function(e){return arguments.length?(S=e,k):S},k.interpolate=function(e){return arguments.length?(t.interpolate(e),n.interpolate(e),k):t.interpolate()},k.noData=function(e){return arguments.length?(x=e,k):x},k.xTickFormat=function(e){return arguments.length?(r.tickFormat(e),s.tickFormat(e),k):r.tickFormat()},k.yTickFormat=function(e){return arguments.length?(i.tickFormat(e),o.tickFormat(e),k):i.tickFormat()},k.brushExtent=function(e){return arguments.length?(w=e,k):w},k.transitionDuration=function(e){return arguments.length?(N=e,k):N},k},e.models.linePlusBarWithFocusChart=function(){&quot;use strict&quot;;function B(e){return e.each(function(e){function nt(e){var t=+(e==&quot;e&quot;),n=t?1:-1,r=q/3;return&quot;M&quot;+.5*n+&quot;,&quot;+r+&quot;A6,6 0 0 &quot;+t+&quot; &quot;+6.5*n+&quot;,&quot;+(r+6)+&quot;V&quot;+(2*r-6)+&quot;A6,6 0 0 &quot;+t+&quot; &quot;+.5*n+&quot;,&quot;+2*r+&quot;Z&quot;+&quot;M&quot;+2.5*n+&quot;,&quot;+(r+8)+&quot;V&quot;+(2*r-8)+&quot;M&quot;+4.5*n+&quot;,&quot;+(r+8)+&quot;V&quot;+(2*r-8)}function rt(){h.empty()||h.extent(x),Z.data([h.empty()?k.domain():x]).each(function(e,t){var n=k(e[0])-k.range()[0],r=k.range()[1]-k(e[1]);d3.select(this).select(&quot;.left&quot;).attr(&quot;width&quot;,n&lt;0?0:n),d3.select(this).select(&quot;.right&quot;).attr(&quot;x&quot;,k(e[1])).attr(&quot;width&quot;,r&lt;0?0:r)})}function it(){x=h.empty()?null:h.extent(),S=h.empty()?k.domain():h.extent(),D.brush({extent:S,brush:h}),rt(),r.width(F).height(I).color(e.map(function(e,t){return e.color||w(e,t)}).filter(function(t,n){return!e[n].disabled&amp;&amp;e[n].bar})),t.width(F).height(I).color(e.map(function(e,t){return e.color||w(e,t)}).filter(function(t,n){return!e[n].disabled&amp;&amp;!e[n].bar}));var n=J.select(&quot;.nv-focus .nv-barsWrap&quot;).datum(U.length?U.map(function(e,t){return{key:e.key,values:e.values.filter(function(e,t){return r.x()(e,t)&gt;=S[0]&amp;&amp;r.x()(e,t)&lt;=S[1]})}}):[{values:[]}]),i=J.select(&quot;.nv-focus .nv-linesWrap&quot;).datum(z[0].disabled?[{values:[]}]:z.map(function(e,n){return{key:e.key,values:e.values.filter(function(e,n){return t.x()(e,n)&gt;=S[0]&amp;&amp;t.x()(e,n)&lt;=S[1]})}}));U.length?C=r.xScale():C=t.xScale(),s.scale(C).ticks(F/100).tickSize(-I,0),s.domain([Math.ceil(S[0]),Math.floor(S[1])]),J.select(&quot;.nv-x.nv-axis&quot;).transition().duration(P).call(s),n.transition().duration(P).call(r),i.transition().duration(P).call(t),J.select(&quot;.nv-focus .nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+L.range()[0]+&quot;)&quot;),u.scale(L).ticks(I/36).tickSize(-F,0),J.select(&quot;.nv-focus .nv-y1.nv-axis&quot;).style(&quot;opacity&quot;,U.length?1:0),a.scale(A).ticks(I/36).tickSize(U.length?0:-F,0),J.select(&quot;.nv-focus .nv-y2.nv-axis&quot;).style(&quot;opacity&quot;,z.length?1:0).attr(&quot;transform&quot;,&quot;translate(&quot;+C.range()[1]+&quot;,0)&quot;),J.select(&quot;.nv-focus .nv-y1.nv-axis&quot;).transition().duration(P).call(u),J.select(&quot;.nv-focus .nv-y2.nv-axis&quot;).transition().duration(P).call(a)}var N=d3.select(this),j=this,F=(v||parseInt(N.style(&quot;width&quot;))||960)-p.left-p.right,I=(m||parseInt(N.style(&quot;height&quot;))||400)-p.top-p.bottom-g,q=g-d.top-d.bottom;B.update=function(){N.transition().duration(P).call(B)},B.container=this;if(!e||!e.length||!e.filter(function(e){return e.values.length}).length){var R=N.selectAll(&quot;.nv-noData&quot;).data([_]);return R.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),R.attr(&quot;x&quot;,p.left+F/2).attr(&quot;y&quot;,p.top+I/2).text(function(e){return e}),B}N.selectAll(&quot;.nv-noData&quot;).remove();var U=e.filter(function(e){return!e.disabled&amp;&amp;e.bar}),z=e.filter(function(e){return!e.bar});C=r.xScale(),k=o.scale(),L=r.yScale(),A=t.yScale(),O=i.yScale(),M=n.yScale();var W=e.filter(function(e){return!e.disabled&amp;&amp;e.bar}).map(function(e){return e.values.map(function(e,t){return{x:y(e,t),y:b(e,t)}})}),X=e.filter(function(e){return!e.disabled&amp;&amp;!e.bar}).map(function(e){return e.values.map(function(e,t){return{x:y(e,t),y:b(e,t)}})});C.range([0,F]),k.domain(d3.extent(d3.merge(W.concat(X)),function(e){return e.x})).range([0,F]);var V=N.selectAll(&quot;g.nv-wrap.nv-linePlusBar&quot;).data([e]),$=V.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-linePlusBar&quot;).append(&quot;g&quot;),J=V.select(&quot;g&quot;);$.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-legendWrap&quot;);var K=$.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-focus&quot;);K.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),K.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y1 nv-axis&quot;),K.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y2 nv-axis&quot;),K.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-barsWrap&quot;),K.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-linesWrap&quot;);var Q=$.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-context&quot;);Q.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),Q.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y1 nv-axis&quot;),Q.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y2 nv-axis&quot;),Q.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-barsWrap&quot;),Q.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-linesWrap&quot;),Q.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-brushBackground&quot;),Q.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-brush&quot;),E&amp;&amp;(c.width(F/2),J.select(&quot;.nv-legendWrap&quot;).datum(e.map(function(e){return e.originalKey=e.originalKey===undefined?e.key:e.originalKey,e.key=e.originalKey+(e.bar?&quot; (left axis)&quot;:&quot; (right axis)&quot;),e})).call(c),p.top!=c.height()&amp;&amp;(p.top=c.height(),I=(m||parseInt(N.style(&quot;height&quot;))||400)-p.top-p.bottom-g),J.select(&quot;.nv-legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+F/2+&quot;,&quot;+ -p.top+&quot;)&quot;)),V.attr(&quot;transform&quot;,&quot;translate(&quot;+p.left+&quot;,&quot;+p.top+&quot;)&quot;),i.width(F).height(q).color(e.map(function(e,t){return e.color||w(e,t)}).filter(function(t,n){return!e[n].disabled&amp;&amp;e[n].bar})),n.width(F).height(q).color(e.map(function(e,t){return e.color||w(e,t)}).filter(function(t,n){return!e[n].disabled&amp;&amp;!e[n].bar}));var G=J.select(&quot;.nv-context .nv-barsWrap&quot;).datum(U.length?U:[{values:[]}]),Y=J.select(&quot;.nv-context .nv-linesWrap&quot;).datum(z[0].disabled?[{values:[]}]:z);J.select(&quot;.nv-context&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+(I+p.bottom+d.top)+&quot;)&quot;),G.transition().call(i),Y.transition().call(n),h.x(k).on(&quot;brush&quot;,it),x&amp;&amp;h.extent(x);var Z=J.select(&quot;.nv-brushBackground&quot;).selectAll(&quot;g&quot;).data([x||h.extent()]),et=Z.enter().append(&quot;g&quot;);et.append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;left&quot;).attr(&quot;x&quot;,0).attr(&quot;y&quot;,0).attr(&quot;height&quot;,q),et.append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;right&quot;).attr(&quot;x&quot;,0).attr(&quot;y&quot;,0).attr(&quot;height&quot;,q);var tt=J.select(&quot;.nv-x.nv-brush&quot;).call(h);tt.selectAll(&quot;rect&quot;).attr(&quot;height&quot;,q),tt.selectAll(&quot;.resize&quot;).append(&quot;path&quot;).attr(&quot;d&quot;,nt),o.ticks(F/100).tickSize(-q,0),J.select(&quot;.nv-context .nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+O.range()[0]+&quot;)&quot;),J.select(&quot;.nv-context .nv-x.nv-axis&quot;).transition().call(o),f.scale(O).ticks(q/36).tickSize(-F,0),J.select(&quot;.nv-context .nv-y1.nv-axis&quot;).style(&quot;opacity&quot;,U.length?1:0).attr(&quot;transform&quot;,&quot;translate(0,&quot;+k.range()[0]+&quot;)&quot;),J.select(&quot;.nv-context .nv-y1.nv-axis&quot;).transition().call(f),l.scale(M).ticks(q/36).tickSize(U.length?0:-F,0),J.select(&quot;.nv-context .nv-y2.nv-axis&quot;).style(&quot;opacity&quot;,z.length?1:0).attr(&quot;transform&quot;,&quot;translate(&quot;+k.range()[1]+&quot;,0)&quot;),J.select(&quot;.nv-context .nv-y2.nv-axis&quot;).transition().call(l),c.dispatch.on(&quot;stateChange&quot;,function(e){B.update()}),D.on(&quot;tooltipShow&quot;,function(e){T&amp;&amp;H(e,j.parentNode)}),it()}),B}var t=e.models.line(),n=e.models.line(),r=e.models.historicalBar(),i=e.models.historicalBar(),s=e.models.axis(),o=e.models.axis(),u=e.models.axis(),a=e.models.axis(),f=e.models.axis(),l=e.models.axis(),c=e.models.legend(),h=d3.svg.brush(),p={top:30,right:30,bottom:30,left:60},d={top:0,right:30,bottom:20,left:60},v=null,m=null,g=100,y=function(e){return e.x},b=function(e){return e.y},w=e.utils.defaultColor(),E=!0,S,x=null,T=!0,N=function(e,t,n,r,i){return&quot;&lt;h3&gt;&quot;+e+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+n+&quot; at &quot;+t+&quot;&lt;/p&gt;&quot;},C,k,L,A,O,M,_=&quot;No Data Available.&quot;,D=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;brush&quot;),P=0;t.clipEdge(!0),n.interactive(!1),s.orient(&quot;bottom&quot;).tickPadding(5),u.orient(&quot;left&quot;),a.orient(&quot;right&quot;),o.orient(&quot;bottom&quot;).tickPadding(5),f.orient(&quot;left&quot;),l.orient(&quot;right&quot;);var H=function(n,r){S&amp;&amp;(n.pointIndex+=Math.ceil(S[0]));var i=n.pos[0]+(r.offsetLeft||0),o=n.pos[1]+(r.offsetTop||0),f=s.tickFormat()(t.x()(n.point,n.pointIndex)),l=(n.series.bar?u:a).tickFormat()(t.y()(n.point,n.pointIndex)),c=N(n.series.key,f,l,n,B);e.tooltip.show([i,o],c,n.value&lt;0?&quot;n&quot;:&quot;s&quot;,null,r)};return t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+p.left,e.pos[1]+p.top],D.tooltipShow(e)}),t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){D.tooltipHide(e)}),r.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+p.left,e.pos[1]+p.top],D.tooltipShow(e)}),r.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){D.tooltipHide(e)}),D.on(&quot;tooltipHide&quot;,function(){T&amp;&amp;e.tooltip.cleanup()}),B.dispatch=D,B.legend=c,B.lines=t,B.lines2=n,B.bars=r,B.bars2=i,B.xAxis=s,B.x2Axis=o,B.y1Axis=u,B.y2Axis=a,B.y3Axis=f,B.y4Axis=l,d3.rebind(B,t,&quot;defined&quot;,&quot;size&quot;,&quot;clipVoronoi&quot;,&quot;interpolate&quot;),B.options=e.utils.optionsFunc.bind(B),B.x=function(e){return arguments.length?(y=e,t.x(e),r.x(e),B):y},B.y=function(e){return arguments.length?(b=e,t.y(e),r.y(e),B):b},B.margin=function(e){return arguments.length?(p.top=typeof e.top!=&quot;undefined&quot;?e.top:p.top,p.right=typeof e.right!=&quot;undefined&quot;?e.right:p.right,p.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:p.bottom,p.left=typeof e.left!=&quot;undefined&quot;?e.left:p.left,B):p},B.width=function(e){return arguments.length?(v=e,B):v},B.height=function(e){return arguments.length?(m=e,B):m},B.color=function(t){return arguments.length?(w=e.utils.getColor(t),c.color(w),B):w},B.showLegend=function(e){return arguments.length?(E=e,B):E},B.tooltips=function(e){return arguments.length?(T=e,B):T},B.tooltipContent=function(e){return arguments.length?(N=e,B):N},B.noData=function(e){return arguments.length?(_=e,B):_},B.brushExtent=function(e){return arguments.length?(x=e,B):x},B},e.models.multiBar=function(){&quot;use strict&quot;;function C(e){return e.each(function(e){var C=n-t.left-t.right,k=r-t.top-t.bottom,L=d3.select(this);d&amp;&amp;e.length&amp;&amp;(d=[{values:e[0].values.map(function(e){return{x:e.x,y:0,series:e.series,size:.01}})}]),c&amp;&amp;(e=d3.layout.stack().offset(h).values(function(e){return e.values}).y(a)(!e.length&amp;&amp;d?d:e)),e.forEach(function(e,t){e.values.forEach(function(e){e.series=t})}),c&amp;&amp;e[0].values.map(function(t,n){var r=0,i=0;e.map(function(e){var t=e.values[n];t.size=Math.abs(t.y),t.y&lt;0?(t.y1=i,i-=t.size):(t.y1=t.size+r,r+=t.size)})});var A=y&amp;&amp;b?[]:e.map(function(e){return e.values.map(function(e,t){return{x:u(e,t),y:a(e,t),y0:e.y0,y1:e.y1}})});i.domain(y||d3.merge(A).map(function(e){return e.x})).rangeBands(w||[0,C],S),s.domain(b||d3.extent(d3.merge(A).map(function(e){return c?e.y&gt;0?e.y1:e.y1+e.y:e.y}).concat(f))).range(E||[k,0]),i.domain()[0]===i.domain()[1]&amp;&amp;(i.domain()[0]?i.domain([i.domain()[0]-i.domain()[0]*.01,i.domain()[1]+i.domain()[1]*.01]):i.domain([-1,1])),s.domain()[0]===s.domain()[1]&amp;&amp;(s.domain()[0]?s.domain([s.domain()[0]+s.domain()[0]*.01,s.domain()[1]-s.domain()[1]*.01]):s.domain([-1,1])),T=T||i,N=N||s;var O=L.selectAll(&quot;g.nv-wrap.nv-multibar&quot;).data([e]),M=O.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-multibar&quot;),_=M.append(&quot;defs&quot;),D=M.append(&quot;g&quot;),P=O.select(&quot;g&quot;);D.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-groups&quot;),O.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;),_.append(&quot;clipPath&quot;).attr(&quot;id&quot;,&quot;nv-edge-clip-&quot;+o).append(&quot;rect&quot;),O.select(&quot;#nv-edge-clip-&quot;+o+&quot; rect&quot;).attr(&quot;width&quot;,C).attr(&quot;height&quot;,k),P.attr(&quot;clip-path&quot;,l?&quot;url(#nv-edge-clip-&quot;+o+&quot;)&quot;:&quot;&quot;);var H=O.select(&quot;.nv-groups&quot;).selectAll(&quot;.nv-group&quot;).data(function(e){return e},function(e,t){return t});H.enter().append(&quot;g&quot;).style(&quot;stroke-opacity&quot;,1e-6).style(&quot;fill-opacity&quot;,1e-6),H.exit().transition().selectAll(&quot;rect.nv-bar&quot;).delay(function(t,n){return n*g/e[0].values.length}).attr(&quot;y&quot;,function(e){return c?N(e.y0):N(0)}).attr(&quot;height&quot;,0).remove(),H.attr(&quot;class&quot;,function(e,t){return&quot;nv-group nv-series-&quot;+t}).classed(&quot;hover&quot;,function(e){return e.hover}).style(&quot;fill&quot;,function(e,t){return p(e,t)}).style(&quot;stroke&quot;,function(e,t){return p(e,t)}),H.transition().style(&quot;stroke-opacity&quot;,1).style(&quot;fill-opacity&quot;,.75);var B=H.selectAll(&quot;rect.nv-bar&quot;).data(function(t){return d&amp;&amp;!e.length?d.values:t.values});B.exit().remove();var j=B.enter().append(&quot;rect&quot;).attr(&quot;class&quot;,function(e,t){return a(e,t)&lt;0?&quot;nv-bar negative&quot;:&quot;nv-bar positive&quot;}).attr(&quot;x&quot;,function(t,n,r){return c?0:r*i.rangeBand()/e.length}).attr(&quot;y&quot;,function(e){return N(c?e.y0:0)}).attr(&quot;height&quot;,0).attr(&quot;width&quot;,i.rangeBand()/(c?1:e.length)).attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+i(u(e,t))+&quot;,0)&quot;});B.style(&quot;fill&quot;,function(e,t,n){return p(e,n,t)}).style(&quot;stroke&quot;,function(e,t,n){return p(e,n,t)}).on(&quot;mouseover&quot;,function(t,n){d3.select(this).classed(&quot;hover&quot;,!0),x.elementMouseover({value:a(t,n),point:t,series:e[t.series],pos:[i(u(t,n))+i.rangeBand()*(c?e.length/2:t.series+.5)/e.length,s(a(t,n)+(c?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on(&quot;mouseout&quot;,function(t,n){d3.select(this).classed(&quot;hover&quot;,!1),x.elementMouseout({value:a(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on(&quot;click&quot;,function(t,n){x.elementClick({value:a(t,n),point:t,series:e[t.series],pos:[i(u(t,n))+i.rangeBand()*(c?e.length/2:t.series+.5)/e.length</div><div class='line' id='LC4'>,s(a(t,n)+(c?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on(&quot;dblclick&quot;,function(t,n){x.elementDblClick({value:a(t,n),point:t,series:e[t.series],pos:[i(u(t,n))+i.rangeBand()*(c?e.length/2:t.series+.5)/e.length,s(a(t,n)+(c?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),B.attr(&quot;class&quot;,function(e,t){return a(e,t)&lt;0?&quot;nv-bar negative&quot;:&quot;nv-bar positive&quot;}).transition().attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+i(u(e,t))+&quot;,0)&quot;}),v&amp;&amp;(m||(m=e.map(function(){return!0})),B.style(&quot;fill&quot;,function(e,t,n){return d3.rgb(v(e,t)).darker(m.map(function(e,t){return t}).filter(function(e,t){return!m[t]})[n]).toString()}).style(&quot;stroke&quot;,function(e,t,n){return d3.rgb(v(e,t)).darker(m.map(function(e,t){return t}).filter(function(e,t){return!m[t]})[n]).toString()})),c?B.transition().delay(function(t,n){return n*g/e[0].values.length}).attr(&quot;y&quot;,function(e,t){return s(c?e.y1:0)}).attr(&quot;height&quot;,function(e,t){return Math.max(Math.abs(s(e.y+(c?e.y0:0))-s(c?e.y0:0)),1)}).attr(&quot;x&quot;,function(t,n){return c?0:t.series*i.rangeBand()/e.length}).attr(&quot;width&quot;,i.rangeBand()/(c?1:e.length)):B.transition().delay(function(t,n){return n*g/e[0].values.length}).attr(&quot;x&quot;,function(t,n){return t.series*i.rangeBand()/e.length}).attr(&quot;width&quot;,i.rangeBand()/e.length).attr(&quot;y&quot;,function(e,t){return a(e,t)&lt;0?s(0):s(0)-s(a(e,t))&lt;1?s(0)-1:s(a(e,t))||0}).attr(&quot;height&quot;,function(e,t){return Math.max(Math.abs(s(a(e,t))-s(0)),1)||0}),T=i.copy(),N=s.copy()}),C}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=d3.scale.ordinal(),s=d3.scale.linear(),o=Math.floor(Math.random()*1e4),u=function(e){return e.x},a=function(e){return e.y},f=[0],l=!0,c=!1,h=&quot;zero&quot;,p=e.utils.defaultColor(),d=!1,v=null,m,g=1200,y,b,w,E,S=.1,x=d3.dispatch(&quot;chartClick&quot;,&quot;elementClick&quot;,&quot;elementDblClick&quot;,&quot;elementMouseover&quot;,&quot;elementMouseout&quot;),T,N;return C.dispatch=x,C.options=e.utils.optionsFunc.bind(C),C.x=function(e){return arguments.length?(u=e,C):u},C.y=function(e){return arguments.length?(a=e,C):a},C.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,C):t},C.width=function(e){return arguments.length?(n=e,C):n},C.height=function(e){return arguments.length?(r=e,C):r},C.xScale=function(e){return arguments.length?(i=e,C):i},C.yScale=function(e){return arguments.length?(s=e,C):s},C.xDomain=function(e){return arguments.length?(y=e,C):y},C.yDomain=function(e){return arguments.length?(b=e,C):b},C.xRange=function(e){return arguments.length?(w=e,C):w},C.yRange=function(e){return arguments.length?(E=e,C):E},C.forceY=function(e){return arguments.length?(f=e,C):f},C.stacked=function(e){return arguments.length?(c=e,C):c},C.stackOffset=function(e){return arguments.length?(h=e,C):h},C.clipEdge=function(e){return arguments.length?(l=e,C):l},C.color=function(t){return arguments.length?(p=e.utils.getColor(t),C):p},C.barColor=function(t){return arguments.length?(v=e.utils.getColor(t),C):v},C.disabled=function(e){return arguments.length?(m=e,C):m},C.id=function(e){return arguments.length?(o=e,C):o},C.hideable=function(e){return arguments.length?(d=e,C):d},C.delay=function(e){return arguments.length?(g=e,C):g},C.groupSpacing=function(e){return arguments.length?(S=e,C):S},C},e.models.multiBarChart=function(){&quot;use strict&quot;;function A(e){return e.each(function(e){var b=d3.select(this),O=this,M=(u||parseInt(b.style(&quot;width&quot;))||960)-o.left-o.right,_=(a||parseInt(b.style(&quot;height&quot;))||400)-o.top-o.bottom;A.update=function(){b.transition().duration(k).call(A)},A.container=this,S.disabled=e.map(function(e){return!!e.disabled});if(!x){var D;x={};for(D in S)S[D]instanceof Array?x[D]=S[D].slice(0):x[D]=S[D]}if(!e||!e.length||!e.filter(function(e){return e.values.length}).length){var P=b.selectAll(&quot;.nv-noData&quot;).data([T]);return P.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),P.attr(&quot;x&quot;,o.left+M/2).attr(&quot;y&quot;,o.top+_/2).text(function(e){return e}),A}b.selectAll(&quot;.nv-noData&quot;).remove(),w=t.xScale(),E=t.yScale();var H=b.selectAll(&quot;g.nv-wrap.nv-multiBarWithLegend&quot;).data([e]),B=H.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-multiBarWithLegend&quot;).append(&quot;g&quot;),j=H.select(&quot;g&quot;);B.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),B.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y nv-axis&quot;),B.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-barsWrap&quot;),B.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-legendWrap&quot;),B.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-controlsWrap&quot;),c&amp;&amp;(i.width(M-C()),t.barColor()&amp;&amp;e.forEach(function(e,t){e.color=d3.rgb(&quot;#ccc&quot;).darker(t*1.5).toString()}),j.select(&quot;.nv-legendWrap&quot;).datum(e).call(i),o.top!=i.height()&amp;&amp;(o.top=i.height(),_=(a||parseInt(b.style(&quot;height&quot;))||400)-o.top-o.bottom),j.select(&quot;.nv-legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+C()+&quot;,&quot;+ -o.top+&quot;)&quot;));if(l){var F=[{key:&quot;Grouped&quot;,disabled:t.stacked()},{key:&quot;Stacked&quot;,disabled:!t.stacked()}];s.width(C()).color([&quot;#444&quot;,&quot;#444&quot;,&quot;#444&quot;]),j.select(&quot;.nv-controlsWrap&quot;).datum(F).attr(&quot;transform&quot;,&quot;translate(0,&quot;+ -o.top+&quot;)&quot;).call(s)}H.attr(&quot;transform&quot;,&quot;translate(&quot;+o.left+&quot;,&quot;+o.top+&quot;)&quot;),d&amp;&amp;j.select(&quot;.nv-y.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+M+&quot;,0)&quot;),t.disabled(e.map(function(e){return e.disabled})).width(M).height(_).color(e.map(function(e,t){return e.color||f(e,t)}).filter(function(t,n){return!e[n].disabled}));var I=j.select(&quot;.nv-barsWrap&quot;).datum(e.filter(function(e){return!e.disabled}));I.transition().call(t);if(h){n.scale(w).ticks(M/100).tickSize(-_,0),j.select(&quot;.nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+E.range()[0]+&quot;)&quot;),j.select(&quot;.nv-x.nv-axis&quot;).transition().call(n);var q=j.select(&quot;.nv-x.nv-axis &gt; g&quot;).selectAll(&quot;g&quot;);q.selectAll(&quot;line, text&quot;).style(&quot;opacity&quot;,1);if(m){var R=function(e,t){return&quot;translate(&quot;+e+&quot;,&quot;+t+&quot;)&quot;},U=5,z=17;q.selectAll(&quot;text&quot;).attr(&quot;transform&quot;,function(e,t,n){return R(0,n%2==0?U:z)});var W=d3.selectAll(&quot;.nv-x.nv-axis .nv-wrap g g text&quot;)[0].length;j.selectAll(&quot;.nv-x.nv-axis .nv-axisMaxMin text&quot;).attr(&quot;transform&quot;,function(e,t){return R(0,t===0||W%2!==0?z:U)})}v&amp;&amp;q.filter(function(t,n){return n%Math.ceil(e[0].values.length/(M/100))!==0}).selectAll(&quot;text, line&quot;).style(&quot;opacity&quot;,0),g&amp;&amp;q.selectAll(&quot;.tick text&quot;).attr(&quot;transform&quot;,&quot;rotate(&quot;+g+&quot; 0,0)&quot;).style(&quot;text-anchor&quot;,g&gt;0?&quot;start&quot;:&quot;end&quot;),j.select(&quot;.nv-x.nv-axis&quot;).selectAll(&quot;g.nv-axisMaxMin text&quot;).style(&quot;opacity&quot;,1)}p&amp;&amp;(r.scale(E).ticks(_/36).tickSize(-M,0),j.select(&quot;.nv-y.nv-axis&quot;).transition().call(r)),i.dispatch.on(&quot;stateChange&quot;,function(e){S=e,N.stateChange(S),A.update()}),s.dispatch.on(&quot;legendClick&quot;,function(e,n){if(!e.disabled)return;F=F.map(function(e){return e.disabled=!0,e}),e.disabled=!1;switch(e.key){case&quot;Grouped&quot;:t.stacked(!1);break;case&quot;Stacked&quot;:t.stacked(!0)}S.stacked=t.stacked(),N.stateChange(S),A.update()}),N.on(&quot;tooltipShow&quot;,function(e){y&amp;&amp;L(e,O.parentNode)}),N.on(&quot;changeState&quot;,function(n){typeof n.disabled!=&quot;undefined&quot;&amp;&amp;(e.forEach(function(e,t){e.disabled=n.disabled[t]}),S.disabled=n.disabled),typeof n.stacked!=&quot;undefined&quot;&amp;&amp;(t.stacked(n.stacked),S.stacked=n.stacked),A.update()})}),A}var t=e.models.multiBar(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),s=e.models.legend(),o={top:30,right:20,bottom:50,left:60},u=null,a=null,f=e.utils.defaultColor(),l=!0,c=!0,h=!0,p=!0,d=!1,v=!0,m=!1,g=0,y=!0,b=function(e,t,n,r,i){return&quot;&lt;h3&gt;&quot;+e+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+n+&quot; on &quot;+t+&quot;&lt;/p&gt;&quot;},w,E,S={stacked:!1},x=null,T=&quot;No Data Available.&quot;,N=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;stateChange&quot;,&quot;changeState&quot;),C=function(){return l?180:0},k=250;t.stacked(!1),n.orient(&quot;bottom&quot;).tickPadding(7).highlightZero(!0).showMaxMin(!1).tickFormat(function(e){return e}),r.orient(d?&quot;right&quot;:&quot;left&quot;).tickFormat(d3.format(&quot;,.1f&quot;)),s.updateState(!1);var L=function(i,s){var o=i.pos[0]+(s.offsetLeft||0),u=i.pos[1]+(s.offsetTop||0),a=n.tickFormat()(t.x()(i.point,i.pointIndex)),f=r.tickFormat()(t.y()(i.point,i.pointIndex)),l=b(i.series.key,a,f,i,A);e.tooltip.show([o,u],l,i.value&lt;0?&quot;n&quot;:&quot;s&quot;,null,s)};return t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+o.left,e.pos[1]+o.top],N.tooltipShow(e)}),t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){N.tooltipHide(e)}),N.on(&quot;tooltipHide&quot;,function(){y&amp;&amp;e.tooltip.cleanup()}),A.dispatch=N,A.multibar=t,A.legend=i,A.xAxis=n,A.yAxis=r,d3.rebind(A,t,&quot;x&quot;,&quot;y&quot;,&quot;xDomain&quot;,&quot;yDomain&quot;,&quot;xRange&quot;,&quot;yRange&quot;,&quot;forceX&quot;,&quot;forceY&quot;,&quot;clipEdge&quot;,&quot;id&quot;,&quot;stacked&quot;,&quot;stackOffset&quot;,&quot;delay&quot;,&quot;barColor&quot;,&quot;groupSpacing&quot;),A.options=e.utils.optionsFunc.bind(A),A.margin=function(e){return arguments.length?(o.top=typeof e.top!=&quot;undefined&quot;?e.top:o.top,o.right=typeof e.right!=&quot;undefined&quot;?e.right:o.right,o.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:o.bottom,o.left=typeof e.left!=&quot;undefined&quot;?e.left:o.left,A):o},A.width=function(e){return arguments.length?(u=e,A):u},A.height=function(e){return arguments.length?(a=e,A):a},A.color=function(t){return arguments.length?(f=e.utils.getColor(t),i.color(f),A):f},A.showControls=function(e){return arguments.length?(l=e,A):l},A.showLegend=function(e){return arguments.length?(c=e,A):c},A.showXAxis=function(e){return arguments.length?(h=e,A):h},A.showYAxis=function(e){return arguments.length?(p=e,A):p},A.rightAlignYAxis=function(e){return arguments.length?(d=e,r.orient(e?&quot;right&quot;:&quot;left&quot;),A):d},A.reduceXTicks=function(e){return arguments.length?(v=e,A):v},A.rotateLabels=function(e){return arguments.length?(g=e,A):g},A.staggerLabels=function(e){return arguments.length?(m=e,A):m},A.tooltip=function(e){return arguments.length?(b=e,A):b},A.tooltips=function(e){return arguments.length?(y=e,A):y},A.tooltipContent=function(e){return arguments.length?(b=e,A):b},A.state=function(e){return arguments.length?(S=e,A):S},A.defaultState=function(e){return arguments.length?(x=e,A):x},A.noData=function(e){return arguments.length?(T=e,A):T},A.transitionDuration=function(e){return arguments.length?(k=e,A):k},A},e.models.multiBarHorizontal=function(){&quot;use strict&quot;;function C(e){return e.each(function(e){var i=n-t.left-t.right,y=r-t.top-t.bottom,C=d3.select(this);p&amp;&amp;(e=d3.layout.stack().offset(&quot;zero&quot;).values(function(e){return e.values}).y(a)(e)),e.forEach(function(e,t){e.values.forEach(function(e){e.series=t})}),p&amp;&amp;e[0].values.map(function(t,n){var r=0,i=0;e.map(function(e){var t=e.values[n];t.size=Math.abs(t.y),t.y&lt;0?(t.y1=i-t.size,i-=t.size):(t.y1=r,r+=t.size)})});var k=b&amp;&amp;w?[]:e.map(function(e){return e.values.map(function(e,t){return{x:u(e,t),y:a(e,t),y0:e.y0,y1:e.y1}})});s.domain(b||d3.merge(k).map(function(e){return e.x})).rangeBands(E||[0,y],.1),o.domain(w||d3.extent(d3.merge(k).map(function(e){return p?e.y&gt;0?e.y1+e.y:e.y1:e.y}).concat(f))),d&amp;&amp;!p?o.range(S||[o.domain()[0]&lt;0?m:0,i-(o.domain()[1]&gt;0?m:0)]):o.range(S||[0,i]),T=T||s,N=N||d3.scale.linear().domain(o.domain()).range([o(0),o(0)]);var L=d3.select(this).selectAll(&quot;g.nv-wrap.nv-multibarHorizontal&quot;).data([e]),A=L.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-multibarHorizontal&quot;),O=A.append(&quot;defs&quot;),M=A.append(&quot;g&quot;),_=L.select(&quot;g&quot;);M.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-groups&quot;),L.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;);var D=L.select(&quot;.nv-groups&quot;).selectAll(&quot;.nv-group&quot;).data(function(e){return e},function(e,t){return t});D.enter().append(&quot;g&quot;).style(&quot;stroke-opacity&quot;,1e-6).style(&quot;fill-opacity&quot;,1e-6),D.exit().transition().style(&quot;stroke-opacity&quot;,1e-6).style(&quot;fill-opacity&quot;,1e-6).remove(),D.attr(&quot;class&quot;,function(e,t){return&quot;nv-group nv-series-&quot;+t}).classed(&quot;hover&quot;,function(e){return e.hover}).style(&quot;fill&quot;,function(e,t){return l(e,t)}).style(&quot;stroke&quot;,function(e,t){return l(e,t)}),D.transition().style(&quot;stroke-opacity&quot;,1).style(&quot;fill-opacity&quot;,.75);var P=D.selectAll(&quot;g.nv-bar&quot;).data(function(e){return e.values});P.exit().remove();var H=P.enter().append(&quot;g&quot;).attr(&quot;transform&quot;,function(t,n,r){return&quot;translate(&quot;+N(p?t.y0:0)+&quot;,&quot;+(p?0:r*s.rangeBand()/e.length+s(u(t,n)))+&quot;)&quot;});H.append(&quot;rect&quot;).attr(&quot;width&quot;,0).attr(&quot;height&quot;,s.rangeBand()/(p?1:e.length)),P.on(&quot;mouseover&quot;,function(t,n){d3.select(this).classed(&quot;hover&quot;,!0),x.elementMouseover({value:a(t,n),point:t,series:e[t.series],pos:[o(a(t,n)+(p?t.y0:0)),s(u(t,n))+s.rangeBand()*(p?e.length/2:t.series+.5)/e.length],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on(&quot;mouseout&quot;,function(t,n){d3.select(this).classed(&quot;hover&quot;,!1),x.elementMouseout({value:a(t,n),point:t,series:e[t.series],pointIndex:n,seriesIndex:t.series,e:d3.event})}).on(&quot;click&quot;,function(t,n){x.elementClick({value:a(t,n),point:t,series:e[t.series],pos:[s(u(t,n))+s.rangeBand()*(p?e.length/2:t.series+.5)/e.length,o(a(t,n)+(p?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}).on(&quot;dblclick&quot;,function(t,n){x.elementDblClick({value:a(t,n),point:t,series:e[t.series],pos:[s(u(t,n))+s.rangeBand()*(p?e.length/2:t.series+.5)/e.length,o(a(t,n)+(p?t.y0:0))],pointIndex:n,seriesIndex:t.series,e:d3.event}),d3.event.stopPropagation()}),H.append(&quot;text&quot;),d&amp;&amp;!p?(P.select(&quot;text&quot;).attr(&quot;text-anchor&quot;,function(e,t){return a(e,t)&lt;0?&quot;end&quot;:&quot;start&quot;}).attr(&quot;y&quot;,s.rangeBand()/(e.length*2)).attr(&quot;dy&quot;,&quot;.32em&quot;).text(function(e,t){return g(a(e,t))}),P.transition().select(&quot;text&quot;).attr(&quot;x&quot;,function(e,t){return a(e,t)&lt;0?-4:o(a(e,t))-o(0)+4})):P.selectAll(&quot;text&quot;).text(&quot;&quot;),v&amp;&amp;!p?(H.append(&quot;text&quot;).classed(&quot;nv-bar-label&quot;,!0),P.select(&quot;text.nv-bar-label&quot;).attr(&quot;text-anchor&quot;,function(e,t){return a(e,t)&lt;0?&quot;start&quot;:&quot;end&quot;}).attr(&quot;y&quot;,s.rangeBand()/(e.length*2)).attr(&quot;dy&quot;,&quot;.32em&quot;).text(function(e,t){return u(e,t)}),P.transition().select(&quot;text.nv-bar-label&quot;).attr(&quot;x&quot;,function(e,t){return a(e,t)&lt;0?o(0)-o(a(e,t))+4:-4})):P.selectAll(&quot;text.nv-bar-label&quot;).text(&quot;&quot;),P.attr(&quot;class&quot;,function(e,t){return a(e,t)&lt;0?&quot;nv-bar negative&quot;:&quot;nv-bar positive&quot;}),c&amp;&amp;(h||(h=e.map(function(){return!0})),P.style(&quot;fill&quot;,function(e,t,n){return d3.rgb(c(e,t)).darker(h.map(function(e,t){return t}).filter(function(e,t){return!h[t]})[n]).toString()}).style(&quot;stroke&quot;,function(e,t,n){return d3.rgb(c(e,t)).darker(h.map(function(e,t){return t}).filter(function(e,t){return!h[t]})[n]).toString()})),p?P.transition().attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+o(e.y1)+&quot;,&quot;+s(u(e,t))+&quot;)&quot;}).select(&quot;rect&quot;).attr(&quot;width&quot;,function(e,t){return Math.abs(o(a(e,t)+e.y0)-o(e.y0))}).attr(&quot;height&quot;,s.rangeBand()):P.transition().attr(&quot;transform&quot;,function(t,n){return&quot;translate(&quot;+(a(t,n)&lt;0?o(a(t,n)):o(0))+&quot;,&quot;+(t.series*s.rangeBand()/e.length+s(u(t,n)))+&quot;)&quot;}).select(&quot;rect&quot;).attr(&quot;height&quot;,s.rangeBand()/e.length).attr(&quot;width&quot;,function(e,t){return Math.max(Math.abs(o(a(e,t))-o(0)),1)}),T=s.copy(),N=o.copy()}),C}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=Math.floor(Math.random()*1e4),s=d3.scale.ordinal(),o=d3.scale.linear(),u=function(e){return e.x},a=function(e){return e.y},f=[0],l=e.utils.defaultColor(),c=null,h,p=!1,d=!1,v=!1,m=60,g=d3.format(&quot;,.2f&quot;),y=1200,b,w,E,S,x=d3.dispatch(&quot;chartClick&quot;,&quot;elementClick&quot;,&quot;elementDblClick&quot;,&quot;elementMouseover&quot;,&quot;elementMouseout&quot;),T,N;return C.dispatch=x,C.options=e.utils.optionsFunc.bind(C),C.x=function(e){return arguments.length?(u=e,C):u},C.y=function(e){return arguments.length?(a=e,C):a},C.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,C):t},C.width=function(e){return arguments.length?(n=e,C):n},C.height=function(e){return arguments.length?(r=e,C):r},C.xScale=function(e){return arguments.length?(s=e,C):s},C.yScale=function(e){return arguments.length?(o=e,C):o},C.xDomain=function(e){return arguments.length?(b=e,C):b},C.yDomain=function(e){return arguments.length?(w=e,C):w},C.xRange=function(e){return arguments.length?(E=e,C):E},C.yRange=function(e){return arguments.length?(S=e,C):S},C.forceY=function(e){return arguments.length?(f=e,C):f},C.stacked=function(e){return arguments.length?(p=e,C):p},C.color=function(t){return arguments.length?(l=e.utils.getColor(t),C):l},C.barColor=function(t){return arguments.length?(c=e.utils.getColor(t),C):c},C.disabled=function(e){return arguments.length?(h=e,C):h},C.id=function(e){return arguments.length?(i=e,C):i},C.delay=function(e){return arguments.length?(y=e,C):y},C.showValues=function(e){return arguments.length?(d=e,C):d},C.showBarLabels=function(e){return arguments.length?(v=e,C):v},C.valueFormat=function(e){return arguments.length?(g=e,C):g},C.valuePadding=function(e){return arguments.length?(m=e,C):m},C},e.models.multiBarHorizontalChart=function(){&quot;use strict&quot;;function C(e){return e.each(function(e){var d=d3.select(this),m=this,k=(u||parseInt(d.style(&quot;width&quot;))||960)-o.left-o.right,L=(a||parseInt(d.style(&quot;height&quot;))||400)-o.top-o.bottom;C.update=function(){d.transition().duration(T).call(C)},C.container=this,b.disabled=e.map(function(e){return!!e.disabled});if(!w){var A;w={};for(A in b)b[A]instanceof Array?w[A]=b[A].slice(0):w[A]=b[A]}if(!e||!e.length||!e.filter(function(e){return e.values.length}).length){var O=d.selectAll(&quot;.nv-noData&quot;).data([E]);return O.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),O.attr(&quot;x&quot;,o.left+k/2).attr(&quot;y&quot;,o.top+L/2).text(function(e){return e}),C}d.selectAll(&quot;.nv-noData&quot;).remove(),g=t.xScale(),y=t.yScale();var M=d.selectAll(&quot;g.nv-wrap.nv-multiBarHorizontalChart&quot;).data([e]),_=M.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-multiBarHorizontalChart&quot;).append(&quot;g&quot;),D=M.select(&quot;g&quot;);_.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),_.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y nv-axis&quot;).append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-zeroLine&quot;).append(&quot;line&quot;),_.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-barsWrap&quot;),_.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-legendWrap&quot;),_.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-controlsWrap&quot;),c&amp;&amp;(i.width(k-x()),t.barColor()&amp;&amp;e.forEach(function(e,t){e.color=d3.rgb(&quot;#ccc&quot;).darker(t*1.5).toString()}),D.select(&quot;.nv-legendWrap&quot;).datum(e).call(i),o.top!=i.height()&amp;&amp;(o.top=i.height(),L=(a||parseInt(d.style(&quot;height&quot;))||400)-o.top-o.bottom),D.select(&quot;.nv-legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+x()+&quot;,&quot;+ -o.top+&quot;)&quot;));if(l){var P=[{key:&quot;Grouped&quot;,disabled:t.stacked()},{key:&quot;Stacked&quot;,disabled:!t.stacked()}];s.width(x()).color([&quot;#444&quot;,&quot;#444&quot;,&quot;#444&quot;]),D.select(&quot;.nv-controlsWrap&quot;).datum(P).attr(&quot;transform&quot;,&quot;translate(0,&quot;+ -o.top+&quot;)&quot;).call(s)}M.attr(&quot;transform&quot;,&quot;translate(&quot;+o.left+&quot;,&quot;+o.top+&quot;)&quot;),t.disabled(e.map(function(e){return e.disabled})).width(k).height(L).color(e.map(function(e,t){return e.color||f(e,t)}).filter(function(t,n){return!e[n].disabled}));var H=D.select(&quot;.nv-barsWrap&quot;).datum(e.filter(function(e){return!e.disabled}));H.transition().call(t);if(h){n.scale(g).ticks(L/24).tickSize(-k,0),D.select(&quot;.nv-x.nv-axis&quot;).transition().call(n);var B=D.select(&quot;.nv-x.nv-axis&quot;).selectAll(&quot;g&quot;);B.selectAll(&quot;line, text&quot;)}p&amp;&amp;(r.scale(y).ticks(k/100).tickSize(-L,0),D.select(&quot;.nv-y.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+L+&quot;)&quot;),D.select(&quot;.nv-y.nv-axis&quot;).transition().call(r)),D.select(&quot;.nv-zeroLine line&quot;).attr(&quot;x1&quot;,y(0)).attr(&quot;x2&quot;,y(0)).attr(&quot;y1&quot;,0).attr(&quot;y2&quot;,-L),i.dispatch.on(&quot;stateChange&quot;,function(e){b=e,S.stateChange(b),C.update()}),s.dispatch.on(&quot;legendClick&quot;,function(e,n){if(!e.disabled)return;P=P.map(function(e){return e.disabled=!0,e}),e.disabled=!1;switch(e.key){case&quot;Grouped&quot;:t.stacked(!1);break;case&quot;Stacked&quot;:t.stacked(!0)}b.stacked=t.stacked(),S.stateChange(b),C.update()}),S.on(&quot;tooltipShow&quot;,function(e){v&amp;&amp;N(e,m.parentNode)}),S.on(&quot;changeState&quot;,function(n){typeof n.disabled!=&quot;undefined&quot;&amp;&amp;(e.forEach(function(e,t){e.disabled=n.disabled[t]}),b.disabled=n.disabled),typeof n.stacked!=&quot;undefined&quot;&amp;&amp;(t.stacked(n.stacked),b.stacked=n.stacked),C.update()})}),C}var t=e.models.multiBarHorizontal(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend().height(30),s=e.models.legend().height(30),o={top:30,right:20,bottom:50,left:60},u=null,a=null,f=e.utils.defaultColor(),l=!0,c=!0,h=!0,p=!0,d=!1,v=!0,m=function(e,t,n,r,i){return&quot;&lt;h3&gt;&quot;+e+&quot; - &quot;+t+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+n+&quot;&lt;/p&gt;&quot;},g,y,b={stacked:d},w=null,E=&quot;No Data Available.&quot;,S=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;stateChange&quot;,&quot;changeState&quot;),x=function(){return l?180:0},T=250;t.stacked(d),n.orient(&quot;left&quot;).tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(e){return e}),r.orient(&quot;bottom&quot;).tickFormat(d3.format(&quot;,.1f&quot;)),s.updateState(!1);var N=function(i,s){var o=i.pos[0]+(s.offsetLeft||0),u=i.pos[1]+(s.offsetTop||0),a=n.tickFormat()(t.x()(i.point,i.pointIndex)),f=r.tickFormat()(t.y()(i.point,i.pointIndex)),l=m(i.series.key,a,f,i,C);e.tooltip.show([o,u],l,i.value&lt;0?&quot;e&quot;:&quot;w&quot;,null,s)};return t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+o.left,e.pos[1]+o.top],S.tooltipShow(e)}),t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){S.tooltipHide(e)}),S.on(&quot;tooltipHide&quot;,function(){v&amp;&amp;e.tooltip.cleanup()}),C.dispatch=S,C.multibar=t,C.legend=i,C.xAxis=n,C.yAxis=r,d3.rebind(C,t,&quot;x&quot;,&quot;y&quot;,&quot;xDomain&quot;,&quot;yDomain&quot;,&quot;xRange&quot;,&quot;yRange&quot;,&quot;forceX&quot;,&quot;forceY&quot;,&quot;clipEdge&quot;,&quot;id&quot;,&quot;delay&quot;,&quot;showValues&quot;,&quot;showBarLabels&quot;,&quot;valueFormat&quot;,&quot;stacked&quot;,&quot;barColor&quot;),C.options=e.utils.optionsFunc.bind(C),C.margin=function(e){return arguments.length?(o.top=typeof e.top!=&quot;undefined&quot;?e.top:o.top,o.right=typeof e.right!=&quot;undefined&quot;?e.right:o.right,o.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:o.bottom,o.left=typeof e.left!=&quot;undefined&quot;?e.left:o.left,C):o},C.width=function(e){return arguments.length?(u=e,C):u},C.height=function(e){return arguments.length?(a=e,C):a},C.color=function(t){return arguments.length?(f=e.utils.getColor(t),i.color(f),C):f},C.showControls=function(e){return arguments.length?(l=e,C):l},C.showLegend=function(e){return arguments.length?(c=e,C):c},C.showXAxis=function(e){return arguments.length?(h=e,C):h},C.showYAxis=function(e){return arguments.length?(p=e,C):p},C.tooltip=function(e){return arguments.length?(m=e,C):m},C.tooltips=function(e){return arguments.length?(v=e,C):v},C.tooltipContent=function(e){return arguments.length?(m=e,C):m},C.state=function(e){return arguments.length?(b=e,C):b},C.defaultState=function(e){return arguments.length?(w=e,C):w},C.noData=function(e){return arguments.length?(E=e,C):E},C.transitionDuration=function(e){return arguments.length?(T=e,C):T},C},e.models.multiChart=function(){&quot;use strict&quot;;function C(e){return e.each(function(e){var u=d3.select(this),f=this;C.update=function(){u.transition().call(C)},C.container=this;var k=(r||parseInt(u.style(&quot;width&quot;))||960)-t.left-t.right,L=(i||parseInt(u.style(&quot;height&quot;))||400)-t.top-t.bottom,A=e.filter(function(e){return!e.disabled&amp;&amp;e.type==&quot;line&quot;&amp;&amp;e.yAxis==1}),O=e.filter(function(e){return!e.disabled&amp;&amp;e.type==&quot;line&quot;&amp;&amp;e.yAxis==2}),M=e.filter(function(e){return!e.disabled&amp;&amp;e.type==&quot;bar&quot;&amp;&amp;e.yAxis==1}),_=e.filter(function(e){return!e.disabled&amp;&amp;e.type==&quot;bar&quot;&amp;&amp;e.yAxis==2}),D=e.filter(function(e){return!e.disabled&amp;&amp;e.type==&quot;area&quot;&amp;&amp;e.yAxis==1}),P=e.filter(function(e){return!e.disabled&amp;&amp;e.type==&quot;area&quot;&amp;&amp;e.yAxis==2}),H=e.filter(function(e){return!e.disabled&amp;&amp;e.yAxis==1}).map(function(e){return e.values.map(function(e,t){return{x:e.x,y:e.y}})}),B=e.filter(function(e){return!e.disabled&amp;&amp;e.yAxis==2}).map(function(e){return e.values.map(function(e,t){return{x:e.x,y:e.y}})});a.domain(d3.extent(d3.merge(H.concat(B)),function(e){return e.x})).range([0,k]);var j=u.selectAll(&quot;g.wrap.multiChart&quot;).data([e]),F=j.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;wrap nvd3 multiChart&quot;).append(&quot;g&quot;);F.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;x axis&quot;),F.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;y1 axis&quot;),F.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;y2 axis&quot;),F.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;lines1Wrap&quot;),F.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;lines2Wrap&quot;),F.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;bars1Wrap&quot;),F.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;bars2Wrap&quot;),F.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;stack1Wrap&quot;),F.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;stack2Wrap&quot;),F.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;legendWrap&quot;);var I=j.select(&quot;g&quot;);s&amp;&amp;(x.width(k/2),I.select(&quot;.legendWrap&quot;).datum(e.map(function(e){return e.originalKey=e.originalKey===undefined?e.key:e.originalKey,e.key=e.originalKey+(e.yAxis==1?&quot;&quot;:&quot; (right axis)&quot;),e})).call(x),t.top!=x.height()&amp;&amp;(t.top=x.height(),L=(i||parseInt(u.style(&quot;height&quot;))||400)-t.top-t.bottom),I.select(&quot;.legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+k/2+&quot;,&quot;+ -t.top+&quot;)&quot;)),d.width(k).height(L).interpolate(&quot;monotone&quot;).color(e.map(function(e,t){return e.color||n[t%n.length]}).filter(function(t,n){return!e[n].disabled&amp;&amp;e[n].yAxis==1&amp;&amp;e[n].type==&quot;line&quot;})),v.width(k).height(L).interpolate(&quot;monotone&quot;).color(e.map(function(e,t){return e.color||n[t%n.length]}).filter(function(t,n){return!e[n].disabled&amp;&amp;e[n].yAxis==2&amp;&amp;e[n].type==&quot;line&quot;})),m.width(k).height(L).color(e.map(function(e,t){return e.color||n[t%n.length]}).filter(function(t,n){return!e[n].disabled&amp;&amp;e[n].yAxis==1&amp;&amp;e[n].type==&quot;bar&quot;})),g.width(k).height(L).color(e.map(function(e,t){return e.color||n[t%n.length]}).filter(function(t,n){return!e[n].disabled&amp;&amp;e[n].yAxis==2&amp;&amp;e[n].type==&quot;bar&quot;})),y.width(k).height(L).color(e.map(function(e,t){return e.color||n[t%n.length]}).filter(function(t,n){return!e[n].disabled&amp;&amp;e[n].yAxis==1&amp;&amp;e[n].type==&quot;area&quot;})),b.width(k).height(L).color(e.map(function(e,t){return e.color||n[t%n.length]}).filter(function(t,n){return!e[n].disabled&amp;&amp;e[n].yAxis==2&amp;&amp;e[n].type==&quot;area&quot;})),I.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;);var q=I.select(&quot;.lines1Wrap&quot;).datum(A),R=I.select(&quot;.bars1Wrap&quot;).datum(M),U=I.select(&quot;.stack1Wrap&quot;).datum(D),z=I.select(&quot;.lines2Wrap&quot;).datum(O),W=I.select(&quot;.bars2Wrap&quot;).datum(_),X=I.select(&quot;.stack2Wrap&quot;).datum(P),V=D.length?D.map(function(e){return e.values}).reduce(function(e,t){return e.map(function(e,n){return{x:e.x,y:e.y+t[n].y}})}).concat([{x:0,y:0}]):[],$=P.length?P.map(function(e){return e.values}).reduce(function(e,t){return e.map(function(e,n){return{x:e.x,y:e.y+t[n].y}})}).concat([{x:0,y:0}]):[];h.domain(l||d3.extent(d3.merge(H).concat(V),function(e){return e.y})).range([0,L]),p.domain(c||d3.extent(d3.merge(B).concat($),function(e){return e.y})).range([0,L]),d.yDomain(h.domain()),m.yDomain(h.domain()),y.yDomain(h.domain()),v.yDomain(p.domain()),g.yDomain(p.domain()),b.yDomain(p.domain()),D.length&amp;&amp;d3.transition(U).call(y),P.length&amp;&amp;d3.transition(X).call(b),M.length&amp;&amp;d3.transition(R).call(m),_.length&amp;&amp;d3.transition(W).call(g),A.length&amp;&amp;d3.transition(q).call(d),O.length&amp;&amp;d3.transition(z).call(v),w.ticks(k/100).tickSize(-L,0),I.select(&quot;.x.axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+L+&quot;)&quot;),d3.transition(I.select(&quot;.x.axis&quot;)).call(w),E.ticks(L/36).tickSize(-k,0),d3.transition(I.select(&quot;.y1.axis&quot;)).call(E),S.ticks(L/36).tickSize(-k,0),d3.transition(I.select(&quot;.y2.axis&quot;)).call(S),I.select(&quot;.y2.axis&quot;).style(&quot;opacity&quot;,B.length?1:0).attr(&quot;transform&quot;,&quot;translate(&quot;+a.range()[1]+&quot;,0)&quot;),x.dispatch.on(&quot;stateChange&quot;,function(e){C.update()}),T.on(&quot;tooltipShow&quot;,function(e){o&amp;&amp;N(e,f.parentNode)})}),C}var t={top:30,right:20,bottom:50,left:60},n=d3.scale.category20().range(),r=null,i=null,s=!0,o=!0,u=function(e,t,n,r,i){return&quot;&lt;h3&gt;&quot;+e+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+n+&quot; at &quot;+t+&quot;&lt;/p&gt;&quot;},a,f,l,c,a=d3.scale.linear(),h=d3.scale.linear(),p=d3.scale.linear(),d=e.models.line().yScale(h),v=e.models.line().yScale(p),m=e.models.multiBar().stacked(!1).yScale(h),g=e.models.multiBar().stacked(!1).yScale(p),y=e.models.stackedArea().yScale(h),b=e.models.stackedArea().yScale(p),w=e.models.axis().scale(a).orient(&quot;bottom&quot;).tickPadding(5),E=e.models.axis().scale(h).orient(&quot;left&quot;),S=e.models.axis().scale(p).orient(&quot;right&quot;),x=e.models.legend().height(30),T=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;),N=function(t,n){var r=t.pos[0]+(n.offsetLeft||0),i=t.pos[1]+(n.offsetTop||0),s=w.tickFormat()(d.x()(t.point,t.pointIndex)),o=(t.series.yAxis==2?S:E).tickFormat()(d.y()(t.point,t.pointIndex)),a=u(t.series.key,s,o,t,C);e.tooltip.show([r,i],a,undefined,undefined,n.offsetParent)};return d.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],T.tooltipShow(e)}),d.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){T.tooltipHide(e)}),v.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],T.tooltipShow(e)}),v.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){T.tooltipHide(e)}),m.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],T.tooltipShow(e)}),m.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){T.tooltipHide(e)}),g.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],T.tooltipShow(e)}),g.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){T.tooltipHide(e)}),y.dispatch.on(&quot;tooltipShow&quot;,function(e){if(!Math.round(y.y()(e.point)*100))return setTimeout(function(){d3.selectAll(&quot;.point.hover&quot;).classed(&quot;hover&quot;,!1)},0),!1;e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],T.tooltipShow(e)}),y.dispatch.on(&quot;tooltipHide&quot;,function(e){T.tooltipHide(e)}),b.dispatch.on(&quot;tooltipShow&quot;,function(e){if(!Math.round(b.y()(e.point)*100))return setTimeout(function(){d3.selectAll(&quot;.point.hover&quot;).classed(&quot;hover&quot;,!1)},0),!1;e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],T.tooltipShow(e)}),b.dispatch.on(&quot;tooltipHide&quot;,function(e){T.tooltipHide(e)}),d.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],T.tooltipShow(e)}),d.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){T.tooltipHide(e)}),v.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],T.tooltipShow(e)}),v.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){T.tooltipHide(e)}),T.on(&quot;tooltipHide&quot;,function(){o&amp;&amp;e.tooltip.cleanup()}),C.dispatch=T,C.lines1=d,C.lines2=v,C.bars1=m,C.bars2=g,C.stack1=y,C.stack2=b,C.xAxis=w,C.yAxis1=E,C.yAxis2=S,C.options=e.utils.optionsFunc.bind(C),C.x=function(e){return arguments.length?(getX=e,d.x(e),m.x(e),C):getX},C.y=function(e){return arguments.length?(getY=e,d.y(e),m.y(e),C):getY},C.yDomain1=function(e){return arguments.length?(l=e,C):l},C.yDomain2=function(e){return arguments.length?(c=e,C):c},C.margin=function(e){return arguments.length?(t=e,C):t},C.width=function(e){return arguments.length?(r=e,C):r},C.height=function(e){return arguments.length?(i=e,C):i},C.color=function(e){return arguments.length?(n=e,x.color(e),C):n},C.showLegend=function(e){return arguments.length?(s=e,C):s},C.tooltips=function(e){return arguments.length?(o=e,C):o},C.tooltipContent=function(e){return arguments.length?(u=e,C):u},C},e.models.ohlcBar=function(){&quot;use strict&quot;;function x(e){return e.each(function(e){var g=n-t.left-t.right,x=r-t.top-t.bottom,T=d3.select(this);s.domain(y||d3.extent(e[0].values.map(u).concat(p))),v?s.range(w||[g*.5/e[0].values.length,g*(e[0].values.length-.5)/e[0].values.length]):s.range(w||[0,g]),o.domain(b||[d3.min(e[0].values.map(h).concat(d)),d3.max(e[0].values.map(c).concat(d))]).range(E||[x,0]),s.domain()[0]===s.domain()[1]&amp;&amp;(s.domain()[0]?s.domain([s.domain()[0]-s.domain()[0]*.01,s.domain()[1]+s.domain()[1]*.01]):s.domain([-1,1])),o.domain()[0]===o.domain()[1]&amp;&amp;(o.domain()[0]?o.domain([o.domain()[0]+o.domain()[0]*.01,o.domain()[1]-o.domain()[1]*.01]):o.domain([-1,1]));var N=d3.select(this).selectAll(&quot;g.nv-wrap.nv-ohlcBar&quot;).data([e[0].values]),C=N.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-ohlcBar&quot;),k=C.append(&quot;defs&quot;),L=C.append(&quot;g&quot;),A=N.select(&quot;g&quot;);L.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-ticks&quot;),N.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;),T.on(&quot;click&quot;,function(e,t){S.chartClick({data:e,index:t,pos:d3.event,id:i})}),k.append(&quot;clipPath&quot;).attr(&quot;id&quot;,&quot;nv-chart-clip-path-&quot;+i).append(&quot;rect&quot;),N.select(&quot;#nv-chart-clip-path-&quot;+i+&quot; rect&quot;).attr(&quot;width&quot;,g).attr(&quot;height&quot;,x),A.attr(&quot;clip-path&quot;,m?&quot;url(#nv-chart-clip-path-&quot;+i+&quot;)&quot;:&quot;&quot;);var O=N.select(&quot;.nv-ticks&quot;).selectAll(&quot;.nv-tick&quot;).data(function(e){return e});O.exit().remove();var M=O.enter().append(&quot;path&quot;).attr(&quot;class&quot;,function(e,t,n){return(f(e,t)&gt;l(e,t)?&quot;nv-tick negative&quot;:&quot;nv-tick positive&quot;)+&quot; nv-tick-&quot;+n+&quot;-&quot;+t}).attr(&quot;d&quot;,function(t,n){var r=g/e[0].values.length*.9;return&quot;m0,0l0,&quot;+(o(f(t,n))-o(c(t,n)))+&quot;l&quot;+ -r/2+&quot;,0l&quot;+r/2+&quot;,0l0,&quot;+(o(h(t,n))-o(f(t,n)))+&quot;l0,&quot;+(o(l(t,n))-o(h(t,n)))+&quot;l&quot;+r/2+&quot;,0l&quot;+ -r/2+&quot;,0z&quot;}).attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+s(u(e,t))+&quot;,&quot;+o(c(e,t))+&quot;)&quot;}).on(&quot;mouseover&quot;,function(t,n){d3.select(this).classed(&quot;hover&quot;,!0),S.elementMouseover({point:t,series:e[0],pos:[s(u(t,n)),o(a(t,n))],pointIndex:n,seriesIndex:0,e:d3.event})}).on(&quot;mouseout&quot;,function(t,n){d3.select(this).classed(&quot;hover&quot;,!1),S.elementMouseout({point:t,series:e[0],pointIndex:n,seriesIndex:0,e:d3.event})}).on(&quot;click&quot;,function(e,t){S.elementClick({value:a(e,t),data:e,index:t,pos:[s(u(e,t)),o(a(e,t))],e:d3.event,id:i}),d3.event.stopPropagation()}).on(&quot;dblclick&quot;,function(e,t){S.elementDblClick({value:a(e,t),data:e,index:t,pos:[s(u(e,t)),o(a(e,t))],e:d3.event,id:i}),d3.event.stopPropagation()});O.attr(&quot;class&quot;,function(e,t,n){return(f(e,t)&gt;l(e,t)?&quot;nv-tick negative&quot;:&quot;nv-tick positive&quot;)+&quot; nv-tick-&quot;+n+&quot;-&quot;+t}),d3.transition(O).attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+s(u(e,t))+&quot;,&quot;+o(c(e,t))+&quot;)&quot;}).attr(&quot;d&quot;,function(t,n){var r=g/e[0].values.length*.9;return&quot;m0,0l0,&quot;+(o(f(t,n))-o(c(t,n)))+&quot;l&quot;+ -r/2+&quot;,0l&quot;+r/2+&quot;,0l0,&quot;+(o(h(t,n))-o(f(t,n)))+&quot;l0,&quot;+(o(l(t,n))-o(h(t,n)))+&quot;l&quot;+r/2+&quot;,0l&quot;+ -r/2+&quot;,0z&quot;})}),x}var t={top:0</div><div class='line' id='LC5'>,right:0,bottom:0,left:0},n=960,r=500,i=Math.floor(Math.random()*1e4),s=d3.scale.linear(),o=d3.scale.linear(),u=function(e){return e.x},a=function(e){return e.y},f=function(e){return e.open},l=function(e){return e.close},c=function(e){return e.high},h=function(e){return e.low},p=[],d=[],v=!1,m=!0,g=e.utils.defaultColor(),y,b,w,E,S=d3.dispatch(&quot;chartClick&quot;,&quot;elementClick&quot;,&quot;elementDblClick&quot;,&quot;elementMouseover&quot;,&quot;elementMouseout&quot;);return x.dispatch=S,x.options=e.utils.optionsFunc.bind(x),x.x=function(e){return arguments.length?(u=e,x):u},x.y=function(e){return arguments.length?(a=e,x):a},x.open=function(e){return arguments.length?(f=e,x):f},x.close=function(e){return arguments.length?(l=e,x):l},x.high=function(e){return arguments.length?(c=e,x):c},x.low=function(e){return arguments.length?(h=e,x):h},x.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,x):t},x.width=function(e){return arguments.length?(n=e,x):n},x.height=function(e){return arguments.length?(r=e,x):r},x.xScale=function(e){return arguments.length?(s=e,x):s},x.yScale=function(e){return arguments.length?(o=e,x):o},x.xDomain=function(e){return arguments.length?(y=e,x):y},x.yDomain=function(e){return arguments.length?(b=e,x):b},x.xRange=function(e){return arguments.length?(w=e,x):w},x.yRange=function(e){return arguments.length?(E=e,x):E},x.forceX=function(e){return arguments.length?(p=e,x):p},x.forceY=function(e){return arguments.length?(d=e,x):d},x.padData=function(e){return arguments.length?(v=e,x):v},x.clipEdge=function(e){return arguments.length?(m=e,x):m},x.color=function(t){return arguments.length?(g=e.utils.getColor(t),x):g},x.id=function(e){return arguments.length?(i=e,x):i},x},e.models.pie=function(){&quot;use strict&quot;;function S(e){return e.each(function(e){function q(e){var t=(e.startAngle+e.endAngle)*90/Math.PI-90;return t&gt;90?t-180:t}function R(e){e.endAngle=isNaN(e.endAngle)?0:e.endAngle,e.startAngle=isNaN(e.startAngle)?0:e.startAngle,m||(e.innerRadius=0);var t=d3.interpolate(this._current,e);return this._current=t(0),function(e){return A(t(e))}}function U(e){e.innerRadius=0;var t=d3.interpolate({startAngle:0,endAngle:0},e);return function(e){return A(t(e))}}var o=n-t.left-t.right,f=r-t.top-t.bottom,S=Math.min(o,f)/2,x=S-S/5,T=d3.select(this),N=T.selectAll(&quot;.nv-wrap.nv-pie&quot;).data(e),C=N.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-pie nv-chart-&quot;+u),k=C.append(&quot;g&quot;),L=N.select(&quot;g&quot;);k.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-pie&quot;),k.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-pieLabels&quot;),N.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;),L.select(&quot;.nv-pie&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+o/2+&quot;,&quot;+f/2+&quot;)&quot;),L.select(&quot;.nv-pieLabels&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+o/2+&quot;,&quot;+f/2+&quot;)&quot;),T.on(&quot;click&quot;,function(e,t){E.chartClick({data:e,index:t,pos:d3.event,id:u})});var A=d3.svg.arc().outerRadius(x);y&amp;&amp;A.startAngle(y),b&amp;&amp;A.endAngle(b),m&amp;&amp;A.innerRadius(S*w);var O=d3.layout.pie().sort(null).value(function(e){return e.disabled?0:s(e)}),M=N.select(&quot;.nv-pie&quot;).selectAll(&quot;.nv-slice&quot;).data(O),_=N.select(&quot;.nv-pieLabels&quot;).selectAll(&quot;.nv-label&quot;).data(O);M.exit().remove(),_.exit().remove();var D=M.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-slice&quot;).on(&quot;mouseover&quot;,function(e,t){d3.select(this).classed(&quot;hover&quot;,!0),E.elementMouseover({label:i(e.data),value:s(e.data),point:e.data,pointIndex:t,pos:[d3.event.pageX,d3.event.pageY],id:u})}).on(&quot;mouseout&quot;,function(e,t){d3.select(this).classed(&quot;hover&quot;,!1),E.elementMouseout({label:i(e.data),value:s(e.data),point:e.data,index:t,id:u})}).on(&quot;click&quot;,function(e,t){E.elementClick({label:i(e.data),value:s(e.data),point:e.data,index:t,pos:d3.event,id:u}),d3.event.stopPropagation()}).on(&quot;dblclick&quot;,function(e,t){E.elementDblClick({label:i(e.data),value:s(e.data),point:e.data,index:t,pos:d3.event,id:u}),d3.event.stopPropagation()});M.attr(&quot;fill&quot;,function(e,t){return a(e,t)}).attr(&quot;stroke&quot;,function(e,t){return a(e,t)});var P=D.append(&quot;path&quot;).each(function(e){this._current=e});M.select(&quot;path&quot;).transition().attr(&quot;d&quot;,A).attrTween(&quot;d&quot;,R);if(l){var H=d3.svg.arc().innerRadius(0);c&amp;&amp;(H=A),h&amp;&amp;(H=d3.svg.arc().outerRadius(A.outerRadius())),_.enter().append(&quot;g&quot;).classed(&quot;nv-label&quot;,!0).each(function(e,t){var n=d3.select(this);n.attr(&quot;transform&quot;,function(e){if(g){e.outerRadius=x+10,e.innerRadius=x+15;var t=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2&lt;Math.PI?t-=90:t+=90,&quot;translate(&quot;+H.centroid(e)+&quot;) rotate(&quot;+t+&quot;)&quot;}return e.outerRadius=S+10,e.innerRadius=S+15,&quot;translate(&quot;+H.centroid(e)+&quot;)&quot;}),n.append(&quot;rect&quot;).style(&quot;stroke&quot;,&quot;#fff&quot;).style(&quot;fill&quot;,&quot;#fff&quot;).attr(&quot;rx&quot;,3).attr(&quot;ry&quot;,3),n.append(&quot;text&quot;).style(&quot;text-anchor&quot;,g?(e.startAngle+e.endAngle)/2&lt;Math.PI?&quot;start&quot;:&quot;end&quot;:&quot;middle&quot;).style(&quot;fill&quot;,&quot;#000&quot;)});var B={},j=14,F=140,I=function(e){return Math.floor(e[0]/F)*F+&quot;,&quot;+Math.floor(e[1]/j)*j};_.transition().attr(&quot;transform&quot;,function(e){if(g){e.outerRadius=x+10,e.innerRadius=x+15;var t=(e.startAngle+e.endAngle)/2*(180/Math.PI);return(e.startAngle+e.endAngle)/2&lt;Math.PI?t-=90:t+=90,&quot;translate(&quot;+H.centroid(e)+&quot;) rotate(&quot;+t+&quot;)&quot;}e.outerRadius=S+10,e.innerRadius=S+15;var n=H.centroid(e),r=I(n);return B[r]&amp;&amp;(n[1]-=j),B[I(n)]=!0,&quot;translate(&quot;+n+&quot;)&quot;}),_.select(&quot;.nv-label text&quot;).style(&quot;text-anchor&quot;,g?(d.startAngle+d.endAngle)/2&lt;Math.PI?&quot;start&quot;:&quot;end&quot;:&quot;middle&quot;).text(function(e,t){var n=(e.endAngle-e.startAngle)/(2*Math.PI),r={key:i(e.data),value:s(e.data),percent:d3.format(&quot;%&quot;)(n)};return e.value&amp;&amp;n&gt;v?r[p]:&quot;&quot;})}}),S}var t={top:0,right:0,bottom:0,left:0},n=500,r=500,i=function(e){return e.x},s=function(e){return e.y},o=function(e){return e.description},u=Math.floor(Math.random()*1e4),a=e.utils.defaultColor(),f=d3.format(&quot;,.2f&quot;),l=!0,c=!0,h=!1,p=&quot;key&quot;,v=.02,m=!1,g=!1,y=!1,b=!1,w=.5,E=d3.dispatch(&quot;chartClick&quot;,&quot;elementClick&quot;,&quot;elementDblClick&quot;,&quot;elementMouseover&quot;,&quot;elementMouseout&quot;);return S.dispatch=E,S.options=e.utils.optionsFunc.bind(S),S.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,S):t},S.width=function(e){return arguments.length?(n=e,S):n},S.height=function(e){return arguments.length?(r=e,S):r},S.values=function(t){return e.log(&quot;pie.values() is no longer supported.&quot;),S},S.x=function(e){return arguments.length?(i=e,S):i},S.y=function(e){return arguments.length?(s=d3.functor(e),S):s},S.description=function(e){return arguments.length?(o=e,S):o},S.showLabels=function(e){return arguments.length?(l=e,S):l},S.labelSunbeamLayout=function(e){return arguments.length?(g=e,S):g},S.donutLabelsOutside=function(e){return arguments.length?(h=e,S):h},S.pieLabelsOutside=function(e){return arguments.length?(c=e,S):c},S.labelType=function(e){return arguments.length?(p=e,p=p||&quot;key&quot;,S):p},S.donut=function(e){return arguments.length?(m=e,S):m},S.donutRatio=function(e){return arguments.length?(w=e,S):w},S.startAngle=function(e){return arguments.length?(y=e,S):y},S.endAngle=function(e){return arguments.length?(b=e,S):b},S.id=function(e){return arguments.length?(u=e,S):u},S.color=function(t){return arguments.length?(a=e.utils.getColor(t),S):a},S.valueFormat=function(e){return arguments.length?(f=e,S):f},S.labelThreshold=function(e){return arguments.length?(v=e,S):v},S},e.models.pieChart=function(){&quot;use strict&quot;;function v(e){return e.each(function(e){var u=d3.select(this),a=this,f=(i||parseInt(u.style(&quot;width&quot;))||960)-r.left-r.right,d=(s||parseInt(u.style(&quot;height&quot;))||400)-r.top-r.bottom;v.update=function(){u.transition().call(v)},v.container=this,l.disabled=e.map(function(e){return!!e.disabled});if(!c){var m;c={};for(m in l)l[m]instanceof Array?c[m]=l[m].slice(0):c[m]=l[m]}if(!e||!e.length){var g=u.selectAll(&quot;.nv-noData&quot;).data([h]);return g.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),g.attr(&quot;x&quot;,r.left+f/2).attr(&quot;y&quot;,r.top+d/2).text(function(e){return e}),v}u.selectAll(&quot;.nv-noData&quot;).remove();var y=u.selectAll(&quot;g.nv-wrap.nv-pieChart&quot;).data([e]),b=y.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-pieChart&quot;).append(&quot;g&quot;),w=y.select(&quot;g&quot;);b.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-pieWrap&quot;),b.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-legendWrap&quot;),o&amp;&amp;(n.width(f).key(t.x()),y.select(&quot;.nv-legendWrap&quot;).datum(e).call(n),r.top!=n.height()&amp;&amp;(r.top=n.height(),d=(s||parseInt(u.style(&quot;height&quot;))||400)-r.top-r.bottom),y.select(&quot;.nv-legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+ -r.top+&quot;)&quot;)),y.attr(&quot;transform&quot;,&quot;translate(&quot;+r.left+&quot;,&quot;+r.top+&quot;)&quot;),t.width(f).height(d);var E=w.select(&quot;.nv-pieWrap&quot;).datum([e]);d3.transition(E).call(t),n.dispatch.on(&quot;stateChange&quot;,function(e){l=e,p.stateChange(l),v.update()}),t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){p.tooltipHide(e)}),p.on(&quot;changeState&quot;,function(t){typeof t.disabled!=&quot;undefined&quot;&amp;&amp;(e.forEach(function(e,n){e.disabled=t.disabled[n]}),l.disabled=t.disabled),v.update()})}),v}var t=e.models.pie(),n=e.models.legend(),r={top:30,right:20,bottom:20,left:20},i=null,s=null,o=!0,u=e.utils.defaultColor(),a=!0,f=function(e,t,n,r){return&quot;&lt;h3&gt;&quot;+e+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+t+&quot;&lt;/p&gt;&quot;},l={},c=null,h=&quot;No Data Available.&quot;,p=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;stateChange&quot;,&quot;changeState&quot;),d=function(n,r){var i=t.description()(n.point)||t.x()(n.point),s=n.pos[0]+(r&amp;&amp;r.offsetLeft||0),o=n.pos[1]+(r&amp;&amp;r.offsetTop||0),u=t.valueFormat()(t.y()(n.point)),a=f(i,u,n,v);e.tooltip.show([s,o],a,n.value&lt;0?&quot;n&quot;:&quot;s&quot;,null,r)};return t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+r.left,e.pos[1]+r.top],p.tooltipShow(e)}),p.on(&quot;tooltipShow&quot;,function(e){a&amp;&amp;d(e)}),p.on(&quot;tooltipHide&quot;,function(){a&amp;&amp;e.tooltip.cleanup()}),v.legend=n,v.dispatch=p,v.pie=t,d3.rebind(v,t,&quot;valueFormat&quot;,&quot;values&quot;,&quot;x&quot;,&quot;y&quot;,&quot;description&quot;,&quot;id&quot;,&quot;showLabels&quot;,&quot;donutLabelsOutside&quot;,&quot;pieLabelsOutside&quot;,&quot;labelType&quot;,&quot;donut&quot;,&quot;donutRatio&quot;,&quot;labelThreshold&quot;),v.options=e.utils.optionsFunc.bind(v),v.margin=function(e){return arguments.length?(r.top=typeof e.top!=&quot;undefined&quot;?e.top:r.top,r.right=typeof e.right!=&quot;undefined&quot;?e.right:r.right,r.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:r.bottom,r.left=typeof e.left!=&quot;undefined&quot;?e.left:r.left,v):r},v.width=function(e){return arguments.length?(i=e,v):i},v.height=function(e){return arguments.length?(s=e,v):s},v.color=function(r){return arguments.length?(u=e.utils.getColor(r),n.color(u),t.color(u),v):u},v.showLegend=function(e){return arguments.length?(o=e,v):o},v.tooltips=function(e){return arguments.length?(a=e,v):a},v.tooltipContent=function(e){return arguments.length?(f=e,v):f},v.state=function(e){return arguments.length?(l=e,v):l},v.defaultState=function(e){return arguments.length?(c=e,v):c},v.noData=function(e){return arguments.length?(h=e,v):h},v},e.models.scatter=function(){&quot;use strict&quot;;function I(q){return q.each(function(I){function Q(){if(!g)return!1;var e,i=d3.merge(I.map(function(e,t){return e.values.map(function(e,n){var r=f(e,n),i=l(e,n);return[o(r)+Math.random()*1e-7,u(i)+Math.random()*1e-7,t,n,e]}).filter(function(e,t){return b(e[4],t)})}));if(D===!0){if(x){var a=X.select(&quot;defs&quot;).selectAll(&quot;.nv-point-clips&quot;).data([s]).enter();a.append(&quot;clipPath&quot;).attr(&quot;class&quot;,&quot;nv-point-clips&quot;).attr(&quot;id&quot;,&quot;nv-points-clip-&quot;+s);var c=X.select(&quot;#nv-points-clip-&quot;+s).selectAll(&quot;circle&quot;).data(i);c.enter().append(&quot;circle&quot;).attr(&quot;r&quot;,T),c.exit().remove(),c.attr(&quot;cx&quot;,function(e){return e[0]}).attr(&quot;cy&quot;,function(e){return e[1]}),X.select(&quot;.nv-point-paths&quot;).attr(&quot;clip-path&quot;,&quot;url(#nv-points-clip-&quot;+s+&quot;)&quot;)}i.length&amp;&amp;(i.push([o.range()[0]-20,u.range()[0]-20,null,null]),i.push([o.range()[1]+20,u.range()[1]+20,null,null]),i.push([o.range()[0]-20,u.range()[0]+20,null,null]),i.push([o.range()[1]+20,u.range()[1]-20,null,null]));var h=d3.geom.polygon([[-10,-10],[-10,r+10],[n+10,r+10],[n+10,-10]]),p=d3.geom.voronoi(i).map(function(e,t){return{data:h.clip(e),series:i[t][2],point:i[t][3]}}),d=X.select(&quot;.nv-point-paths&quot;).selectAll(&quot;path&quot;).data(p);d.enter().append(&quot;path&quot;).attr(&quot;class&quot;,function(e,t){return&quot;nv-path-&quot;+t}),d.exit().remove(),d.attr(&quot;d&quot;,function(e){return e.data.length===0?&quot;M 0 0&quot;:&quot;M&quot;+e.data.join(&quot;L&quot;)+&quot;Z&quot;});var v=function(e,n){if(F)return 0;var r=I[e.series];if(typeof r==&quot;undefined&quot;)return;var i=r.values[e.point];n({point:i,series:r,pos:[o(f(i,e.point))+t.left,u(l(i,e.point))+t.top],seriesIndex:e.series,pointIndex:e.point})};d.on(&quot;click&quot;,function(e){v(e,_.elementClick)}).on(&quot;mouseover&quot;,function(e){v(e,_.elementMouseover)}).on(&quot;mouseout&quot;,function(e,t){v(e,_.elementMouseout)})}else X.select(&quot;.nv-groups&quot;).selectAll(&quot;.nv-group&quot;).selectAll(&quot;.nv-point&quot;).on(&quot;click&quot;,function(e,n){if(F||!I[e.series])return 0;var r=I[e.series],i=r.values[n];_.elementClick({point:i,series:r,pos:[o(f(i,n))+t.left,u(l(i,n))+t.top],seriesIndex:e.series,pointIndex:n})}).on(&quot;mouseover&quot;,function(e,n){if(F||!I[e.series])return 0;var r=I[e.series],i=r.values[n];_.elementMouseover({point:i,series:r,pos:[o(f(i,n))+t.left,u(l(i,n))+t.top],seriesIndex:e.series,pointIndex:n})}).on(&quot;mouseout&quot;,function(e,t){if(F||!I[e.series])return 0;var n=I[e.series],r=n.values[t];_.elementMouseout({point:r,series:n,seriesIndex:e.series,pointIndex:t})});F=!1}var q=n-t.left-t.right,R=r-t.top-t.bottom,U=d3.select(this);I.forEach(function(e,t){e.values.forEach(function(e){e.series=t})});var W=N&amp;&amp;C&amp;&amp;A?[]:d3.merge(I.map(function(e){return e.values.map(function(e,t){return{x:f(e,t),y:l(e,t),size:c(e,t)}})}));o.domain(N||d3.extent(W.map(function(e){return e.x}).concat(d))),w&amp;&amp;I[0]?o.range(k||[(q*E+q)/(2*I[0].values.length),q-q*(1+E)/(2*I[0].values.length)]):o.range(k||[0,q]),u.domain(C||d3.extent(W.map(function(e){return e.y}).concat(v))).range(L||[R,0]),a.domain(A||d3.extent(W.map(function(e){return e.size}).concat(m))).range(O||[16,256]);if(o.domain()[0]===o.domain()[1]||u.domain()[0]===u.domain()[1])M=!0;o.domain()[0]===o.domain()[1]&amp;&amp;(o.domain()[0]?o.domain([o.domain()[0]-o.domain()[0]*.01,o.domain()[1]+o.domain()[1]*.01]):o.domain([-1,1])),u.domain()[0]===u.domain()[1]&amp;&amp;(u.domain()[0]?u.domain([u.domain()[0]-u.domain()[0]*.01,u.domain()[1]+u.domain()[1]*.01]):u.domain([-1,1])),isNaN(o.domain()[0])&amp;&amp;o.domain([-1,1]),isNaN(u.domain()[0])&amp;&amp;u.domain([-1,1]),P=P||o,H=H||u,B=B||a;var X=U.selectAll(&quot;g.nv-wrap.nv-scatter&quot;).data([I]),V=X.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-scatter nv-chart-&quot;+s+(M?&quot; nv-single-point&quot;:&quot;&quot;)),$=V.append(&quot;defs&quot;),J=V.append(&quot;g&quot;),K=X.select(&quot;g&quot;);J.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-groups&quot;),J.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-point-paths&quot;),X.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;),$.append(&quot;clipPath&quot;).attr(&quot;id&quot;,&quot;nv-edge-clip-&quot;+s).append(&quot;rect&quot;),X.select(&quot;#nv-edge-clip-&quot;+s+&quot; rect&quot;).attr(&quot;width&quot;,q).attr(&quot;height&quot;,R&gt;0?R:0),K.attr(&quot;clip-path&quot;,S?&quot;url(#nv-edge-clip-&quot;+s+&quot;)&quot;:&quot;&quot;),F=!0;var G=X.select(&quot;.nv-groups&quot;).selectAll(&quot;.nv-group&quot;).data(function(e){return e},function(e){return e.key});G.enter().append(&quot;g&quot;).style(&quot;stroke-opacity&quot;,1e-6).style(&quot;fill-opacity&quot;,1e-6),G.exit().remove(),G.attr(&quot;class&quot;,function(e,t){return&quot;nv-group nv-series-&quot;+t}).classed(&quot;hover&quot;,function(e){return e.hover}),G.transition().style(&quot;fill&quot;,function(e,t){return i(e,t)}).style(&quot;stroke&quot;,function(e,t){return i(e,t)}).style(&quot;stroke-opacity&quot;,1).style(&quot;fill-opacity&quot;,.5);if(p){var Y=G.selectAll(&quot;circle.nv-point&quot;).data(function(e){return e.values},y);Y.enter().append(&quot;circle&quot;).style(&quot;fill&quot;,function(e,t){return e.color}).style(&quot;stroke&quot;,function(e,t){return e.color}).attr(&quot;cx&quot;,function(t,n){return e.utils.NaNtoZero(P(f(t,n)))}).attr(&quot;cy&quot;,function(t,n){return e.utils.NaNtoZero(H(l(t,n)))}).attr(&quot;r&quot;,function(e,t){return Math.sqrt(a(c(e,t))/Math.PI)}),Y.exit().remove(),G.exit().selectAll(&quot;path.nv-point&quot;).transition().attr(&quot;cx&quot;,function(t,n){return e.utils.NaNtoZero(o(f(t,n)))}).attr(&quot;cy&quot;,function(t,n){return e.utils.NaNtoZero(u(l(t,n)))}).remove(),Y.each(function(e,t){d3.select(this).classed(&quot;nv-point&quot;,!0).classed(&quot;nv-point-&quot;+t,!0).classed(&quot;hover&quot;,!1)}),Y.transition().attr(&quot;cx&quot;,function(t,n){return e.utils.NaNtoZero(o(f(t,n)))}).attr(&quot;cy&quot;,function(t,n){return e.utils.NaNtoZero(u(l(t,n)))}).attr(&quot;r&quot;,function(e,t){return Math.sqrt(a(c(e,t))/Math.PI)})}else{var Y=G.selectAll(&quot;path.nv-point&quot;).data(function(e){return e.values});Y.enter().append(&quot;path&quot;).style(&quot;fill&quot;,function(e,t){return e.color}).style(&quot;stroke&quot;,function(e,t){return e.color}).attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+P(f(e,t))+&quot;,&quot;+H(l(e,t))+&quot;)&quot;}).attr(&quot;d&quot;,d3.svg.symbol().type(h).size(function(e,t){return a(c(e,t))})),Y.exit().remove(),G.exit().selectAll(&quot;path.nv-point&quot;).transition().attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+o(f(e,t))+&quot;,&quot;+u(l(e,t))+&quot;)&quot;}).remove(),Y.each(function(e,t){d3.select(this).classed(&quot;nv-point&quot;,!0).classed(&quot;nv-point-&quot;+t,!0).classed(&quot;hover&quot;,!1)}),Y.transition().attr(&quot;transform&quot;,function(e,t){return&quot;translate(&quot;+o(f(e,t))+&quot;,&quot;+u(l(e,t))+&quot;)&quot;}).attr(&quot;d&quot;,d3.svg.symbol().type(h).size(function(e,t){return a(c(e,t))}))}clearTimeout(j),j=setTimeout(Q,300),P=o.copy(),H=u.copy(),B=a.copy()}),I}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=e.utils.defaultColor(),s=Math.floor(Math.random()*1e5),o=d3.scale.linear(),u=d3.scale.linear(),a=d3.scale.linear(),f=function(e){return e.x},l=function(e){return e.y},c=function(e){return e.size||1},h=function(e){return e.shape||&quot;circle&quot;},p=!0,d=[],v=[],m=[],g=!0,y=null,b=function(e){return!e.notActive},w=!1,E=.1,S=!1,x=!0,T=function(){return 25},N=null,C=null,k=null,L=null,A=null,O=null,M=!1,_=d3.dispatch(&quot;elementClick&quot;,&quot;elementMouseover&quot;,&quot;elementMouseout&quot;),D=!0,P,H,B,j,F=!1;return I.clearHighlights=function(){d3.selectAll(&quot;.nv-chart-&quot;+s+&quot; .nv-point.hover&quot;).classed(&quot;hover&quot;,!1)},I.highlightPoint=function(e,t,n){d3.select(&quot;.nv-chart-&quot;+s+&quot; .nv-series-&quot;+e+&quot; .nv-point-&quot;+t).classed(&quot;hover&quot;,n)},_.on(&quot;elementMouseover.point&quot;,function(e){g&amp;&amp;I.highlightPoint(e.seriesIndex,e.pointIndex,!0)}),_.on(&quot;elementMouseout.point&quot;,function(e){g&amp;&amp;I.highlightPoint(e.seriesIndex,e.pointIndex,!1)}),I.dispatch=_,I.options=e.utils.optionsFunc.bind(I),I.x=function(e){return arguments.length?(f=d3.functor(e),I):f},I.y=function(e){return arguments.length?(l=d3.functor(e),I):l},I.size=function(e){return arguments.length?(c=d3.functor(e),I):c},I.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,I):t},I.width=function(e){return arguments.length?(n=e,I):n},I.height=function(e){return arguments.length?(r=e,I):r},I.xScale=function(e){return arguments.length?(o=e,I):o},I.yScale=function(e){return arguments.length?(u=e,I):u},I.zScale=function(e){return arguments.length?(a=e,I):a},I.xDomain=function(e){return arguments.length?(N=e,I):N},I.yDomain=function(e){return arguments.length?(C=e,I):C},I.sizeDomain=function(e){return arguments.length?(A=e,I):A},I.xRange=function(e){return arguments.length?(k=e,I):k},I.yRange=function(e){return arguments.length?(L=e,I):L},I.sizeRange=function(e){return arguments.length?(O=e,I):O},I.forceX=function(e){return arguments.length?(d=e,I):d},I.forceY=function(e){return arguments.length?(v=e,I):v},I.forceSize=function(e){return arguments.length?(m=e,I):m},I.interactive=function(e){return arguments.length?(g=e,I):g},I.pointKey=function(e){return arguments.length?(y=e,I):y},I.pointActive=function(e){return arguments.length?(b=e,I):b},I.padData=function(e){return arguments.length?(w=e,I):w},I.padDataOuter=function(e){return arguments.length?(E=e,I):E},I.clipEdge=function(e){return arguments.length?(S=e,I):S},I.clipVoronoi=function(e){return arguments.length?(x=e,I):x},I.useVoronoi=function(e){return arguments.length?(D=e,D===!1&amp;&amp;(x=!1),I):D},I.clipRadius=function(e){return arguments.length?(T=e,I):T},I.color=function(t){return arguments.length?(i=e.utils.getColor(t),I):i},I.shape=function(e){return arguments.length?(h=e,I):h},I.onlyCircles=function(e){return arguments.length?(p=e,I):p},I.id=function(e){return arguments.length?(s=e,I):s},I.singlePoint=function(e){return arguments.length?(M=e,I):M},I},e.models.scatterChart=function(){&quot;use strict&quot;;function F(e){return e.each(function(e){function K(){if(T)return X.select(&quot;.nv-point-paths&quot;).style(&quot;pointer-events&quot;,&quot;all&quot;),!1;X.select(&quot;.nv-point-paths&quot;).style(&quot;pointer-events&quot;,&quot;none&quot;);var i=d3.mouse(this);h.distortion(x).focus(i[0]),p.distortion(x).focus(i[1]),X.select(&quot;.nv-scatterWrap&quot;).call(t),b&amp;&amp;X.select(&quot;.nv-x.nv-axis&quot;).call(n),w&amp;&amp;X.select(&quot;.nv-y.nv-axis&quot;).call(r),X.select(&quot;.nv-distributionX&quot;).datum(e.filter(function(e){return!e.disabled})).call(o),X.select(&quot;.nv-distributionY&quot;).datum(e.filter(function(e){return!e.disabled})).call(u)}var C=d3.select(this),k=this,L=(f||parseInt(C.style(&quot;width&quot;))||960)-a.left-a.right,I=(l||parseInt(C.style(&quot;height&quot;))||400)-a.top-a.bottom;F.update=function(){C.transition().duration(D).call(F)},F.container=this,A.disabled=e.map(function(e){return!!e.disabled});if(!O){var q;O={};for(q in A)A[q]instanceof Array?O[q]=A[q].slice(0):O[q]=A[q]}if(!e||!e.length||!e.filter(function(e){return e.values.length}).length){var R=C.selectAll(&quot;.nv-noData&quot;).data([_]);return R.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),R.attr(&quot;x&quot;,a.left+L/2).attr(&quot;y&quot;,a.top+I/2).text(function(e){return e}),F}C.selectAll(&quot;.nv-noData&quot;).remove(),P=P||h,H=H||p;var U=C.selectAll(&quot;g.nv-wrap.nv-scatterChart&quot;).data([e]),z=U.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-scatterChart nv-chart-&quot;+t.id()),W=z.append(&quot;g&quot;),X=U.select(&quot;g&quot;);W.append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-background&quot;),W.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),W.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y nv-axis&quot;),W.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-scatterWrap&quot;),W.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-distWrap&quot;),W.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-legendWrap&quot;),W.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-controlsWrap&quot;);if(y){var V=S?L/2:L;i.width(V),U.select(&quot;.nv-legendWrap&quot;).datum(e).call(i),a.top!=i.height()&amp;&amp;(a.top=i.height(),I=(l||parseInt(C.style(&quot;height&quot;))||400)-a.top-a.bottom),U.select(&quot;.nv-legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+(L-V)+&quot;,&quot;+ -a.top+&quot;)&quot;)}S&amp;&amp;(s.width(180).color([&quot;#444&quot;]),X.select(&quot;.nv-controlsWrap&quot;).datum(j).attr(&quot;transform&quot;,&quot;translate(0,&quot;+ -a.top+&quot;)&quot;).call(s)),U.attr(&quot;transform&quot;,&quot;translate(&quot;+a.left+&quot;,&quot;+a.top+&quot;)&quot;),E&amp;&amp;X.select(&quot;.nv-y.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+L+&quot;,0)&quot;),t.width(L).height(I).color(e.map(function(e,t){return e.color||c(e,t)}).filter(function(t,n){return!e[n].disabled})),d!==0&amp;&amp;t.xDomain(null),v!==0&amp;&amp;t.yDomain(null),U.select(&quot;.nv-scatterWrap&quot;).datum(e.filter(function(e){return!e.disabled})).call(t);if(d!==0){var $=h.domain()[1]-h.domain()[0];t.xDomain([h.domain()[0]-d*$,h.domain()[1]+d*$])}if(v!==0){var J=p.domain()[1]-p.domain()[0];t.yDomain([p.domain()[0]-v*J,p.domain()[1]+v*J])}(v!==0||d!==0)&amp;&amp;U.select(&quot;.nv-scatterWrap&quot;).datum(e.filter(function(e){return!e.disabled})).call(t),b&amp;&amp;(n.scale(h).ticks(n.ticks()&amp;&amp;n.ticks().length?n.ticks():L/100).tickSize(-I,0),X.select(&quot;.nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+p.range()[0]+&quot;)&quot;).call(n)),w&amp;&amp;(r.scale(p).ticks(r.ticks()&amp;&amp;r.ticks().length?r.ticks():I/36).tickSize(-L,0),X.select(&quot;.nv-y.nv-axis&quot;).call(r)),m&amp;&amp;(o.getData(t.x()).scale(h).width(L).color(e.map(function(e,t){return e.color||c(e,t)}).filter(function(t,n){return!e[n].disabled})),W.select(&quot;.nv-distWrap&quot;).append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-distributionX&quot;),X.select(&quot;.nv-distributionX&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+p.range()[0]+&quot;)&quot;).datum(e.filter(function(e){return!e.disabled})).call(o)),g&amp;&amp;(u.getData(t.y()).scale(p).width(I).color(e.map(function(e,t){return e.color||c(e,t)}).filter(function(t,n){return!e[n].disabled})),W.select(&quot;.nv-distWrap&quot;).append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-distributionY&quot;),X.select(&quot;.nv-distributionY&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+(E?L:-u.size())+&quot;,0)&quot;).datum(e.filter(function(e){return!e.disabled})).call(u)),d3.fisheye&amp;&amp;(X.select(&quot;.nv-background&quot;).attr(&quot;width&quot;,L).attr(&quot;height&quot;,I),X.select(&quot;.nv-background&quot;).on(&quot;mousemove&quot;,K),X.select(&quot;.nv-background&quot;).on(&quot;click&quot;,function(){T=!T}),t.dispatch.on(&quot;elementClick.freezeFisheye&quot;,function(){T=!T})),s.dispatch.on(&quot;legendClick&quot;,function(e,i){e.disabled=!e.disabled,x=e.disabled?0:2.5,X.select(&quot;.nv-background&quot;).style(&quot;pointer-events&quot;,e.disabled?&quot;none&quot;:&quot;all&quot;),X.select(&quot;.nv-point-paths&quot;).style(&quot;pointer-events&quot;,e.disabled?&quot;all&quot;:&quot;none&quot;),e.disabled?(h.distortion(x).focus(0),p.distortion(x).focus(0),X.select(&quot;.nv-scatterWrap&quot;).call(t),X.select(&quot;.nv-x.nv-axis&quot;).call(n),X.select(&quot;.nv-y.nv-axis&quot;).call(r)):T=!1,F.update()}),i.dispatch.on(&quot;stateChange&quot;,function(e){A.disabled=e.disabled,M.stateChange(A),F.update()}),t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){d3.select(&quot;.nv-chart-&quot;+t.id()+&quot; .nv-series-&quot;+e.seriesIndex+&quot; .nv-distx-&quot;+e.pointIndex).attr(&quot;y1&quot;,function(t,n){return e.pos[1]-I}),d3.select(&quot;.nv-chart-&quot;+t.id()+&quot; .nv-series-&quot;+e.seriesIndex+&quot; .nv-disty-&quot;+e.pointIndex).attr(&quot;x2&quot;,e.pos[0]+o.size()),e.pos=[e.pos[0]+a.left,e.pos[1]+a.top],M.tooltipShow(e)}),M.on(&quot;tooltipShow&quot;,function(e){N&amp;&amp;B(e,k.parentNode)}),M.on(&quot;changeState&quot;,function(t){typeof t.disabled!=&quot;undefined&quot;&amp;&amp;(e.forEach(function(e,n){e.disabled=t.disabled[n]}),A.disabled=t.disabled),F.update()}),P=h.copy(),H=p.copy()}),F}var t=e.models.scatter(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),s=e.models.legend(),o=e.models.distribution(),u=e.models.distribution(),a={top:30,right:20,bottom:50,left:75},f=null,l=null,c=e.utils.defaultColor(),h=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):t.xScale(),p=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):t.yScale(),d=0,v=0,m=!1,g=!1,y=!0,b=!0,w=!0,E=!1,S=!!d3.fisheye,x=0,T=!1,N=!0,C=function(e,t,n){return&quot;&lt;strong&gt;&quot;+t+&quot;&lt;/strong&gt;&quot;},k=function(e,t,n){return&quot;&lt;strong&gt;&quot;+n+&quot;&lt;/strong&gt;&quot;},L=null,A={},O=null,M=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;stateChange&quot;,&quot;changeState&quot;),_=&quot;No Data Available.&quot;,D=250;t.xScale(h).yScale(p),n.orient(&quot;bottom&quot;).tickPadding(10),r.orient(E?&quot;right&quot;:&quot;left&quot;).tickPadding(10),o.axis(&quot;x&quot;),u.axis(&quot;y&quot;),s.updateState(!1);var P,H,B=function(i,s){var o=i.pos[0]+(s.offsetLeft||0),u=i.pos[1]+(s.offsetTop||0),f=i.pos[0]+(s.offsetLeft||0),l=p.range()[0]+a.top+(s.offsetTop||0),c=h.range()[0]+a.left+(s.offsetLeft||0),d=i.pos[1]+(s.offsetTop||0),v=n.tickFormat()(t.x()(i.point,i.pointIndex)),m=r.tickFormat()(t.y()(i.point,i.pointIndex));C!=null&amp;&amp;e.tooltip.show([f,l],C(i.series.key,v,m,i,F),&quot;n&quot;,1,s,&quot;x-nvtooltip&quot;),k!=null&amp;&amp;e.tooltip.show([c,d],k(i.series.key,v,m,i,F),&quot;e&quot;,1,s,&quot;y-nvtooltip&quot;),L!=null&amp;&amp;e.tooltip.show([o,u],L(i.series.key,v,m,i,F),i.value&lt;0?&quot;n&quot;:&quot;s&quot;,null,s)},j=[{key:&quot;Magnify&quot;,disabled:!0}];return t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){M.tooltipHide(e),d3.select(&quot;.nv-chart-&quot;+t.id()+&quot; .nv-series-&quot;+e.seriesIndex+&quot; .nv-distx-&quot;+e.pointIndex).attr(&quot;y1&quot;,0),d3.select(&quot;.nv-chart-&quot;+t.id()+&quot; .nv-series-&quot;+e.seriesIndex+&quot; .nv-disty-&quot;+e.pointIndex).attr(&quot;x2&quot;,u.size())}),M.on(&quot;tooltipHide&quot;,function(){N&amp;&amp;e.tooltip.cleanup()}),F.dispatch=M,F.scatter=t,F.legend=i,F.controls=s,F.xAxis=n,F.yAxis=r,F.distX=o,F.distY=u,d3.rebind(F,t,&quot;id&quot;,&quot;interactive&quot;,&quot;pointActive&quot;,&quot;x&quot;,&quot;y&quot;,&quot;shape&quot;,&quot;size&quot;,&quot;xScale&quot;,&quot;yScale&quot;,&quot;zScale&quot;,&quot;xDomain&quot;,&quot;yDomain&quot;,&quot;xRange&quot;,&quot;yRange&quot;,&quot;sizeDomain&quot;,&quot;sizeRange&quot;,&quot;forceX&quot;,&quot;forceY&quot;,&quot;forceSize&quot;,&quot;clipVoronoi&quot;,&quot;clipRadius&quot;,&quot;useVoronoi&quot;),F.options=e.utils.optionsFunc.bind(F),F.margin=function(e){return arguments.length?(a.top=typeof e.top!=&quot;undefined&quot;?e.top:a.top,a.right=typeof e.right!=&quot;undefined&quot;?e.right:a.right,a.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:a.bottom,a.left=typeof e.left!=&quot;undefined&quot;?e.left:a.left,F):a},F.width=function(e){return arguments.length?(f=e,F):f},F.height=function(e){return arguments.length?(l=e,F):l},F.color=function(t){return arguments.length?(c=e.utils.getColor(t),i.color(c),o.color(c),u.color(c),F):c},F.showDistX=function(e){return arguments.length?(m=e,F):m},F.showDistY=function(e){return arguments.length?(g=e,F):g},F.showControls=function(e){return arguments.length?(S=e,F):S},F.showLegend=function(e){return arguments.length?(y=e,F):y},F.showXAxis=function(e){return arguments.length?(b=e,F):b},F.showYAxis=function(e){return arguments.length?(w=e,F):w},F.rightAlignYAxis=function(e){return arguments.length?(E=e,r.orient(e?&quot;right&quot;:&quot;left&quot;),F):E},F.fisheye=function(e){return arguments.length?(x=e,F):x},F.xPadding=function(e){return arguments.length?(d=e,F):d},F.yPadding=function(e){return arguments.length?(v=e,F):v},F.tooltips=function(e){return arguments.length?(N=e,F):N},F.tooltipContent=function(e){return arguments.length?(L=e,F):L},F.tooltipXContent=function(e){return arguments.length?(C=e,F):C},F.tooltipYContent=function(e){return arguments.length?(k=e,F):k},F.state=function(e){return arguments.length?(A=e,F):A},F.defaultState=function(e){return arguments.length?(O=e,F):O},F.noData=function(e){return arguments.length?(_=e,F):_},F.transitionDuration=function(e){return arguments.length?(D=e,F):D},F},e.models.scatterPlusLineChart=function(){&quot;use strict&quot;;function B(e){return e.each(function(e){function $(){if(S)return z.select(&quot;.nv-point-paths&quot;).style(&quot;pointer-events&quot;,&quot;all&quot;),!1;z.select(&quot;.nv-point-paths&quot;).style(&quot;pointer-events&quot;,&quot;none&quot;);var i=d3.mouse(this);h.distortion(E).focus(i[0]),p.distortion(E).focus(i[1]),z.select(&quot;.nv-scatterWrap&quot;).datum(e.filter(function(e){return!e.disabled})).call(t),g&amp;&amp;z.select(&quot;.nv-x.nv-axis&quot;).call(n),y&amp;&amp;z.select(&quot;.nv-y.nv-axis&quot;).call(r),z.select(&quot;.nv-distributionX&quot;).datum(e.filter(function(e){return!e.disabled})).call(o),z.select(&quot;.nv-distributionY&quot;).datum(e.filter(function(e){return!e.disabled})).call(u)}var T=d3.select(this),N=this,C=(f||parseInt(T.style(&quot;width&quot;))||960)-a.left-a.right,j=(l||parseInt(T.style(&quot;height&quot;))||400)-a.top-a.bottom;B.update=function(){T.transition().duration(M).call(B)},B.container=this,k.disabled=e.map(function(e){return!!e.disabled});if(!L){var F;L={};for(F in k)k[F]instanceof Array?L[F]=k[F].slice(0):L[F]=k[F]}if(!e||!e.length||!e.filter(function(e){return e.values.length}).length){var I=T.selectAll(&quot;.nv-noData&quot;).data([O]);return I.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),I.attr(&quot;x&quot;,a.left+C/2).attr(&quot;y&quot;,a.top+j/2).text(function(e){return e}),B}T.selectAll(&quot;.nv-noData&quot;).remove(),h=t.xScale(),p=t.yScale(),_=_||h,D=D||p;var q=T.selectAll(&quot;g.nv-wrap.nv-scatterChart&quot;).data([e]),R=q.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-scatterChart nv-chart-&quot;+t.id()),U=R.append(&quot;g&quot;),z=q.select(&quot;g&quot;);U.append(&quot;rect&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-background&quot;).style(&quot;pointer-events&quot;,&quot;none&quot;),U.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),U.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y nv-axis&quot;),U.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-scatterWrap&quot;),U.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-regressionLinesWrap&quot;),U.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-distWrap&quot;),U.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-legendWrap&quot;),U.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-controlsWrap&quot;),q.attr(&quot;transform&quot;,&quot;translate(&quot;+a.left+&quot;,&quot;+a.top+&quot;)&quot;),b&amp;&amp;z.select(&quot;.nv-y.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+C+&quot;,0)&quot;),m&amp;&amp;(i.width(C/2),q.select(&quot;.nv-legendWrap&quot;).datum(e).call(i),a.top!=i.height()&amp;&amp;(a.top=i.height(),j=(l||parseInt(T.style(&quot;height&quot;))||400)-a.top-a.bottom),q.select(&quot;.nv-legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+C/2+&quot;,&quot;+ -a.top+&quot;)&quot;)),w&amp;&amp;(s.width(180).color([&quot;#444&quot;]),z.select(&quot;.nv-controlsWrap&quot;).datum(H).attr(&quot;transform&quot;,&quot;translate(0,&quot;+ -a.top+&quot;)&quot;).call(s)),t.width(C).height(j).color(e.map(function(e,t){return e.color||c(e,t)}).filter(function(t,n){return!e[n].disabled})),q.select(&quot;.nv-scatterWrap&quot;).datum(e.filter(function(e){return!e.disabled})).call(t),q.select(&quot;.nv-regressionLinesWrap&quot;).attr(&quot;clip-path&quot;,&quot;url(#nv-edge-clip-&quot;+t.id()+&quot;)&quot;);var W=q.select(&quot;.nv-regressionLinesWrap&quot;).selectAll(&quot;.nv-regLines&quot;).data(function(e){return e});W.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-regLines&quot;);var X=W.selectAll(&quot;.nv-regLine&quot;).data(function(e){return[e]}),V=X.enter().append(&quot;line&quot;).attr(&quot;class&quot;,&quot;nv-regLine&quot;).style(&quot;stroke-opacity&quot;,0);X.transition().attr(&quot;x1&quot;,h.range()[0]).attr(&quot;x2&quot;,h.range()[1]).attr(&quot;y1&quot;,function(e,t){return p(h.domain()[0]*e.slope+e.intercept)}).attr(&quot;y2&quot;,function(e,t){return p(h.domain()[1]*e.slope+e.intercept)}).style(&quot;stroke&quot;,function(e,t,n){return c(e,n)}).style(&quot;stroke-opacity&quot;,function(e,t){return e.disabled||typeof e.slope==&quot;undefined&quot;||typeof e.intercept==&quot;undefined&quot;?0:1}),g&amp;&amp;(n.scale(h).ticks(n.ticks()?n.ticks():C/100).tickSize(-j,0),z.select(&quot;.nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+p.range()[0]+&quot;)&quot;).call(n)),y&amp;&amp;(r.scale(p).ticks(r.ticks()?r.ticks():j/36).tickSize(-C,0),z.select(&quot;.nv-y.nv-axis&quot;).call(r)),d&amp;&amp;(o.getData(t.x()).scale(h).width(C).color(e.map(function(e,t){return e.color||c(e,t)}).filter(function(t,n){return!e[n].disabled})),U.select(&quot;.nv-distWrap&quot;).append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-distributionX&quot;),z.select(&quot;.nv-distributionX&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+p.range()[0]+&quot;)&quot;).datum(e.filter(function(e){return!e.disabled})).call(o)),v&amp;&amp;(u.getData(t.y()).scale(p).width(</div><div class='line' id='LC6'>j).color(e.map(function(e,t){return e.color||c(e,t)}).filter(function(t,n){return!e[n].disabled})),U.select(&quot;.nv-distWrap&quot;).append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-distributionY&quot;),z.select(&quot;.nv-distributionY&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+(b?C:-u.size())+&quot;,0)&quot;).datum(e.filter(function(e){return!e.disabled})).call(u)),d3.fisheye&amp;&amp;(z.select(&quot;.nv-background&quot;).attr(&quot;width&quot;,C).attr(&quot;height&quot;,j),z.select(&quot;.nv-background&quot;).on(&quot;mousemove&quot;,$),z.select(&quot;.nv-background&quot;).on(&quot;click&quot;,function(){S=!S}),t.dispatch.on(&quot;elementClick.freezeFisheye&quot;,function(){S=!S})),s.dispatch.on(&quot;legendClick&quot;,function(e,i){e.disabled=!e.disabled,E=e.disabled?0:2.5,z.select(&quot;.nv-background&quot;).style(&quot;pointer-events&quot;,e.disabled?&quot;none&quot;:&quot;all&quot;),z.select(&quot;.nv-point-paths&quot;).style(&quot;pointer-events&quot;,e.disabled?&quot;all&quot;:&quot;none&quot;),e.disabled?(h.distortion(E).focus(0),p.distortion(E).focus(0),z.select(&quot;.nv-scatterWrap&quot;).call(t),z.select(&quot;.nv-x.nv-axis&quot;).call(n),z.select(&quot;.nv-y.nv-axis&quot;).call(r)):S=!1,B.update()}),i.dispatch.on(&quot;stateChange&quot;,function(e){k=e,A.stateChange(k),B.update()}),t.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){d3.select(&quot;.nv-chart-&quot;+t.id()+&quot; .nv-series-&quot;+e.seriesIndex+&quot; .nv-distx-&quot;+e.pointIndex).attr(&quot;y1&quot;,e.pos[1]-j),d3.select(&quot;.nv-chart-&quot;+t.id()+&quot; .nv-series-&quot;+e.seriesIndex+&quot; .nv-disty-&quot;+e.pointIndex).attr(&quot;x2&quot;,e.pos[0]+o.size()),e.pos=[e.pos[0]+a.left,e.pos[1]+a.top],A.tooltipShow(e)}),A.on(&quot;tooltipShow&quot;,function(e){x&amp;&amp;P(e,N.parentNode)}),A.on(&quot;changeState&quot;,function(t){typeof t.disabled!=&quot;undefined&quot;&amp;&amp;(e.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),B.update()}),_=h.copy(),D=p.copy()}),B}var t=e.models.scatter(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),s=e.models.legend(),o=e.models.distribution(),u=e.models.distribution(),a={top:30,right:20,bottom:50,left:75},f=null,l=null,c=e.utils.defaultColor(),h=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):t.xScale(),p=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):t.yScale(),d=!1,v=!1,m=!0,g=!0,y=!0,b=!1,w=!!d3.fisheye,E=0,S=!1,x=!0,T=function(e,t,n){return&quot;&lt;strong&gt;&quot;+t+&quot;&lt;/strong&gt;&quot;},N=function(e,t,n){return&quot;&lt;strong&gt;&quot;+n+&quot;&lt;/strong&gt;&quot;},C=function(e,t,n,r){return&quot;&lt;h3&gt;&quot;+e+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+r+&quot;&lt;/p&gt;&quot;},k={},L=null,A=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;stateChange&quot;,&quot;changeState&quot;),O=&quot;No Data Available.&quot;,M=250;t.xScale(h).yScale(p),n.orient(&quot;bottom&quot;).tickPadding(10),r.orient(b?&quot;right&quot;:&quot;left&quot;).tickPadding(10),o.axis(&quot;x&quot;),u.axis(&quot;y&quot;),s.updateState(!1);var _,D,P=function(i,s){var o=i.pos[0]+(s.offsetLeft||0),u=i.pos[1]+(s.offsetTop||0),f=i.pos[0]+(s.offsetLeft||0),l=p.range()[0]+a.top+(s.offsetTop||0),c=h.range()[0]+a.left+(s.offsetLeft||0),d=i.pos[1]+(s.offsetTop||0),v=n.tickFormat()(t.x()(i.point,i.pointIndex)),m=r.tickFormat()(t.y()(i.point,i.pointIndex));T!=null&amp;&amp;e.tooltip.show([f,l],T(i.series.key,v,m,i,B),&quot;n&quot;,1,s,&quot;x-nvtooltip&quot;),N!=null&amp;&amp;e.tooltip.show([c,d],N(i.series.key,v,m,i,B),&quot;e&quot;,1,s,&quot;y-nvtooltip&quot;),C!=null&amp;&amp;e.tooltip.show([o,u],C(i.series.key,v,m,i.point.tooltip,i,B),i.value&lt;0?&quot;n&quot;:&quot;s&quot;,null,s)},H=[{key:&quot;Magnify&quot;,disabled:!0}];return t.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){A.tooltipHide(e),d3.select(&quot;.nv-chart-&quot;+t.id()+&quot; .nv-series-&quot;+e.seriesIndex+&quot; .nv-distx-&quot;+e.pointIndex).attr(&quot;y1&quot;,0),d3.select(&quot;.nv-chart-&quot;+t.id()+&quot; .nv-series-&quot;+e.seriesIndex+&quot; .nv-disty-&quot;+e.pointIndex).attr(&quot;x2&quot;,u.size())}),A.on(&quot;tooltipHide&quot;,function(){x&amp;&amp;e.tooltip.cleanup()}),B.dispatch=A,B.scatter=t,B.legend=i,B.controls=s,B.xAxis=n,B.yAxis=r,B.distX=o,B.distY=u,d3.rebind(B,t,&quot;id&quot;,&quot;interactive&quot;,&quot;pointActive&quot;,&quot;x&quot;,&quot;y&quot;,&quot;shape&quot;,&quot;size&quot;,&quot;xScale&quot;,&quot;yScale&quot;,&quot;zScale&quot;,&quot;xDomain&quot;,&quot;yDomain&quot;,&quot;xRange&quot;,&quot;yRange&quot;,&quot;sizeDomain&quot;,&quot;sizeRange&quot;,&quot;forceX&quot;,&quot;forceY&quot;,&quot;forceSize&quot;,&quot;clipVoronoi&quot;,&quot;clipRadius&quot;,&quot;useVoronoi&quot;),B.options=e.utils.optionsFunc.bind(B),B.margin=function(e){return arguments.length?(a.top=typeof e.top!=&quot;undefined&quot;?e.top:a.top,a.right=typeof e.right!=&quot;undefined&quot;?e.right:a.right,a.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:a.bottom,a.left=typeof e.left!=&quot;undefined&quot;?e.left:a.left,B):a},B.width=function(e){return arguments.length?(f=e,B):f},B.height=function(e){return arguments.length?(l=e,B):l},B.color=function(t){return arguments.length?(c=e.utils.getColor(t),i.color(c),o.color(c),u.color(c),B):c},B.showDistX=function(e){return arguments.length?(d=e,B):d},B.showDistY=function(e){return arguments.length?(v=e,B):v},B.showControls=function(e){return arguments.length?(w=e,B):w},B.showLegend=function(e){return arguments.length?(m=e,B):m},B.showXAxis=function(e){return arguments.length?(g=e,B):g},B.showYAxis=function(e){return arguments.length?(y=e,B):y},B.rightAlignYAxis=function(e){return arguments.length?(b=e,r.orient(e?&quot;right&quot;:&quot;left&quot;),B):b},B.fisheye=function(e){return arguments.length?(E=e,B):E},B.tooltips=function(e){return arguments.length?(x=e,B):x},B.tooltipContent=function(e){return arguments.length?(C=e,B):C},B.tooltipXContent=function(e){return arguments.length?(T=e,B):T},B.tooltipYContent=function(e){return arguments.length?(N=e,B):N},B.state=function(e){return arguments.length?(k=e,B):k},B.defaultState=function(e){return arguments.length?(L=e,B):L},B.noData=function(e){return arguments.length?(O=e,B):O},B.transitionDuration=function(e){return arguments.length?(M=e,B):M},B},e.models.sparkline=function(){&quot;use strict&quot;;function d(e){return e.each(function(e){var i=n-t.left-t.right,d=r-t.top-t.bottom,v=d3.select(this);s.domain(l||d3.extent(e,u)).range(h||[0,i]),o.domain(c||d3.extent(e,a)).range(p||[d,0]);var m=v.selectAll(&quot;g.nv-wrap.nv-sparkline&quot;).data([e]),g=m.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-sparkline&quot;),b=g.append(&quot;g&quot;),w=m.select(&quot;g&quot;);m.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;);var E=m.selectAll(&quot;path&quot;).data(function(e){return[e]});E.enter().append(&quot;path&quot;),E.exit().remove(),E.style(&quot;stroke&quot;,function(e,t){return e.color||f(e,t)}).attr(&quot;d&quot;,d3.svg.line().x(function(e,t){return s(u(e,t))}).y(function(e,t){return o(a(e,t))}));var S=m.selectAll(&quot;circle.nv-point&quot;).data(function(e){function n(t){if(t!=-1){var n=e[t];return n.pointIndex=t,n}return null}var t=e.map(function(e,t){return a(e,t)}),r=n(t.lastIndexOf(o.domain()[1])),i=n(t.indexOf(o.domain()[0])),s=n(t.length-1);return[i,r,s].filter(function(e){return e!=null})});S.enter().append(&quot;circle&quot;),S.exit().remove(),S.attr(&quot;cx&quot;,function(e,t){return s(u(e,e.pointIndex))}).attr(&quot;cy&quot;,function(e,t){return o(a(e,e.pointIndex))}).attr(&quot;r&quot;,2).attr(&quot;class&quot;,function(e,t){return u(e,e.pointIndex)==s.domain()[1]?&quot;nv-point nv-currentValue&quot;:a(e,e.pointIndex)==o.domain()[0]?&quot;nv-point nv-minValue&quot;:&quot;nv-point nv-maxValue&quot;})}),d}var t={top:2,right:0,bottom:2,left:0},n=400,r=32,i=!0,s=d3.scale.linear(),o=d3.scale.linear(),u=function(e){return e.x},a=function(e){return e.y},f=e.utils.getColor([&quot;#000&quot;]),l,c,h,p;return d.options=e.utils.optionsFunc.bind(d),d.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,d):t},d.width=function(e){return arguments.length?(n=e,d):n},d.height=function(e){return arguments.length?(r=e,d):r},d.x=function(e){return arguments.length?(u=d3.functor(e),d):u},d.y=function(e){return arguments.length?(a=d3.functor(e),d):a},d.xScale=function(e){return arguments.length?(s=e,d):s},d.yScale=function(e){return arguments.length?(o=e,d):o},d.xDomain=function(e){return arguments.length?(l=e,d):l},d.yDomain=function(e){return arguments.length?(c=e,d):c},d.xRange=function(e){return arguments.length?(h=e,d):h},d.yRange=function(e){return arguments.length?(p=e,d):p},d.animate=function(e){return arguments.length?(i=e,d):i},d.color=function(t){return arguments.length?(f=e.utils.getColor(t),d):f},d},e.models.sparklinePlus=function(){&quot;use strict&quot;;function v(e){return e.each(function(c){function O(){if(a)return;var e=C.selectAll(&quot;.nv-hoverValue&quot;).data(u),r=e.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-hoverValue&quot;).style(&quot;stroke-opacity&quot;,0).style(&quot;fill-opacity&quot;,0);e.exit().transition().duration(250).style(&quot;stroke-opacity&quot;,0).style(&quot;fill-opacity&quot;,0).remove(),e.attr(&quot;transform&quot;,function(e){return&quot;translate(&quot;+s(t.x()(c[e],e))+&quot;,0)&quot;}).transition().duration(250).style(&quot;stroke-opacity&quot;,1).style(&quot;fill-opacity&quot;,1);if(!u.length)return;r.append(&quot;line&quot;).attr(&quot;x1&quot;,0).attr(&quot;y1&quot;,-n.top).attr(&quot;x2&quot;,0).attr(&quot;y2&quot;,b),r.append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nv-xValue&quot;).attr(&quot;x&quot;,-6).attr(&quot;y&quot;,-n.top).attr(&quot;text-anchor&quot;,&quot;end&quot;).attr(&quot;dy&quot;,&quot;.9em&quot;),C.select(&quot;.nv-hoverValue .nv-xValue&quot;).text(f(t.x()(c[u[0]],u[0]))),r.append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nv-yValue&quot;).attr(&quot;x&quot;,6).attr(&quot;y&quot;,-n.top).attr(&quot;text-anchor&quot;,&quot;start&quot;).attr(&quot;dy&quot;,&quot;.9em&quot;),C.select(&quot;.nv-hoverValue .nv-yValue&quot;).text(l(t.y()(c[u[0]],u[0])))}function M(){function r(e,n){var r=Math.abs(t.x()(e[0],0)-n),i=0;for(var s=0;s&lt;e.length;s++)Math.abs(t.x()(e[s],s)-n)&lt;r&amp;&amp;(r=Math.abs(t.x()(e[s],s)-n),i=s);return i}if(a)return;var e=d3.mouse(this)[0]-n.left;u=[r(c,Math.round(s.invert(e)))],O()}var m=d3.select(this),g=(r||parseInt(m.style(&quot;width&quot;))||960)-n.left-n.right,b=(i||parseInt(m.style(&quot;height&quot;))||400)-n.top-n.bottom;v.update=function(){v(e)},v.container=this;if(!c||!c.length){var w=m.selectAll(&quot;.nv-noData&quot;).data([d]);return w.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),w.attr(&quot;x&quot;,n.left+g/2).attr(&quot;y&quot;,n.top+b/2).text(function(e){return e}),v}m.selectAll(&quot;.nv-noData&quot;).remove();var E=t.y()(c[c.length-1],c.length-1);s=t.xScale(),o=t.yScale();var S=m.selectAll(&quot;g.nv-wrap.nv-sparklineplus&quot;).data([c]),T=S.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-sparklineplus&quot;),N=T.append(&quot;g&quot;),C=S.select(&quot;g&quot;);N.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-sparklineWrap&quot;),N.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-valueWrap&quot;),N.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-hoverArea&quot;),S.attr(&quot;transform&quot;,&quot;translate(&quot;+n.left+&quot;,&quot;+n.top+&quot;)&quot;);var k=C.select(&quot;.nv-sparklineWrap&quot;);t.width(g).height(b),k.call(t);var L=C.select(&quot;.nv-valueWrap&quot;),A=L.selectAll(&quot;.nv-currentValue&quot;).data([E]);A.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nv-currentValue&quot;).attr(&quot;dx&quot;,p?-8:8).attr(&quot;dy&quot;,&quot;.9em&quot;).style(&quot;text-anchor&quot;,p?&quot;end&quot;:&quot;start&quot;),A.attr(&quot;x&quot;,g+(p?n.right:0)).attr(&quot;y&quot;,h?function(e){return o(e)}:0).style(&quot;fill&quot;,t.color()(c[c.length-1],c.length-1)).text(l(E)),N.select(&quot;.nv-hoverArea&quot;).append(&quot;rect&quot;).on(&quot;mousemove&quot;,M).on(&quot;click&quot;,function(){a=!a}).on(&quot;mouseout&quot;,function(){u=[],O()}),C.select(&quot;.nv-hoverArea rect&quot;).attr(&quot;transform&quot;,function(e){return&quot;translate(&quot;+ -n.left+&quot;,&quot;+ -n.top+&quot;)&quot;}).attr(&quot;width&quot;,g+n.left+n.right).attr(&quot;height&quot;,b+n.top)}),v}var t=e.models.sparkline(),n={top:15,right:100,bottom:10,left:50},r=null,i=null,s,o,u=[],a=!1,f=d3.format(&quot;,r&quot;),l=d3.format(&quot;,.2f&quot;),c=!0,h=!0,p=!1,d=&quot;No Data Available.&quot;;return v.sparkline=t,d3.rebind(v,t,&quot;x&quot;,&quot;y&quot;,&quot;xScale&quot;,&quot;yScale&quot;,&quot;color&quot;),v.options=e.utils.optionsFunc.bind(v),v.margin=function(e){return arguments.length?(n.top=typeof e.top!=&quot;undefined&quot;?e.top:n.top,n.right=typeof e.right!=&quot;undefined&quot;?e.right:n.right,n.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:n.bottom,n.left=typeof e.left!=&quot;undefined&quot;?e.left:n.left,v):n},v.width=function(e){return arguments.length?(r=e,v):r},v.height=function(e){return arguments.length?(i=e,v):i},v.xTickFormat=function(e){return arguments.length?(f=e,v):f},v.yTickFormat=function(e){return arguments.length?(l=e,v):l},v.showValue=function(e){return arguments.length?(c=e,v):c},v.alignValue=function(e){return arguments.length?(h=e,v):h},v.rightAlignValue=function(e){return arguments.length?(p=e,v):p},v.noData=function(e){return arguments.length?(d=e,v):d},v},e.models.stackedArea=function(){&quot;use strict&quot;;function g(e){return e.each(function(e){var a=n-t.left-t.right,b=r-t.top-t.bottom,w=d3.select(this);p=v.xScale(),d=v.yScale();var E=e;e.forEach(function(e,t){e.seriesIndex=t,e.values=e.values.map(function(e,n){return e.index=n,e.seriesIndex=t,e})});var S=e.filter(function(e){return!e.disabled});e=d3.layout.stack().order(l).offset(f).values(function(e){return e.values}).x(o).y(u).out(function(e,t,n){var r=u(e)===0?0:n;e.display={y:r,y0:t}})(S);var T=w.selectAll(&quot;g.nv-wrap.nv-stackedarea&quot;).data([e]),N=T.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-stackedarea&quot;),C=N.append(&quot;defs&quot;),k=N.append(&quot;g&quot;),L=T.select(&quot;g&quot;);k.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-areaWrap&quot;),k.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-scatterWrap&quot;),T.attr(&quot;transform&quot;,&quot;translate(&quot;+t.left+&quot;,&quot;+t.top+&quot;)&quot;),v.width(a).height(b).x(o).y(function(e){return e.display.y+e.display.y0}).forceY([0]).color(e.map(function(e,t){return e.color||i(e,e.seriesIndex)}));var A=L.select(&quot;.nv-scatterWrap&quot;).datum(e);A.call(v),C.append(&quot;clipPath&quot;).attr(&quot;id&quot;,&quot;nv-edge-clip-&quot;+s).append(&quot;rect&quot;),T.select(&quot;#nv-edge-clip-&quot;+s+&quot; rect&quot;).attr(&quot;width&quot;,a).attr(&quot;height&quot;,b),L.attr(&quot;clip-path&quot;,h?&quot;url(#nv-edge-clip-&quot;+s+&quot;)&quot;:&quot;&quot;);var O=d3.svg.area().x(function(e,t){return p(o(e,t))}).y0(function(e){return d(e.display.y0)}).y1(function(e){return d(e.display.y+e.display.y0)}).interpolate(c),M=d3.svg.area().x(function(e,t){return p(o(e,t))}).y0(function(e){return d(e.display.y0)}).y1(function(e){return d(e.display.y0)}),_=L.select(&quot;.nv-areaWrap&quot;).selectAll(&quot;path.nv-area&quot;).data(function(e){return e});_.enter().append(&quot;path&quot;).attr(&quot;class&quot;,function(e,t){return&quot;nv-area nv-area-&quot;+t}).attr(&quot;d&quot;,function(e,t){return M(e.values,e.seriesIndex)}).on(&quot;mouseover&quot;,function(e,t){d3.select(this).classed(&quot;hover&quot;,!0),m.areaMouseover({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}).on(&quot;mouseout&quot;,function(e,t){d3.select(this).classed(&quot;hover&quot;,!1),m.areaMouseout({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}).on(&quot;click&quot;,function(e,t){d3.select(this).classed(&quot;hover&quot;,!1),m.areaClick({point:e,series:e.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e.seriesIndex})}),_.exit().remove(),_.style(&quot;fill&quot;,function(e,t){return e.color||i(e,e.seriesIndex)}).style(&quot;stroke&quot;,function(e,t){return e.color||i(e,e.seriesIndex)}),_.transition().attr(&quot;d&quot;,function(e,t){return O(e.values,t)}),v.dispatch.on(&quot;elementMouseover.area&quot;,function(e){L.select(&quot;.nv-chart-&quot;+s+&quot; .nv-area-&quot;+e.seriesIndex).classed(&quot;hover&quot;,!0)}),v.dispatch.on(&quot;elementMouseout.area&quot;,function(e){L.select(&quot;.nv-chart-&quot;+s+&quot; .nv-area-&quot;+e.seriesIndex).classed(&quot;hover&quot;,!1)}),g.d3_stackedOffset_stackPercent=function(e){var t=e.length,n=e[0].length,r=1/t,i,s,o,a=[];for(s=0;s&lt;n;++s){for(i=0,o=0;i&lt;E.length;i++)o+=u(E[i].values[s]);if(o)for(i=0;i&lt;t;i++)e[i][s][1]/=o;else for(i=0;i&lt;t;i++)e[i][s][1]=r}for(s=0;s&lt;n;++s)a[s]=0;return a}}),g}var t={top:0,right:0,bottom:0,left:0},n=960,r=500,i=e.utils.defaultColor(),s=Math.floor(Math.random()*1e5),o=function(e){return e.x},u=function(e){return e.y},a=&quot;stack&quot;,f=&quot;zero&quot;,l=&quot;default&quot;,c=&quot;linear&quot;,h=!1,p,d,v=e.models.scatter(),m=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;areaClick&quot;,&quot;areaMouseover&quot;,&quot;areaMouseout&quot;);return v.size(2.2).sizeDomain([2.2,2.2]),v.dispatch.on(&quot;elementClick.area&quot;,function(e){m.areaClick(e)}),v.dispatch.on(&quot;elementMouseover.tooltip&quot;,function(e){e.pos=[e.pos[0]+t.left,e.pos[1]+t.top],m.tooltipShow(e)}),v.dispatch.on(&quot;elementMouseout.tooltip&quot;,function(e){m.tooltipHide(e)}),g.dispatch=m,g.scatter=v,d3.rebind(g,v,&quot;interactive&quot;,&quot;size&quot;,&quot;xScale&quot;,&quot;yScale&quot;,&quot;zScale&quot;,&quot;xDomain&quot;,&quot;yDomain&quot;,&quot;xRange&quot;,&quot;yRange&quot;,&quot;sizeDomain&quot;,&quot;forceX&quot;,&quot;forceY&quot;,&quot;forceSize&quot;,&quot;clipVoronoi&quot;,&quot;useVoronoi&quot;,&quot;clipRadius&quot;,&quot;highlightPoint&quot;,&quot;clearHighlights&quot;),g.options=e.utils.optionsFunc.bind(g),g.x=function(e){return arguments.length?(o=d3.functor(e),g):o},g.y=function(e){return arguments.length?(u=d3.functor(e),g):u},g.margin=function(e){return arguments.length?(t.top=typeof e.top!=&quot;undefined&quot;?e.top:t.top,t.right=typeof e.right!=&quot;undefined&quot;?e.right:t.right,t.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:t.bottom,t.left=typeof e.left!=&quot;undefined&quot;?e.left:t.left,g):t},g.width=function(e){return arguments.length?(n=e,g):n},g.height=function(e){return arguments.length?(r=e,g):r},g.clipEdge=function(e){return arguments.length?(h=e,g):h},g.color=function(t){return arguments.length?(i=e.utils.getColor(t),g):i},g.offset=function(e){return arguments.length?(f=e,g):f},g.order=function(e){return arguments.length?(l=e,g):l},g.style=function(e){if(!arguments.length)return a;a=e;switch(a){case&quot;stack&quot;:g.offset(&quot;zero&quot;),g.order(&quot;default&quot;);break;case&quot;stream&quot;:g.offset(&quot;wiggle&quot;),g.order(&quot;inside-out&quot;);break;case&quot;stream-center&quot;:g.offset(&quot;silhouette&quot;),g.order(&quot;inside-out&quot;);break;case&quot;expand&quot;:g.offset(&quot;expand&quot;),g.order(&quot;default&quot;);break;case&quot;stack_percent&quot;:g.offset(g.d3_stackedOffset_stackPercent),g.order(&quot;default&quot;)}return g},g.interpolate=function(e){return arguments.length?(c=e,g):c},g},e.models.stackedAreaChart=function(){&quot;use strict&quot;;function M(y){return y.each(function(y){var _=d3.select(this),D=this,P=(a||parseInt(_.style(&quot;width&quot;))||960)-u.left-u.right,H=(f||parseInt(_.style(&quot;height&quot;))||400)-u.top-u.bottom;M.update=function(){_.transition().duration(A).call(M)},M.container=this,S.disabled=y.map(function(e){return!!e.disabled});if(!x){var B;x={};for(B in S)S[B]instanceof Array?x[B]=S[B].slice(0):x[B]=S[B]}if(!y||!y.length||!y.filter(function(e){return e.values.length}).length){var j=_.selectAll(&quot;.nv-noData&quot;).data([T]);return j.enter().append(&quot;text&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-noData&quot;).attr(&quot;dy&quot;,&quot;-.7em&quot;).style(&quot;text-anchor&quot;,&quot;middle&quot;),j.attr(&quot;x&quot;,u.left+P/2).attr(&quot;y&quot;,u.top+H/2).text(function(e){return e}),M}_.selectAll(&quot;.nv-noData&quot;).remove(),b=t.xScale(),w=t.yScale();var F=_.selectAll(&quot;g.nv-wrap.nv-stackedAreaChart&quot;).data([y]),I=F.enter().append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nvd3 nv-wrap nv-stackedAreaChart&quot;).append(&quot;g&quot;),q=F.select(&quot;g&quot;);I.append(&quot;rect&quot;).style(&quot;opacity&quot;,0),I.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-x nv-axis&quot;),I.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-y nv-axis&quot;),I.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-stackedWrap&quot;),I.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-legendWrap&quot;),I.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-controlsWrap&quot;),I.append(&quot;g&quot;).attr(&quot;class&quot;,&quot;nv-interactive&quot;),q.select(&quot;rect&quot;).attr(&quot;width&quot;,P).attr(&quot;height&quot;,H);if(h){var R=c?P-C:P;i.width(R),q.select(&quot;.nv-legendWrap&quot;).datum(y).call(i),u.top!=i.height()&amp;&amp;(u.top=i.height(),H=(f||parseInt(_.style(&quot;height&quot;))||400)-u.top-u.bottom),q.select(&quot;.nv-legendWrap&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+(P-R)+&quot;,&quot;+ -u.top+&quot;)&quot;)}if(c){var U=[{key:L.stacked||&quot;Stacked&quot;,metaKey:&quot;Stacked&quot;,disabled:t.style()!=&quot;stack&quot;,style:&quot;stack&quot;},{key:L.stream||&quot;Stream&quot;,metaKey:&quot;Stream&quot;,disabled:t.style()!=&quot;stream&quot;,style:&quot;stream&quot;},{key:L.expanded||&quot;Expanded&quot;,metaKey:&quot;Expanded&quot;,disabled:t.style()!=&quot;expand&quot;,style:&quot;expand&quot;},{key:L.stack_percent||&quot;Stack %&quot;,metaKey:&quot;Stack_Percent&quot;,disabled:t.style()!=&quot;stack_percent&quot;,style:&quot;stack_percent&quot;}];C=k.length/3*260,U=U.filter(function(e){return k.indexOf(e.metaKey)!==-1}),s.width(C).color([&quot;#444&quot;,&quot;#444&quot;,&quot;#444&quot;]),q.select(&quot;.nv-controlsWrap&quot;).datum(U).call(s),u.top!=Math.max(s.height(),i.height())&amp;&amp;(u.top=Math.max(s.height(),i.height()),H=(f||parseInt(_.style(&quot;height&quot;))||400)-u.top-u.bottom),q.select(&quot;.nv-controlsWrap&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+ -u.top+&quot;)&quot;)}F.attr(&quot;transform&quot;,&quot;translate(&quot;+u.left+&quot;,&quot;+u.top+&quot;)&quot;),v&amp;&amp;q.select(&quot;.nv-y.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(&quot;+P+&quot;,0)&quot;),m&amp;&amp;(o.width(P).height(H).margin({left:u.left,top:u.top}).svgContainer(_).xScale(b),F.select(&quot;.nv-interactive&quot;).call(o)),t.width(P).height(H);var z=q.select(&quot;.nv-stackedWrap&quot;).datum(y);z.transition().call(t),p&amp;&amp;(n.scale(b).ticks(P/100).tickSize(-H,0),q.select(&quot;.nv-x.nv-axis&quot;).attr(&quot;transform&quot;,&quot;translate(0,&quot;+H+&quot;)&quot;),q.select(&quot;.nv-x.nv-axis&quot;).transition().duration(0).call(n)),d&amp;&amp;(r.scale(w).ticks(t.offset()==&quot;wiggle&quot;?0:H/36).tickSize(-P,0).setTickFormat(t.style()==&quot;expand&quot;||t.style()==&quot;stack_percent&quot;?d3.format(&quot;%&quot;):E),q.select(&quot;.nv-y.nv-axis&quot;).transition().duration(0).call(r)),t.dispatch.on(&quot;areaClick.toggle&quot;,function(e){y.filter(function(e){return!e.disabled}).length===1?y.forEach(function(e){e.disabled=!1}):y.forEach(function(t,n){t.disabled=n!=e.seriesIndex}),S.disabled=y.map(function(e){return!!e.disabled}),N.stateChange(S),M.update()}),i.dispatch.on(&quot;stateChange&quot;,function(e){S.disabled=e.disabled,N.stateChange(S),M.update()}),s.dispatch.on(&quot;legendClick&quot;,function(e,n){if(!e.disabled)return;U=U.map(function(e){return e.disabled=!0,e}),e.disabled=!1,t.style(e.style),S.style=t.style(),N.stateChange(S),M.update()}),o.dispatch.on(&quot;elementMousemove&quot;,function(i){t.clearHighlights();var s,a,f,c=[];y.filter(function(e,t){return e.seriesIndex=t,!e.disabled}).forEach(function(n,r){a=e.interactiveBisect(n.values,i.pointXValue,M.x()),t.highlightPoint(r,a,!0);var o=n.values[a];if(typeof o==&quot;undefined&quot;)return;typeof s==&quot;undefined&quot;&amp;&amp;(s=o),typeof f==&quot;undefined&quot;&amp;&amp;(f=M.xScale()(M.x()(o,a)));var u=t.style()==&quot;expand&quot;?o.display.y:M.y()(o,a);c.push({key:n.key,value:u,color:l(n,n.seriesIndex),stackedValue:o.display})}),c.reverse();if(c.length&gt;2){var h=M.yScale().invert(i.mouseY),p=Infinity,d=null;c.forEach(function(e,t){h=Math.abs(h);var n=Math.abs(e.stackedValue.y0),r=Math.abs(e.stackedValue.y);if(h&gt;=n&amp;&amp;h&lt;=r+n){d=t;return}}),d!=null&amp;&amp;(c[d].highlight=!0)}var v=n.tickFormat()(M.x()(s,a)),m=t.style()==&quot;expand&quot;?function(e,t){return d3.format(&quot;.1%&quot;)(e)}:function(e,t){return r.tickFormat()(e)};o.tooltip.position({left:f+u.left,top:i.mouseY+u.top}).chartContainer(D.parentNode).enabled(g).valueFormatter(m).data({value:v,series:c})(),o.renderGuideLine(f)}),o.dispatch.on(&quot;elementMouseout&quot;,function(e){N.tooltipHide(),t.clearHighlights()}),N.on(&quot;tooltipShow&quot;,function(e){g&amp;&amp;O(e,D.parentNode)}),N.on(&quot;changeState&quot;,function(e){typeof e.disabled!=&quot;undefined&quot;&amp;&amp;y.length===e.disabled.length&amp;&amp;(y.forEach(function(t,n){t.disabled=e.disabled[n]}),S.disabled=e.disabled),typeof e.style!=&quot;undefined&quot;&amp;&amp;t.style(e.style),M.update()})}),M}var t=e.models.stackedArea(),n=e.models.axis(),r=e.models.axis(),i=e.models.legend(),s=e.models.legend(),o=e.interactiveGuideline(),u={top:30,right:25,bottom:50,left:60},a=null,f=null,l=e.utils.defaultColor(),c=!0,h=!0,p=!0,d=!0,v=!1,m=!1,g=!0,y=function(e,t,n,r,i){return&quot;&lt;h3&gt;&quot;+e+&quot;&lt;/h3&gt;&quot;+&quot;&lt;p&gt;&quot;+n+&quot; on &quot;+t+&quot;&lt;/p&gt;&quot;},b,w,E=d3.format(&quot;,.2f&quot;),S={style:t.style()},x=null,T=&quot;No Data Available.&quot;,N=d3.dispatch(&quot;tooltipShow&quot;,&quot;tooltipHide&quot;,&quot;stateChange&quot;,&quot;changeState&quot;),C=250,k=[&quot;Stacked&quot;,&quot;Stream&quot;,&quot;Expanded&quot;],L={},A=250;n.orient(&quot;bottom&quot;).tickPadding(7),r.orient(v?&quot;right&quot;:&quot;left&quot;),s.updateState(!1);var O=function(i,s){var o=i.pos[0]+(s.offsetLeft||0),u=i.pos[1]+(s.offsetTop||0),a=n.tickFormat()(t.x()(i.point,i.pointIndex)),f=r.tickFormat()(t.y()(i.point,i.pointIndex)),l=y(i.series.key,a,f,i,M);e.tooltip.show([o,u],l,i.value&lt;0?&quot;n&quot;:&quot;s&quot;,null,s)};return t.dispatch.on(&quot;tooltipShow&quot;,function(e){e.pos=[e.pos[0]+u.left,e.pos[1]+u.top],N.tooltipShow(e)}),t.dispatch.on(&quot;tooltipHide&quot;,function(e){N.tooltipHide(e)}),N.on(&quot;tooltipHide&quot;,function(){g&amp;&amp;e.tooltip.cleanup()}),M.dispatch=N,M.stacked=t,M.legend=i,M.controls=s,M.xAxis=n,M.yAxis=r,M.interactiveLayer=o,d3.rebind(M,t,&quot;x&quot;,&quot;y&quot;,&quot;size&quot;,&quot;xScale&quot;,&quot;yScale&quot;,&quot;xDomain&quot;,&quot;yDomain&quot;,&quot;xRange&quot;,&quot;yRange&quot;,&quot;sizeDomain&quot;,&quot;interactive&quot;,&quot;useVoronoi&quot;,&quot;offset&quot;,&quot;order&quot;,&quot;style&quot;,&quot;clipEdge&quot;,&quot;forceX&quot;,&quot;forceY&quot;,&quot;forceSize&quot;,&quot;interpolate&quot;),M.options=e.utils.optionsFunc.bind(M),M.margin=function(e){return arguments.length?(u.top=typeof e.top!=&quot;undefined&quot;?e.top:u.top,u.right=typeof e.right!=&quot;undefined&quot;?e.right:u.right,u.bottom=typeof e.bottom!=&quot;undefined&quot;?e.bottom:u.bottom,u.left=typeof e.left!=&quot;undefined&quot;?e.left:u.left,M):u},M.width=function(e){return arguments.length?(a=e,M):a},M.height=function(e){return arguments.length?(f=e,M):f},M.color=function(n){return arguments.length?(l=e.utils.getColor(n),i.color(l),t.color(l),M):l},M.showControls=function(e){return arguments.length?(c=e,M):c},M.showLegend=function(e){return arguments.length?(h=e,M):h},M.showXAxis=function(e){return arguments.length?(p=e,M):p},M.showYAxis=function(e){return arguments.length?(d=e,M):d},M.rightAlignYAxis=function(e){return arguments.length?(v=e,r.orient(e?&quot;right&quot;:&quot;left&quot;),M):v},M.useInteractiveGuideline=function(e){return arguments.length?(m=e,e===!0&amp;&amp;(M.interactive(!1),M.useVoronoi(!1)),M):m},M.tooltip=function(e){return arguments.length?(y=e,M):y},M.tooltips=function(e){return arguments.length?(g=e,M):g},M.tooltipContent=function(e){return arguments.length?(y=e,M):y},M.state=function(e){return arguments.length?(S=e,M):S},M.defaultState=function(e){return arguments.length?(x=e,M):x},M.noData=function(e){return arguments.length?(T=e,M):T},M.transitionDuration=function(e){return arguments.length?(A=e,M):A},M.controlsData=function(e){return arguments.length?(k=e,M):k},M.controlLabels=function(e){return arguments.length?typeof e!=&quot;object&quot;?L:(L=e,M):L},r.setTickFormat=r.tickFormat,r.tickFormat=function(e){return arguments.length?(E=e,r):E},M}})();</div></pre></div>
            </td>
          </tr>
        </table>
  </div>

  </div>
</div>

<a href="#jump-to-line" rel="facebox[.linejump]" data-hotkey="l" class="js-jump-to-line" style="display:none">Jump to Line</a>
<div id="jump-to-line" style="display:none">
  <form accept-charset="UTF-8" class="js-jump-to-line-form">
    <input class="linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" autofocus>
    <button type="submit" class="button">Go</button>
  </form>
</div>

        </div>

      </div><!-- /.repo-container -->
      <div class="modal-backdrop"></div>
    </div><!-- /.container -->
  </div><!-- /.site -->


    </div><!-- /.wrapper -->

      <div class="container">
  <div class="site-footer">
    <ul class="site-footer-links right">
      <li><a href="https://status.github.com/">Status</a></li>
      <li><a href="http://developer.github.com">API</a></li>
      <li><a href="http://training.github.com">Training</a></li>
      <li><a href="http://shop.github.com">Shop</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="/about">About</a></li>

    </ul>

    <a href="/">
      <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
    </a>

    <ul class="site-footer-links">
      <li>&copy; 2014 <span title="0.02684s from github-fe127-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="/site/terms">Terms</a></li>
        <li><a href="/site/privacy">Privacy</a></li>
        <li><a href="/security">Security</a></li>
        <li><a href="/contact">Contact</a></li>
    </ul>
  </div><!-- /.site-footer -->
</div><!-- /.container -->


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-fullscreen-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="js-fullscreen-contents" placeholder="" data-suggester="fullscreen_suggester"></textarea>
          <div class="suggester-container">
              <div class="suggester fullscreen-suggester js-navigation-container" id="fullscreen_suggester"
                 data-url="/novus/nvd3/suggestions/commit">
              </div>
          </div>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped leftwards" title="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped leftwards"
      title="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <a href="#" class="octicon octicon-remove-close close js-ajax-error-dismiss"></a>
      Something went wrong with that request. Please try again.
    </div>

  </body>
</html>

