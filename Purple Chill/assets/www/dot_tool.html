<!DOCTYPE HTML>
<html>
	<head>
		<title>CSS DOT</title>
        <script src="js/jquery-1.11.1.js" ></script>
		<style type="text/css">
			#dot {
				margin-left: auto;
				margin-right: auto;
				margin-top: 100px;
				width: 100px;
				height: 100px;
				background: gainsboro;
				-moz-border-radius: 50px;
				-webkit-border-radius: 50px;
				border-radius: 50px;

				-webkit-animation: breathe 100s; 
				-webkit animation-timing-function: linear;
                
			}
            
            #in {			
                -webkit-animation: in 100s; 
				-webkit animation-timing-function: linear;
                text-align: center;
                text-size: 36px;
                font-family: Roboto Light;
                font-style: italic;
             }
            
            #out {				
                -webkit-animation: out 100s; 
				-webkit animation-timing-function: linear;
                text-align: center;
                text-size: 36px;
                font-family: Roboto Light;
                font-style: italic;
             }
                
            @-webkit-keyframes in {
				0%  { opacity: 1;}
				7%  {opacity: 1;}
				10% {opacity: 0;}
				17% { opacity: 0;}
				20% { opacity: 1;}
				27% {opacity: 1;}
				30% {opacity: 0;}
				37% { opacity: 0;}
				40% { opacity: 1;}
				47% {opacity: 1;}
				50% {opacity: 0;}
				57% { opacity: 0;}
				60% { opacity: 1;}
				67% {opacity: 1;}
				70% {opacity: 0;}
				77% { opacity: 0;}
				80% { opacity: 1;}
				87% {opacity: 1;}
				90% {opacity: 0;}
				97% { opacity: 0;}
				100% { opacity: 0;}
			}
            
            @-webkit-keyframes out {
				0%  {opacity: 0;}
				7%  { opacity: 0;}
				10% { opacity: 1;}
				17% {opacity: 1;}
				20% {opacity: 0;}
				27% { opacity: 0;}
				30% { opacity: 1;}
				37% {opacity: 1;}
				40% {opacity: 0;}
				47% { opacity: 0;}
				50% { opacity: 1;}
				57% {opacity: 1;}
				60% {opacity: 0;}
				67% { opacity: 0;}
				70% { opacity: 1;}
				77% {opacity: 1;}
				80% {opacity: 0;}
				87% { opacity: 0;}
				90% { opacity: 1;}
				97% {opacity: 1;}
				100% {opacity: 0;}
			}

			@-webkit-keyframes breathe {
				0%  { border-radius: 50px; width: 100px; height: 100px; }
				7%  { border-radius: 100px; width: 200px; height: 200px; }
				10% { border-radius: 100px; width: 200px; height: 200px; }
				17% { border-radius: 50px; width: 100px; height: 100px; }
				20% { border-radius: 50px; width: 100px; height: 100px; }
				27% { border-radius: 100px; width: 200px; height: 200px; }
				30% { border-radius: 100px; width: 200px; height: 200px; }
				37% { border-radius: 50px; width: 100px; height: 100px; }
				40% { border-radius: 50px; width: 100px; height: 100px; }
				47% { border-radius: 100px; width: 200px; height: 200px; }
				50% { border-radius: 100px; width: 200px; height: 200px; }
				57% { border-radius: 50px; width: 100px; height: 100px; }
				60% { border-radius: 50px; width: 100px; height: 100px; }
				67% { border-radius: 100px; width: 200px; height: 200px; }
				70% { border-radius: 100px; width: 200px; height: 200px; }
				77% { border-radius: 50px; width: 100px; height: 100px; }
				80% { border-radius: 50px; width: 100px; height: 100px; }
				87% { border-radius: 100px; width: 200px; height: 200px; }
				90% { border-radius: 100px; width: 200px; height: 200px; }
				97% { border-radius: 50px; width: 100px; height: 100px; }
				100% { border-radius: 50px; width: 100px; height: 100px; }
			}
		</style>
	</head>
	<body>
    <script type="text/javascript">
            $( document ).ready(function() {
            var start = new Date();
            var maxTime = 100000;
            var timeoutVal = Math.floor(maxTime/100);
            animateUpdate();

            function updateProgress(percentage) {
                $('#pbar_innerdiv').css("width", percentage + "%");
            }

            function animateUpdate() {
                var now = new Date();
                var timeDiff = now.getTime() - start.getTime();
                var perc = Math.round((timeDiff/maxTime)*100);
                console.log(perc);
                  if (perc <= 100) {
                   updateProgress(perc);
                   setTimeout(animateUpdate, timeoutVal);
              }
            }
        });</script>
    <div id="pbar_outerdiv" style="width: 80%; margin-left: auto; margin-right: auto; height: 10px; border: 2px solid grey; z-index: 1; position: relative; border-radius: 5px; -moz-border-radius: 5px;">
        <div id="pbar_innerdiv" style="background-color: #ac73a6; z-index: 2; height: 100%; width: 0%;"></div>
               <div id="in"> <p>breathe in</p> </div>
               <div id="out"> <p>breathe out</p> </div>
    </div>
		<div id="dot"></div>
	</body>
</html>
