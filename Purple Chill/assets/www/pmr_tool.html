<!DOCTYPE HTML>
<html>
	<head>
		<title>PMR</title>
        <script src="js/jquery-1.11.1.js" ></script>
		<style type="text/css">
			#pmr
			{
				margin: 0;
                padding: 0;
			}
			
			div#pmr
			{ 
	           	background-color:  #ffecc0;
           		background-image: url("../images/pmr_base.png");
				background-repeat: no-repeat;
                background-attachment: fixed;
				background-position: center center;			           
				-webkit-animation: pmr 600s;
				-webkit animation-timing-function: linear;
				
				position:fixed !important;
				position:absolute;
				top:0;
				right:0;
				bottom:0;
				left:0;
			}
            
             #contract {			
                -webkit-animation: contract 600s; 
				-webkit animation-timing-function: linear;
                text-align: left;
                text-size: 36px;
                font-family: Roboto Light;
                font-style: italic;
             }
            
            #relax {				
                -webkit-animation: relax 600s; 
				-webkit animation-timing-function: linear;
                text-align: right;
                text-size: 36px;
                font-family: Roboto Light;
                font-style: italic;
                margin-top: -36px;
             }

			@-webkit-keyframes pmr 
			{
				0% 	{background-image: url("../images/pmr_base.png");  background-color:  #ffecc0;  }
                1% 	{background-image: url("../images/pmr_left_arm.png");  background-color:  #ffecc0;  }
				6%  {background-image: url("../images/pmr_left_arm.png"); background-color:  #ffecc0;  }
				7%  {background-image: url("../images/pmr_left_arm.png"); background-color: #c5eaf8;  }
				13% {background-image: url("../images/pmr_left_arm.png"); background-color: #c5eaf8;  }
				14% {background-image: url("../images/pmr_right_arm.png"); background-color:  #ffecc0;  }
				20% {background-image: url("../images/pmr_right_arm.png"); background-color:  #ffecc0; }
				21% {background-image: url("../images/pmr_right_arm.png"); background-color: #c5eaf8; }
				27% {background-image: url("../images/pmr_right_arm.png"); background-color: #c5eaf8; }
				28% {background-image: url("../images/pmr_head_neck.png"); background-color:  #ffecc0; }
				34% {background-image: url("../images/pmr_head_neck.png"); background-color:  #ffecc0; }
				35% {background-image: url("../images/pmr_head_neck.png"); background-color: #c5eaf8; }
				41% {background-image: url("../images/pmr_head_neck.png"); background-color: #c5eaf8; }
				42% {background-image: url("../images/pmr_face.png"); background-color:  #ffecc0; }
				48% {background-image: url("../images/pmr_face.png"); background-color:  #ffecc0; }
				49% {background-image: url("../images/pmr_face.png"); background-color: #c5eaf8; }
				55% {background-image: url("../images/pmr_face.png"); background-color: #c5eaf8; }
				56% {background-image: url("../images/pmr_torso.png"); background-color:  #ffecc0; }
				62% {background-image: url("../images/pmr_torso.png"); background-color:  #ffecc0; }
				63% {background-image: url("../images/pmr_torso.png"); background-color: #c5eaf8; }
				69% {background-image: url("../images/pmr_torso.png"); background-color: #c5eaf8; }
				70% {background-image: url("../images/pmr_left_leg.png"); background-color:  #ffecc0; }
				76% {background-image: url("../images/pmr_left_leg.png"); background-color:  #ffecc0; }
				77% {background-image: url("../images/pmr_left_leg.png"); background-color: #c5eaf8; }
				83% {background-image: url("../images/pmr_left_leg.png"); background-color: #c5eaf8; }
				84% {background-image: url("../images/pmr_right_leg.png"); background-color:  #ffecc0; }
				90% {background-image: url("../images/pmr_right_leg.png"); background-color:  #ffecc0; }
				91% {background-image: url("../images/pmr_right_leg.png"); background-color: #c5eaf8; }
				99% {background-image: url("../images/pmr_right_leg.png"); background-color: #c5eaf8; }
				100% {background-image: url("../images/pmr_base.png"); background-color:  #ffecc0; }
			}
            
            			@-webkit-keyframes contract 
			{
				0% 	{opacity: 1;}
                1% 	{opacity: 1;}
				6%  {opacity: 1;}
				7%  {opacity: 0;}
				13% {opacity: 0;}
				14% {opacity: 1;}
				20% {opacity: 1;}
				21% {opacity: 0;}
				27% {opacity: 0;}
				28% {opacity: 1;}
				34% {opacity: 1;}
				35% {opacity: 0;}
				41% {opacity: 0;}
				42% {opacity: 1;}
				48% {opacity: 1;}
				49% {opacity: 0;}
				55% {opacity: 0;}
				56% {opacity: 1;}
				62% {opacity: 1;}
				63% {opacity: 0;}
				69% {opacity: 0;}
				70% {opacity: 1;}
				76% {opacity: 1;}
				77% {opacity: 0;}
				83% {opacity: 0;}
				84% {opacity: 1;}
				90% {opacity: 1;}
				91% {opacity: 0;}
				99% {opacity: 0;}
				100% {opacity: 0;}
			}
            
            			@-webkit-keyframes relax 
			{
				0% 	{opacity: 0;}
                1% 	{opacity: 0;}
				6%  {opacity: 0;}
				7%  {opacity: 1;}
				13% {opacity: 1;}
				14% {opacity: 0;}
				20% {opacity: 0;}
				21% {opacity: 1;}
				27% {opacity: 1;}
				28% {opacity: 0;}
				34% {opacity: 0;}
				35% {opacity: 1;}
				41% {opacity: 1;}
				42% {opacity: 0;}
				48% {opacity: 0;}
				49% {opacity: 1;}
				55% {opacity: 1;}
				56% {opacity: 0;}
				62% {opacity: 0;}
				63% {opacity: 1;}
				69% {opacity: 1;}
				70% {opacity: 0;}
				76% {opacity: 0;}
				77% {opacity: 1;}
				83% {opacity: 1;}
				84% {opacity: 0;}
				90% {opacity: 0;}
				91% {opacity: 1;}
				99% {opacity: 1;}
				100% {opacity: 0;}
			}
		</style>
	</head>
	<body>
		<div id="pmr"></div>
        <script type="text/javascript">
            $( document ).ready(function() {
            var start = new Date();
            var maxTime = 600000;
            var timeoutVal = Math.floor(maxTime/100);
            animateUpdate();

            function updateProgress(percentage) {
                $('#pbar_innerdiv').css("width", percentage + "%");
            }

            function animateUpdate() {
                var now = new Date();
                var timeDiff = now.getTime() - start.getTime();
                var perc = Math.round((timeDiff/maxTime)*100);
                console.log(perc);
                  if (perc <= 100) {
                   updateProgress(perc);
                   setTimeout(animateUpdate, timeoutVal);
              }
            }
        });</script>
        <div id="pbar_outerdiv" style="width: 80%; margin-left: auto; margin-right: auto; height: 10px; border: 2px solid grey; z-index: 1; position: relative; border-radius: 5px; -moz-border-radius: 5px;">
            <div id="pbar_innerdiv" style="background-color: #ac73a6; z-index: 2; height: 100%; width: 0%;"></div>
                <div id="contract"> <p>contract</p> </div>
               <div id="relax"> <p>relax</p> </div>
        </div>
	</body>
</html>